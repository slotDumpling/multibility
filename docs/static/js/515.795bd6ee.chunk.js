(self.webpackChunkmultibility=self.webpackChunkmultibility||[]).push([[515],{48926:function(t){function e(t,e,r,n,o,a,u){try{var c=t[a](u),i=c.value}catch(s){return void r(s)}c.done?e(i):Promise.resolve(i).then(n,o)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(o,a){var u=t.apply(r,n);function c(t){e(u,o,a,c,i,"next",t)}function i(t){e(u,o,a,c,i,"throw",t)}c(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},43269:function(t,e,r){var n=r(60379);t.exports=function(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=n(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,c=!0,i=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){i=!0,u=t},f:function(){try{c||null==r.return||r.return()}finally{if(i)throw u}}}},t.exports.__esModule=!0,t.exports.default=t.exports},16525:function(t,e,r){var n=r(58331);function o(){return"undefined"!==typeof Reflect&&Reflect.get?(t.exports=o=Reflect.get,t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=o=function(t,e,r){var o=n(t,e);if(o){var a=Object.getOwnPropertyDescriptor(o,e);return a.get?a.get.call(arguments.length<3?t:r):a.value}},t.exports.__esModule=!0,t.exports.default=t.exports),o.apply(this,arguments)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},58331:function(t,e,r){var n=r(29754);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=n(t)););return t},t.exports.__esModule=!0,t.exports.default=t.exports},96153:function(t,e,r){"use strict";function n(t,e){var r=document.createElement("canvas"),n=r.getContext("2d");if(!n)throw new Error("can't get virtual canvas context");return r.width=t,r.height=e,{canvas:r,context:n}}function o(t){t.width=1,t.height=1;var e=t.getContext("2d");null===e||void 0===e||e.clearRect(0,0,1,1)}r.d(e,{j:function(){return o},v:function(){return n}})},21176:function(t,e,r){"use strict";r.r(e),r.d(e,{LoadPDF:function(){return Z},getNotePageImage:function(){return _},getOneImage:function(){return b},getPDFImages:function(){return w}});var n=r(1413),o=r(29439),a=r(15861),u=r(87757),c=r.n(u),i=r(96153),s=r(92198),f=r(61842),p=r.n(f),l=r(24610),x=r(43661),h=r(62219),v=r.n(h),d=r(72058);x.GlobalWorkerOptions.workerSrc=v();var g=function(){var t=(0,a.Z)(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Uint8Array,t.next=3,e.arrayBuffer();case 3:return t.t1=t.sent,r=new t.t0(t.t1),t.abrupt("return",x.getDocument(r).promise);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=(0,a.Z)(c().mark((function t(e,r,n){var o,a,u,s,f,p,l,x,h;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getPage(r);case 2:return o=t.sent,a=o.getViewport({scale:n}),u=a.height,s=a.width,f=u/s,p=(0,i.v)(Math.floor(s*n),Math.floor(u*n)),l=p.canvas,x=p.context,t.next=9,o.render({canvasContext:x,viewport:a,transform:[n,0,0,n,0,0]}).promise;case 9:return h=l.toDataURL(),(0,i.j)(l),t.abrupt("return",[h,f]);case 12:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();function w(t){return y.apply(this,arguments)}function y(){return y=(0,a.Z)(c().mark((function t(e){var r,n,a,u,i,s,f,p,l,x,h,v=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=v.length>1&&void 0!==v[1]?v[1]:2,n=v.length>2?v[2]:void 0,t.next=4,g(e);case 4:a=t.sent,u=a.numPages,i=[],s=[],f=1;case 9:if(!(f<=u)){t.next=22;break}return t.next=12,m(a,f,r);case 12:p=t.sent,l=(0,o.Z)(p,2),x=l[0],h=l[1],i.push(x),s.push(h),n&&n(Math.floor(f/u*100));case 19:f+=1,t.next=9;break;case 22:return t.abrupt("return",{images:i,ratios:s});case 23:case"end":return t.stop()}}),t)}))),y.apply(this,arguments)}function b(t,e){return k.apply(this,arguments)}function k(){return k=(0,a.Z)(c().mark((function t(e,r){var n,a,u,i,s,f,p=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=p.length>2&&void 0!==p[2]?p[2]:2,t.next=3,g(e);case 3:if(a=t.sent,u=a.numPages,!(r>u)){t.next=7;break}throw new Error("index out of range");case 7:return t.next=9,m(a,r,n);case 9:return i=t.sent,s=(0,o.Z)(i,1),f=s[0],t.abrupt("return",f);case 13:case"end":return t.stop()}}),t)}))),k.apply(this,arguments)}function _(t,e){return P.apply(this,arguments)}function P(){return(P=(0,a.Z)(c().mark((function t(e,r){var n,o,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.mp)(e,r);case 2:if(!(n=t.sent)){t.next=5;break}return t.abrupt("return",n);case 5:return t.next=7,p().getItem("PDF_".concat(e));case 7:if(o=t.sent){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,b(o,r,2);case 12:return a=t.sent,(0,d.pW)(e,r,a),t.abrupt("return",a);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Z(t,e){return M.apply(this,arguments)}function M(){return(M=(0,a.Z)(c().mark((function t(e,r){var o,a,u,i,f,p,x,h;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e,.5,r);case 2:return o=t.sent,a=o.images,u=o.ratios,i={},f=[],a.forEach((function(t,e){var r=(0,l.v4)();i[r]={image:t,ratio:u[e],state:{strokes:{}},pdfIndex:e+1},f.push(r)})),p=e.name.replace(".pdf",""),t.next=11,e.arrayBuffer();case 11:return x=t.sent,h=new Blob([x],{type:"application/pdf"}),t.abrupt("return",(0,n.Z)((0,n.Z)({},(0,s.Xn)()),{},{name:p,withImg:!0,pdf:h,thumbnail:a[0],pageRec:i,pageOrder:f}));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},93414:function(){},70172:function(){},2001:function(){},33779:function(){},66558:function(){},82258:function(){}}]);
//# sourceMappingURL=515.795bd6ee.chunk.js.map