(self.webpackChunkmultibility=self.webpackChunkmultibility||[]).push([[973,515,683],{48926:function(t){function e(t,e,n,r,a,u,o){try{var c=t[u](o),s=c.value}catch(i){return void n(i)}c.done?e(s):Promise.resolve(s).then(r,a)}t.exports=function(t){return function(){var n=this,r=arguments;return new Promise((function(a,u){var o=t.apply(n,r);function c(t){e(o,a,u,c,s,"next",t)}function s(t){e(o,a,u,c,s,"throw",t)}c(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},43269:function(t,e,n){var r=n(60379);t.exports=function(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var a=0,u=function(){};return{s:u,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){s=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw o}}}},t.exports.__esModule=!0,t.exports.default=t.exports},16525:function(t,e,n){var r=n(58331);function a(){return"undefined"!==typeof Reflect&&Reflect.get?(t.exports=a=Reflect.get,t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=a=function(t,e,n){var a=r(t,e);if(a){var u=Object.getOwnPropertyDescriptor(a,e);return u.get?u.get.call(arguments.length<3?t:n):u.value}},t.exports.__esModule=!0,t.exports.default=t.exports),a.apply(this,arguments)}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},58331:function(t,e,n){var r=n(29754);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t},t.exports.__esModule=!0,t.exports.default=t.exports},96153:function(t,e,n){"use strict";function r(t,e){var n=document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("can't get virtual canvas context");return n.width=t,n.height=e,{canvas:n,context:r}}function a(t){t.width=1,t.height=1;var e=t.getContext("2d");null===e||void 0===e||e.clearRect(0,0,1,1)}n.d(e,{j:function(){return a},v:function(){return r}})},72058:function(t,e,n){"use strict";n.d(e,{eG:function(){return x},mp:function(){return f},pW:function(){return p}});var r=n(37762),a=n(93433),u=n(15861),o=n(87757),c=n.n(o),s=n(61842),i=n.n(s)().createInstance({name:"imageForage"}),f=function(){var t=(0,u.Z)(c().mark((function t(e,n){var r,u,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.getItem("LIST");case 2:if(t.t1=r=t.sent,t.t0=null!==t.t1,!t.t0){t.next=6;break}t.t0=void 0!==r;case 6:if(!t.t0){t.next=10;break}t.t2=r,t.next=11;break;case 10:t.t2=[];case 11:if(u=t.t2,o="".concat(e,"_").concat(n),u.includes(o)){t.next=15;break}return t.abrupt("return");case 15:return u=[o].concat((0,a.Z)(u.filter((function(t){return t!==o})))),t.next=18,i.setItem("LIST",u);case 18:return t.next=20,i.getItem(o);case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),p=function(){var t=(0,u.Z)(c().mark((function t(e,n,r){var u,o,s;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.getItem("LIST");case 2:if(t.t1=u=t.sent,t.t0=null!==t.t1,!t.t0){t.next=6;break}t.t0=void 0!==u;case 6:if(!t.t0){t.next=10;break}t.t2=u,t.next=11;break;case 10:t.t2=[];case 11:return o=t.t2,s="".concat(e,"_").concat(n),(o=[s].concat((0,a.Z)(o.filter((function(t){return t!==s}))))).length>10&&(o=o.slice(0,10)),t.next=17,i.setItem("LIST",o);case 17:return t.next=19,i.setItem(s,r);case 19:l();case 20:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),l=function(){var t=(0,u.Z)(c().mark((function t(){var e,n,a,u,o,s,f;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.getItem("LIST");case 2:if(t.t1=e=t.sent,t.t0=null!==t.t1,!t.t0){t.next=6;break}t.t0=void 0!==e;case 6:if(!t.t0){t.next=10;break}t.t2=e,t.next=11;break;case 10:t.t2=[];case 11:return n=t.t2,a=new Set(n),t.next=15,i.keys();case 15:u=t.sent,o=(0,r.Z)(u),t.prev=17,o.s();case 19:if((s=o.n()).done){t.next=28;break}if("LIST"!==(f=s.value)){t.next=23;break}return t.abrupt("continue",26);case 23:if(a.has(f)){t.next=26;break}return t.next=26,i.removeItem(f);case 26:t.next=19;break;case 28:t.next=33;break;case 30:t.prev=30,t.t3=t.catch(17),o.e(t.t3);case 33:return t.prev=33,o.f(),t.finish(33);case 36:case"end":return t.stop()}}),t,null,[[17,30,33,36]])})));return function(){return t.apply(this,arguments)}}(),x=function(){return i.clear()}},21176:function(t,e,n){"use strict";n.r(e),n.d(e,{LoadPDF:function(){return _},getNotePageImage:function(){return I},getOneImage:function(){return y},getPDFImages:function(){return g}});var r=n(1413),a=n(29439),u=n(15861),o=n(87757),c=n.n(o),s=n(96153),i=n(92198),f=n(61842),p=n.n(f),l=n(24610),x=n(43661),v=n(62219),h=n.n(v),d=n(72058);x.GlobalWorkerOptions.workerSrc=h();var m=function(){var t=(0,u.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Uint8Array,t.next=3,e.arrayBuffer();case 3:return t.t1=t.sent,n=new t.t0(t.t1),t.abrupt("return",x.getDocument(n).promise);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=(0,u.Z)(c().mark((function t(e,n,r){var a,u,o,i,f,p,l,x,v;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getPage(n);case 2:return a=t.sent,u=a.getViewport({scale:r}),o=u.height,i=u.width,f=o/i,p=(0,s.v)(Math.floor(i*r),Math.floor(o*r)),l=p.canvas,x=p.context,t.next=9,a.render({canvasContext:x,viewport:u,transform:[r,0,0,r,0,0]}).promise;case 9:return v=l.toDataURL(),(0,s.j)(l),t.abrupt("return",[v,f]);case 12:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}();function g(t){return w.apply(this,arguments)}function w(){return w=(0,u.Z)(c().mark((function t(e){var n,r,u,o,s,i,f,p,l,x,v,h=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=h.length>1&&void 0!==h[1]?h[1]:2,r=h.length>2?h[2]:void 0,t.next=4,m(e);case 4:u=t.sent,o=u.numPages,s=[],i=[],f=1;case 9:if(!(f<=o)){t.next=22;break}return t.next=12,b(u,f,n);case 12:p=t.sent,l=(0,a.Z)(p,2),x=l[0],v=l[1],s.push(x),i.push(v),r&&r(Math.floor(f/o*100));case 19:f+=1,t.next=9;break;case 22:return t.abrupt("return",{images:s,ratios:i});case 23:case"end":return t.stop()}}),t)}))),w.apply(this,arguments)}function y(t,e){return k.apply(this,arguments)}function k(){return k=(0,u.Z)(c().mark((function t(e,n){var r,u,o,s,i,f,p=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=p.length>2&&void 0!==p[2]?p[2]:2,t.next=3,m(e);case 3:if(u=t.sent,o=u.numPages,!(n>o)){t.next=7;break}throw new Error("index out of range");case 7:return t.next=9,b(u,n,r);case 9:return s=t.sent,i=(0,a.Z)(s,1),f=i[0],t.abrupt("return",f);case 13:case"end":return t.stop()}}),t)}))),k.apply(this,arguments)}function I(t,e){return Z.apply(this,arguments)}function Z(){return(Z=(0,u.Z)(c().mark((function t(e,n){var r,a,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.mp)(e,n);case 2:if(!(r=t.sent)){t.next=5;break}return t.abrupt("return",r);case 5:return t.next=7,p().getItem("PDF_".concat(e));case 7:if(a=t.sent){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,y(a,n,2);case 12:return u=t.sent,(0,d.pW)(e,n,u),t.abrupt("return",u);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t,e){return P.apply(this,arguments)}function P(){return(P=(0,u.Z)(c().mark((function t(e,n){var a,u,o,s,f,p,x,v;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e,.5,n);case 2:return a=t.sent,u=a.images,o=a.ratios,s={},f=[],u.forEach((function(t,e){var n=(0,l.v4)();s[n]={image:t,ratio:o[e],state:{strokes:{}},pdfIndex:e+1},f.push(n)})),p=e.name.replace(".pdf",""),t.next=11,e.arrayBuffer();case 11:return x=t.sent,v=new Blob([x],{type:"application/pdf"}),t.abrupt("return",(0,r.Z)((0,r.Z)({},(0,i.Xn)()),{},{name:p,withImg:!0,pdf:v,thumbnail:u[0],pageRec:s,pageOrder:f}));case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},93414:function(){},70172:function(){},2001:function(){},33779:function(){},66558:function(){},82258:function(){}}]);
//# sourceMappingURL=973.cdd65b92.chunk.js.map