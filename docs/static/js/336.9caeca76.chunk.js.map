{"version":3,"file":"static/js/336.9caeca76.chunk.js","mappings":"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","sources":["../node_modules/darkreader/darkreader.js"],"sourcesContent":["/**\n * Dark Reader v4.9.52\n * https://darkreader.org/\n */\n\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.DarkReader = {}));\n})(this, (function (exports) { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation.\r\n\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n    purpose with or without fee is hereby granted.\r\n\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n    PERFORMANCE OF THIS SOFTWARE.\r\n    ***************************************************************************** */\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\r\n\r\n    function __awaiter(thisArg, _arguments, P, generator) {\r\n        function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    }\r\n\r\n    function __generator(thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    }\r\n\r\n    function __values(o) {\r\n        var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n        if (m) return m.call(o);\r\n        if (o && typeof o.length === \"number\") return {\r\n            next: function () {\r\n                if (o && i >= o.length) o = void 0;\r\n                return { value: o && o[i++], done: !o };\r\n            }\r\n        };\r\n        throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n    }\r\n\r\n    function __read(o, n) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n        if (!m) return o;\r\n        var i = m.call(o), r, ar = [], e;\r\n        try {\r\n            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n        }\r\n        catch (error) { e = { error: error }; }\r\n        finally {\r\n            try {\r\n                if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n            }\r\n            finally { if (e) throw e.error; }\r\n        }\r\n        return ar;\r\n    }\r\n\r\n    function __spreadArray(to, from, pack) {\r\n        if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n            if (ar || !(i in from)) {\r\n                if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n                ar[i] = from[i];\r\n            }\r\n        }\r\n        return to.concat(ar || Array.prototype.slice.call(from));\r\n    }\n\n    var MessageType = {\n        UI_GET_DATA: 'ui-get-data',\n        UI_SUBSCRIBE_TO_CHANGES: 'ui-subscribe-to-changes',\n        UI_UNSUBSCRIBE_FROM_CHANGES: 'ui-unsubscribe-from-changes',\n        UI_CHANGE_SETTINGS: 'ui-change-settings',\n        UI_SET_THEME: 'ui-set-theme',\n        UI_SET_SHORTCUT: 'ui-set-shortcut',\n        UI_TOGGLE_ACTIVE_TAB: 'ui-toggle-active-tab',\n        UI_MARK_NEWS_AS_READ: 'ui-mark-news-as-read',\n        UI_MARK_NEWS_AS_DISPLAYED: 'ui-mark-news-as-displayed',\n        UI_LOAD_CONFIG: 'ui-load-config',\n        UI_APPLY_DEV_DYNAMIC_THEME_FIXES: 'ui-apply-dev-dynamic-theme-fixes',\n        UI_RESET_DEV_DYNAMIC_THEME_FIXES: 'ui-reset-dev-dynamic-theme-fixes',\n        UI_APPLY_DEV_INVERSION_FIXES: 'ui-apply-dev-inversion-fixes',\n        UI_RESET_DEV_INVERSION_FIXES: 'ui-reset-dev-inversion-fixes',\n        UI_APPLY_DEV_STATIC_THEMES: 'ui-apply-dev-static-themes',\n        UI_RESET_DEV_STATIC_THEMES: 'ui-reset-dev-static-themes',\n        UI_SAVE_FILE: 'ui-save-file',\n        UI_REQUEST_EXPORT_CSS: 'ui-request-export-css',\n        BG_CHANGES: 'bg-changes',\n        BG_ADD_CSS_FILTER: 'bg-add-css-filter',\n        BG_ADD_STATIC_THEME: 'bg-add-static-theme',\n        BG_ADD_SVG_FILTER: 'bg-add-svg-filter',\n        BG_ADD_DYNAMIC_THEME: 'bg-add-dynamic-theme',\n        BG_EXPORT_CSS: 'bg-export-css',\n        BG_UNSUPPORTED_SENDER: 'bg-unsupported-sender',\n        BG_CLEAN_UP: 'bg-clean-up',\n        BG_RELOAD: 'bg-reload',\n        BG_FETCH_RESPONSE: 'bg-fetch-response',\n        BG_UI_UPDATE: 'bg-ui-update',\n        BG_CSS_UPDATE: 'bg-css-update',\n        CS_COLOR_SCHEME_CHANGE: 'cs-color-scheme-change',\n        CS_FRAME_CONNECT: 'cs-frame-connect',\n        CS_FRAME_FORGET: 'cs-frame-forget',\n        CS_FRAME_FREEZE: 'cs-frame-freeze',\n        CS_FRAME_RESUME: 'cs-frame-resume',\n        CS_EXPORT_CSS_RESPONSE: 'cs-export-css-response',\n        CS_FETCH: 'cs-fetch',\n        CS_DARK_THEME_DETECTED: 'cs-dark-theme-detected',\n        CS_DARK_THEME_NOT_DETECTED: 'cs-dark-theme-not-detected',\n    };\n\n    var userAgent = typeof navigator === 'undefined' ? 'some useragent' : navigator.userAgent.toLowerCase();\n    var platform = typeof navigator === 'undefined' ? 'some platform' : navigator.platform.toLowerCase();\n    var isChromium = userAgent.includes('chrome') || userAgent.includes('chromium');\n    var isThunderbird = userAgent.includes('thunderbird');\n    var isFirefox = userAgent.includes('firefox') || userAgent.includes('librewolf') || isThunderbird;\n    userAgent.includes('vivaldi');\n    userAgent.includes('yabrowser');\n    userAgent.includes('opr') || userAgent.includes('opera');\n    userAgent.includes('edg');\n    var isSafari = userAgent.includes('safari') && !isChromium;\n    var isWindows = platform.startsWith('win');\n    var isMacOS = platform.startsWith('mac');\n    userAgent.includes('mobile');\n    var isShadowDomSupported = typeof ShadowRoot === 'function';\n    var isMatchMediaChangeEventListenerSupported = (typeof MediaQueryList === 'function' &&\n        typeof MediaQueryList.prototype.addEventListener === 'function');\n    ((function () {\n        var m = userAgent.match(/chrom[e|ium]\\/([^ ]+)/);\n        if (m && m[1]) {\n            return m[1];\n        }\n        return '';\n    }))();\n    var isDefinedSelectorSupported = (function () {\n        try {\n            document.querySelector(':defined');\n            return true;\n        }\n        catch (err) {\n            return false;\n        }\n    })();\n    globalThis.chrome && globalThis.chrome.runtime && globalThis.chrome.runtime.getManifest && globalThis.chrome.runtime.getManifest().manifest_version === 3;\n    var isCSSColorSchemePropSupported = (function () {\n        if (typeof document === 'undefined') {\n            return false;\n        }\n        var el = document.createElement('div');\n        el.setAttribute('style', 'color-scheme: dark');\n        return el.style && el.style.colorScheme === 'dark';\n    })();\n\n    function getOKResponse(url, mimeType, origin) {\n        return __awaiter(this, void 0, void 0, function () {\n            var response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, fetch(url, {\n                            cache: 'force-cache',\n                            credentials: 'omit',\n                            referrer: origin\n                        })];\n                    case 1:\n                        response = _a.sent();\n                        if (isFirefox && mimeType === 'text/css' && url.startsWith('moz-extension://') && url.endsWith('.css')) {\n                            return [2, response];\n                        }\n                        if (mimeType && !response.headers.get('Content-Type').startsWith(mimeType)) {\n                            throw new Error(\"Mime type mismatch when loading \".concat(url));\n                        }\n                        if (!response.ok) {\n                            throw new Error(\"Unable to load \".concat(url, \" \").concat(response.status, \" \").concat(response.statusText));\n                        }\n                        return [2, response];\n                }\n            });\n        });\n    }\n    function loadAsDataURL(url, mimeType) {\n        return __awaiter(this, void 0, void 0, function () {\n            var response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, getOKResponse(url, mimeType)];\n                    case 1:\n                        response = _a.sent();\n                        return [4, readResponseAsDataURL(response)];\n                    case 2: return [2, _a.sent()];\n                }\n            });\n        });\n    }\n    function readResponseAsDataURL(response) {\n        return __awaiter(this, void 0, void 0, function () {\n            var blob, dataURL;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, response.blob()];\n                    case 1:\n                        blob = _a.sent();\n                        return [4, (new Promise(function (resolve) {\n                                var reader = new FileReader();\n                                reader.onloadend = function () { return resolve(reader.result); };\n                                reader.readAsDataURL(blob);\n                            }))];\n                    case 2:\n                        dataURL = _a.sent();\n                        return [2, dataURL];\n                }\n            });\n        });\n    }\n\n    var throwCORSError = function (url) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2, Promise.reject(new Error([\n                    'Embedded Dark Reader cannot access a cross-origin resource',\n                    url,\n                    'Overview your URLs and CORS policies or use',\n                    '`DarkReader.setFetchMethod(fetch: (url) => Promise<Response>))`.',\n                    'See if using `DarkReader.setFetchMethod(window.fetch)`',\n                    'before `DarkReader.enable()` works.'\n                ].join(' ')))];\n        });\n    }); };\n    var fetcher = throwCORSError;\n    function setFetchMethod$1(fetch) {\n        if (fetch) {\n            fetcher = fetch;\n        }\n        else {\n            fetcher = throwCORSError;\n        }\n    }\n    function callFetchMethod(url) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, fetcher(url)];\n                    case 1: return [2, _a.sent()];\n                }\n            });\n        });\n    }\n\n    if (!window.chrome) {\n        window.chrome = {};\n    }\n    if (!chrome.runtime) {\n        chrome.runtime = {};\n    }\n    var messageListeners = new Set();\n    function sendMessage() {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return __awaiter(this, void 0, void 0, function () {\n            var id_1, _a, url, responseType, response, text_1, error_1;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!(args[0] && args[0].type === MessageType.CS_FETCH)) return [3, 8];\n                        id_1 = args[0].id;\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 7, , 8]);\n                        _a = args[0].data, url = _a.url, responseType = _a.responseType;\n                        return [4, callFetchMethod(url)];\n                    case 2:\n                        response = _b.sent();\n                        if (!(responseType === 'data-url')) return [3, 4];\n                        return [4, readResponseAsDataURL(response)];\n                    case 3:\n                        text_1 = _b.sent();\n                        return [3, 6];\n                    case 4: return [4, response.text()];\n                    case 5:\n                        text_1 = _b.sent();\n                        _b.label = 6;\n                    case 6:\n                        messageListeners.forEach(function (cb) { return cb({ type: MessageType.BG_FETCH_RESPONSE, data: text_1, error: null, id: id_1 }); });\n                        return [3, 8];\n                    case 7:\n                        error_1 = _b.sent();\n                        console.error(error_1);\n                        messageListeners.forEach(function (cb) { return cb({ type: MessageType.BG_FETCH_RESPONSE, data: null, error: error_1, id: id_1 }); });\n                        return [3, 8];\n                    case 8: return [2];\n                }\n            });\n        });\n    }\n    function addMessageListener(callback) {\n        messageListeners.add(callback);\n    }\n    if (typeof chrome.runtime.sendMessage === 'function') {\n        var nativeSendMessage_1 = chrome.runtime.sendMessage;\n        chrome.runtime.sendMessage = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            sendMessage.apply(void 0, __spreadArray([], __read(args), false));\n            nativeSendMessage_1.apply(chrome.runtime, args);\n        };\n    }\n    else {\n        chrome.runtime.sendMessage = sendMessage;\n    }\n    if (!chrome.runtime.onMessage) {\n        chrome.runtime.onMessage = {};\n    }\n    if (typeof chrome.runtime.onMessage.addListener === 'function') {\n        var nativeAddListener_1 = chrome.runtime.onMessage.addListener;\n        chrome.runtime.onMessage.addListener = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            addMessageListener(args[0]);\n            nativeAddListener_1.apply(chrome.runtime.onMessage, args);\n        };\n    }\n    else {\n        chrome.runtime.onMessage.addListener = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return addMessageListener(args[0]);\n        };\n    }\n\n    var ThemeEngines = {\n        cssFilter: 'cssFilter',\n        svgFilter: 'svgFilter',\n        staticTheme: 'staticTheme',\n        dynamicTheme: 'dynamicTheme',\n    };\n\n    var DEFAULT_COLORS = {\n        darkScheme: {\n            background: '#181a1b',\n            text: '#e8e6e3',\n        },\n        lightScheme: {\n            background: '#dcdad7',\n            text: '#181a1b',\n        },\n    };\n    var DEFAULT_THEME = {\n        mode: 1,\n        brightness: 100,\n        contrast: 100,\n        grayscale: 0,\n        sepia: 0,\n        useFont: false,\n        fontFamily: isMacOS ? 'Helvetica Neue' : isWindows ? 'Segoe UI' : 'Open Sans',\n        textStroke: 0,\n        engine: ThemeEngines.dynamicTheme,\n        stylesheet: '',\n        darkSchemeBackgroundColor: DEFAULT_COLORS.darkScheme.background,\n        darkSchemeTextColor: DEFAULT_COLORS.darkScheme.text,\n        lightSchemeBackgroundColor: DEFAULT_COLORS.lightScheme.background,\n        lightSchemeTextColor: DEFAULT_COLORS.lightScheme.text,\n        scrollbarColor: isMacOS ? '' : 'auto',\n        selectionColor: 'auto',\n        styleSystemControls: !isCSSColorSchemePropSupported,\n        lightColorScheme: 'Default',\n        darkColorScheme: 'Default',\n        immediateModify: false,\n    };\n\n    function isArrayLike(items) {\n        return items.length != null;\n    }\n    function forEach(items, iterator) {\n        var e_1, _a;\n        if (isArrayLike(items)) {\n            for (var i = 0, len = items.length; i < len; i++) {\n                iterator(items[i]);\n            }\n        }\n        else {\n            try {\n                for (var items_1 = __values(items), items_1_1 = items_1.next(); !items_1_1.done; items_1_1 = items_1.next()) {\n                    var item = items_1_1.value;\n                    iterator(item);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (items_1_1 && !items_1_1.done && (_a = items_1.return)) _a.call(items_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n        }\n    }\n    function push(array, addition) {\n        forEach(addition, function (a) { return array.push(a); });\n    }\n    function toArray(items) {\n        var results = [];\n        for (var i = 0, len = items.length; i < len; i++) {\n            results.push(items[i]);\n        }\n        return results;\n    }\n\n    function logInfo() {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n    }\n    function logWarn() {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n    }\n\n    function throttle(callback) {\n        var pending = false;\n        var frameId = null;\n        var lastArgs;\n        var throttled = (function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            lastArgs = args;\n            if (frameId) {\n                pending = true;\n            }\n            else {\n                callback.apply(void 0, __spreadArray([], __read(lastArgs), false));\n                frameId = requestAnimationFrame(function () {\n                    frameId = null;\n                    if (pending) {\n                        callback.apply(void 0, __spreadArray([], __read(lastArgs), false));\n                        pending = false;\n                    }\n                });\n            }\n        });\n        var cancel = function () {\n            cancelAnimationFrame(frameId);\n            pending = false;\n            frameId = null;\n        };\n        return Object.assign(throttled, { cancel: cancel });\n    }\n    function createAsyncTasksQueue() {\n        var tasks = [];\n        var frameId = null;\n        function runTasks() {\n            var task;\n            while ((task = tasks.shift())) {\n                task();\n            }\n            frameId = null;\n        }\n        function add(task) {\n            tasks.push(task);\n            if (!frameId) {\n                frameId = requestAnimationFrame(runTasks);\n            }\n        }\n        function cancel() {\n            tasks.splice(0);\n            cancelAnimationFrame(frameId);\n            frameId = null;\n        }\n        return { add: add, cancel: cancel };\n    }\n\n    function getDuration(time) {\n        var duration = 0;\n        if (time.seconds) {\n            duration += time.seconds * 1000;\n        }\n        if (time.minutes) {\n            duration += time.minutes * 60 * 1000;\n        }\n        if (time.hours) {\n            duration += time.hours * 60 * 60 * 1000;\n        }\n        if (time.days) {\n            duration += time.days * 24 * 60 * 60 * 1000;\n        }\n        return duration;\n    }\n\n    function removeNode(node) {\n        node && node.parentNode && node.parentNode.removeChild(node);\n    }\n    function watchForNodePosition(node, mode, onRestore) {\n        if (onRestore === void 0) { onRestore = Function.prototype; }\n        var MAX_ATTEMPTS_COUNT = 10;\n        var RETRY_TIMEOUT = getDuration({ seconds: 2 });\n        var ATTEMPTS_INTERVAL = getDuration({ seconds: 10 });\n        var prevSibling = node.previousSibling;\n        var parent = node.parentNode;\n        if (!parent) {\n            throw new Error('Unable to watch for node position: parent element not found');\n        }\n        if (mode === 'prev-sibling' && !prevSibling) {\n            throw new Error('Unable to watch for node position: there is no previous sibling');\n        }\n        var attempts = 0;\n        var start = null;\n        var timeoutId = null;\n        var restore = throttle(function () {\n            if (timeoutId) {\n                return;\n            }\n            attempts++;\n            var now = Date.now();\n            if (start == null) {\n                start = now;\n            }\n            else if (attempts >= MAX_ATTEMPTS_COUNT) {\n                if (now - start < ATTEMPTS_INTERVAL) {\n                    logWarn(\"Node position watcher paused: retry in \".concat(RETRY_TIMEOUT, \"ms\"), node, prevSibling);\n                    timeoutId = setTimeout(function () {\n                        start = null;\n                        attempts = 0;\n                        timeoutId = null;\n                        restore();\n                    }, RETRY_TIMEOUT);\n                    return;\n                }\n                start = now;\n                attempts = 1;\n            }\n            if (mode === 'parent') {\n                if (prevSibling && prevSibling.parentNode !== parent) {\n                    logWarn('Unable to restore node position: sibling parent changed', node, prevSibling, parent);\n                    stop();\n                    return;\n                }\n            }\n            if (mode === 'prev-sibling') {\n                if (prevSibling.parentNode == null) {\n                    logWarn('Unable to restore node position: sibling was removed', node, prevSibling, parent);\n                    stop();\n                    return;\n                }\n                if (prevSibling.parentNode !== parent) {\n                    logWarn('Style was moved to another parent', node, prevSibling, parent);\n                    updateParent(prevSibling.parentNode);\n                }\n            }\n            logWarn('Restoring node position', node, prevSibling, parent);\n            parent.insertBefore(node, prevSibling ? prevSibling.nextSibling : parent.firstChild);\n            observer.takeRecords();\n            onRestore && onRestore();\n        });\n        var observer = new MutationObserver(function () {\n            if ((mode === 'parent' && node.parentNode !== parent) ||\n                (mode === 'prev-sibling' && node.previousSibling !== prevSibling)) {\n                restore();\n            }\n        });\n        var run = function () {\n            observer.observe(parent, { childList: true });\n        };\n        var stop = function () {\n            clearTimeout(timeoutId);\n            observer.disconnect();\n            restore.cancel();\n        };\n        var skip = function () {\n            observer.takeRecords();\n        };\n        var updateParent = function (parentNode) {\n            parent = parentNode;\n            stop();\n            run();\n        };\n        run();\n        return { run: run, stop: stop, skip: skip };\n    }\n    function iterateShadowHosts(root, iterator) {\n        if (root == null) {\n            return;\n        }\n        var walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, {\n            acceptNode: function (node) {\n                return node.shadowRoot == null ? NodeFilter.FILTER_SKIP : NodeFilter.FILTER_ACCEPT;\n            }\n        });\n        for (var node = (root.shadowRoot ? walker.currentNode : walker.nextNode()); node != null; node = walker.nextNode()) {\n            if (node.classList.contains('surfingkeys_hints_host')) {\n                continue;\n            }\n            iterator(node);\n            iterateShadowHosts(node.shadowRoot, iterator);\n        }\n    }\n    var isDOMReady = function () {\n        return document.readyState === 'complete' || document.readyState === 'interactive';\n    };\n    function setIsDOMReady(newFunc) {\n        isDOMReady = newFunc;\n    }\n    var readyStateListeners = new Set();\n    function addDOMReadyListener(listener) {\n        isDOMReady() ? listener() : readyStateListeners.add(listener);\n    }\n    function removeDOMReadyListener(listener) {\n        readyStateListeners.delete(listener);\n    }\n    function isReadyStateComplete() {\n        return document.readyState === 'complete';\n    }\n    var readyStateCompleteListeners = new Set();\n    function addReadyStateCompleteListener(listener) {\n        isReadyStateComplete() ? listener() : readyStateCompleteListeners.add(listener);\n    }\n    function cleanReadyStateCompleteListeners() {\n        readyStateCompleteListeners.clear();\n    }\n    if (!isDOMReady()) {\n        var onReadyStateChange_1 = function () {\n            if (isDOMReady()) {\n                readyStateListeners.forEach(function (listener) { return listener(); });\n                readyStateListeners.clear();\n                if (isReadyStateComplete()) {\n                    document.removeEventListener('readystatechange', onReadyStateChange_1);\n                    readyStateCompleteListeners.forEach(function (listener) { return listener(); });\n                    readyStateCompleteListeners.clear();\n                }\n            }\n        };\n        document.addEventListener('readystatechange', onReadyStateChange_1);\n    }\n    var HUGE_MUTATIONS_COUNT = 1000;\n    function isHugeMutation(mutations) {\n        if (mutations.length > HUGE_MUTATIONS_COUNT) {\n            return true;\n        }\n        var addedNodesCount = 0;\n        for (var i = 0; i < mutations.length; i++) {\n            addedNodesCount += mutations[i].addedNodes.length;\n            if (addedNodesCount > HUGE_MUTATIONS_COUNT) {\n                return true;\n            }\n        }\n        return false;\n    }\n    function getElementsTreeOperations(mutations) {\n        var additions = new Set();\n        var deletions = new Set();\n        var moves = new Set();\n        mutations.forEach(function (m) {\n            forEach(m.addedNodes, function (n) {\n                if (n instanceof Element && n.isConnected) {\n                    additions.add(n);\n                }\n            });\n            forEach(m.removedNodes, function (n) {\n                if (n instanceof Element) {\n                    if (n.isConnected) {\n                        moves.add(n);\n                        additions.delete(n);\n                    }\n                    else {\n                        deletions.add(n);\n                    }\n                }\n            });\n        });\n        var duplicateAdditions = [];\n        var duplicateDeletions = [];\n        additions.forEach(function (node) {\n            if (additions.has(node.parentElement)) {\n                duplicateAdditions.push(node);\n            }\n        });\n        deletions.forEach(function (node) {\n            if (deletions.has(node.parentElement)) {\n                duplicateDeletions.push(node);\n            }\n        });\n        duplicateAdditions.forEach(function (node) { return additions.delete(node); });\n        duplicateDeletions.forEach(function (node) { return deletions.delete(node); });\n        return { additions: additions, moves: moves, deletions: deletions };\n    }\n    var optimizedTreeObservers = new Map();\n    var optimizedTreeCallbacks = new WeakMap();\n    function createOptimizedTreeObserver(root, callbacks) {\n        var observer;\n        var observerCallbacks;\n        var domReadyListener;\n        if (optimizedTreeObservers.has(root)) {\n            observer = optimizedTreeObservers.get(root);\n            observerCallbacks = optimizedTreeCallbacks.get(observer);\n        }\n        else {\n            var hadHugeMutationsBefore_1 = false;\n            var subscribedForReadyState_1 = false;\n            observer = new MutationObserver(function (mutations) {\n                if (isHugeMutation(mutations)) {\n                    if (!hadHugeMutationsBefore_1 || isDOMReady()) {\n                        observerCallbacks.forEach(function (_a) {\n                            var onHugeMutations = _a.onHugeMutations;\n                            return onHugeMutations(root);\n                        });\n                    }\n                    else if (!subscribedForReadyState_1) {\n                        domReadyListener = function () { return observerCallbacks.forEach(function (_a) {\n                            var onHugeMutations = _a.onHugeMutations;\n                            return onHugeMutations(root);\n                        }); };\n                        addDOMReadyListener(domReadyListener);\n                        subscribedForReadyState_1 = true;\n                    }\n                    hadHugeMutationsBefore_1 = true;\n                }\n                else {\n                    var elementsOperations_1 = getElementsTreeOperations(mutations);\n                    observerCallbacks.forEach(function (_a) {\n                        var onMinorMutations = _a.onMinorMutations;\n                        return onMinorMutations(elementsOperations_1);\n                    });\n                }\n            });\n            observer.observe(root, { childList: true, subtree: true });\n            optimizedTreeObservers.set(root, observer);\n            observerCallbacks = new Set();\n            optimizedTreeCallbacks.set(observer, observerCallbacks);\n        }\n        observerCallbacks.add(callbacks);\n        return {\n            disconnect: function () {\n                observerCallbacks.delete(callbacks);\n                if (domReadyListener) {\n                    removeDOMReadyListener(domReadyListener);\n                }\n                if (observerCallbacks.size === 0) {\n                    observer.disconnect();\n                    optimizedTreeCallbacks.delete(observer);\n                    optimizedTreeObservers.delete(root);\n                }\n            },\n        };\n    }\n\n    var anchor;\n    var parsedURLCache = new Map();\n    function fixBaseURL($url) {\n        if (!anchor) {\n            anchor = document.createElement('a');\n        }\n        anchor.href = $url;\n        return anchor.href;\n    }\n    function parseURL($url, $base) {\n        if ($base === void 0) { $base = null; }\n        var key = \"\".concat($url).concat($base ? \";\".concat($base) : '');\n        if (parsedURLCache.has(key)) {\n            return parsedURLCache.get(key);\n        }\n        if ($base) {\n            var parsedURL_1 = new URL($url, fixBaseURL($base));\n            parsedURLCache.set(key, parsedURL_1);\n            return parsedURL_1;\n        }\n        var parsedURL = new URL(fixBaseURL($url));\n        parsedURLCache.set($url, parsedURL);\n        return parsedURL;\n    }\n    function getAbsoluteURL($base, $relative) {\n        if ($relative.match(/^data\\\\?\\:/)) {\n            return $relative;\n        }\n        if (/^\\/\\//.test($relative)) {\n            return \"\".concat(location.protocol).concat($relative);\n        }\n        var b = parseURL($base);\n        var a = parseURL($relative, b.href);\n        return a.href;\n    }\n    function isRelativeHrefOnAbsolutePath(href) {\n        if (href.startsWith('data:')) {\n            return true;\n        }\n        var url = parseURL(href);\n        if (url.protocol !== location.protocol) {\n            return false;\n        }\n        if (url.hostname !== location.hostname) {\n            return false;\n        }\n        if (url.port !== location.port) {\n            return false;\n        }\n        return url.pathname === location.pathname;\n    }\n\n    function iterateCSSRules(rules, iterate, onMediaRuleError) {\n        forEach(rules, function (rule) {\n            if (rule.selectorText) {\n                iterate(rule);\n            }\n            else if (rule.href) {\n                try {\n                    iterateCSSRules(rule.styleSheet.cssRules, iterate, onMediaRuleError);\n                }\n                catch (err) {\n                    logInfo(\"Found a non-loaded link.\");\n                    onMediaRuleError && onMediaRuleError();\n                }\n            }\n            else if (rule.media) {\n                var media = Array.from(rule.media);\n                var isScreenOrAllOrQuery = media.some(function (m) { return m.startsWith('screen') || m.startsWith('all') || m.startsWith('('); });\n                var isPrintOrSpeech = media.some(function (m) { return m.startsWith('print') || m.startsWith('speech'); });\n                if (isScreenOrAllOrQuery || !isPrintOrSpeech) {\n                    iterateCSSRules(rule.cssRules, iterate, onMediaRuleError);\n                }\n            }\n            else if (rule.conditionText) {\n                if (CSS.supports(rule.conditionText)) {\n                    iterateCSSRules(rule.cssRules, iterate, onMediaRuleError);\n                }\n            }\n            else {\n                logWarn(\"CSSRule type not supported\", rule);\n            }\n        });\n    }\n    var shorthandVarDependantProperties = [\n        'background',\n        'border',\n        'border-color',\n        'border-bottom',\n        'border-left',\n        'border-right',\n        'border-top',\n        'outline',\n        'outline-color',\n    ];\n    var shorthandVarDepPropRegexps = isSafari ? shorthandVarDependantProperties.map(function (prop) {\n        var regexp = new RegExp(\"\".concat(prop, \":\\\\s*(.*?)\\\\s*;\"));\n        return [prop, regexp];\n    }) : null;\n    function iterateCSSDeclarations(style, iterate) {\n        forEach(style, function (property) {\n            var value = style.getPropertyValue(property).trim();\n            if (!value) {\n                return;\n            }\n            iterate(property, value);\n        });\n        var cssText = style.cssText;\n        if (cssText.includes('var(')) {\n            if (isSafari) {\n                shorthandVarDepPropRegexps.forEach(function (_a) {\n                    var _b = __read(_a, 2), prop = _b[0], regexp = _b[1];\n                    var match = cssText.match(regexp);\n                    if (match && match[1]) {\n                        var val = match[1].trim();\n                        iterate(prop, val);\n                    }\n                });\n            }\n            else {\n                shorthandVarDependantProperties.forEach(function (prop) {\n                    var val = style.getPropertyValue(prop);\n                    if (val && val.includes('var(')) {\n                        iterate(prop, val);\n                    }\n                });\n            }\n        }\n    }\n    var cssURLRegex = /url\\((('.+?')|(\".+?\")|([^\\)]*?))\\)/g;\n    var cssImportRegex = /@import\\s*(url\\()?(('.+?')|(\".+?\")|([^\\)]*?))\\)? ?(screen)?;?/gi;\n    function getCSSURLValue(cssURL) {\n        return cssURL.trim().replace(/^url\\((.*)\\)$/, '$1').trim().replace(/^\"(.*)\"$/, '$1').replace(/^'(.*)'$/, '$1').replace(/(?:\\\\(.))/g, '$1');\n    }\n    function getCSSBaseBath(url) {\n        var cssURL = parseURL(url);\n        return \"\".concat(cssURL.origin).concat(cssURL.pathname.replace(/\\?.*$/, '').replace(/(\\/)([^\\/]+)$/i, '$1'));\n    }\n    function replaceCSSRelativeURLsWithAbsolute($css, cssBasePath) {\n        return $css.replace(cssURLRegex, function (match) {\n            var pathValue = getCSSURLValue(match);\n            try {\n                return \"url(\\\"\".concat(getAbsoluteURL(cssBasePath, pathValue), \"\\\")\");\n            }\n            catch (err) {\n                logWarn('Not able to replace relative URL with Absolute URL, skipping');\n                return match;\n            }\n        });\n    }\n    var cssCommentsRegex = /\\/\\*[\\s\\S]*?\\*\\//g;\n    function removeCSSComments($css) {\n        return $css.replace(cssCommentsRegex, '');\n    }\n    var fontFaceRegex = /@font-face\\s*{[^}]*}/g;\n    function replaceCSSFontFace($css) {\n        return $css.replace(fontFaceRegex, '');\n    }\n\n    function evalMath(expression) {\n        var rpnStack = [];\n        var workingStack = [];\n        var lastToken;\n        for (var i = 0, len = expression.length; i < len; i++) {\n            var token = expression[i];\n            if (!token || token === ' ') {\n                continue;\n            }\n            if (operators.has(token)) {\n                var op = operators.get(token);\n                while (workingStack.length) {\n                    var currentOp = operators.get(workingStack[0]);\n                    if (!currentOp) {\n                        break;\n                    }\n                    if (op.lessOrEqualThan(currentOp)) {\n                        rpnStack.push(workingStack.shift());\n                    }\n                    else {\n                        break;\n                    }\n                }\n                workingStack.unshift(token);\n            }\n            else if (!lastToken || operators.has(lastToken)) {\n                rpnStack.push(token);\n            }\n            else {\n                rpnStack[rpnStack.length - 1] += token;\n            }\n            lastToken = token;\n        }\n        rpnStack.push.apply(rpnStack, __spreadArray([], __read(workingStack), false));\n        var stack = [];\n        for (var i = 0, len = rpnStack.length; i < len; i++) {\n            var op = operators.get(rpnStack[i]);\n            if (op) {\n                var args = stack.splice(0, 2);\n                stack.push(op.exec(args[1], args[0]));\n            }\n            else {\n                stack.unshift(parseFloat(rpnStack[i]));\n            }\n        }\n        return stack[0];\n    }\n    var Operator = (function () {\n        function Operator(precedence, method) {\n            this.precendce = precedence;\n            this.execMethod = method;\n        }\n        Operator.prototype.exec = function (left, right) {\n            return this.execMethod(left, right);\n        };\n        Operator.prototype.lessOrEqualThan = function (op) {\n            return this.precendce <= op.precendce;\n        };\n        return Operator;\n    }());\n    var operators = new Map([\n        ['+', new Operator(1, function (left, right) { return left + right; })],\n        ['-', new Operator(1, function (left, right) { return left - right; })],\n        ['*', new Operator(2, function (left, right) { return left * right; })],\n        ['/', new Operator(2, function (left, right) { return left / right; })],\n    ]);\n\n    function getMatches(regex, input, group) {\n        if (group === void 0) { group = 0; }\n        var matches = [];\n        var m;\n        while ((m = regex.exec(input))) {\n            matches.push(m[group]);\n        }\n        return matches;\n    }\n    function formatCSS(text) {\n        function trimLeft(text) {\n            return text.replace(/^\\s+/, '');\n        }\n        function getIndent(depth) {\n            if (depth === 0) {\n                return '';\n            }\n            return ' '.repeat(4 * depth);\n        }\n        if (text.length < 50000) {\n            var emptyRuleRegexp = /[^{}]+{\\s*}/;\n            while (emptyRuleRegexp.test(text)) {\n                text = text.replace(emptyRuleRegexp, '');\n            }\n        }\n        var css = (text\n            .replace(/\\s{2,}/g, ' ')\n            .replace(/\\{/g, '{\\n')\n            .replace(/\\}/g, '\\n}\\n')\n            .replace(/\\;(?![^\\(|\\\"]*(\\)|\\\"))/g, ';\\n')\n            .replace(/\\,(?![^\\(|\\\"]*(\\)|\\\"))/g, ',\\n')\n            .replace(/\\n\\s*\\n/g, '\\n')\n            .split('\\n'));\n        var depth = 0;\n        var formatted = [];\n        for (var x = 0, len = css.length; x < len; x++) {\n            var line = \"\".concat(css[x], \"\\n\");\n            if (line.includes('{')) {\n                formatted.push(getIndent(depth++) + trimLeft(line));\n            }\n            else if (line.includes('\\}')) {\n                formatted.push(getIndent(--depth) + trimLeft(line));\n            }\n            else {\n                formatted.push(getIndent(depth) + trimLeft(line));\n            }\n        }\n        return formatted.join('').trim();\n    }\n    function getParenthesesRange(input, searchStartIndex) {\n        if (searchStartIndex === void 0) { searchStartIndex = 0; }\n        var length = input.length;\n        var depth = 0;\n        var firstOpenIndex = -1;\n        for (var i = searchStartIndex; i < length; i++) {\n            if (depth === 0) {\n                var openIndex = input.indexOf('(', i);\n                if (openIndex < 0) {\n                    break;\n                }\n                firstOpenIndex = openIndex;\n                depth++;\n                i = openIndex;\n            }\n            else {\n                var closingIndex = input.indexOf(')', i);\n                if (closingIndex < 0) {\n                    break;\n                }\n                var openIndex = input.indexOf('(', i);\n                if (openIndex < 0 || closingIndex < openIndex) {\n                    depth--;\n                    if (depth === 0) {\n                        return { start: firstOpenIndex, end: closingIndex + 1 };\n                    }\n                    i = closingIndex;\n                }\n                else {\n                    depth++;\n                    i = openIndex;\n                }\n            }\n        }\n        return null;\n    }\n\n    function hslToRGB(_a) {\n        var h = _a.h, s = _a.s, l = _a.l, _b = _a.a, a = _b === void 0 ? 1 : _b;\n        if (s === 0) {\n            var _c = __read([l, l, l].map(function (x) { return Math.round(x * 255); }), 3), r_1 = _c[0], b_1 = _c[1], g_1 = _c[2];\n            return { r: r_1, g: g_1, b: b_1, a: a };\n        }\n        var c = (1 - Math.abs(2 * l - 1)) * s;\n        var x = c * (1 - Math.abs((h / 60) % 2 - 1));\n        var m = l - c / 2;\n        var _d = __read((h < 60 ? [c, x, 0] :\n            h < 120 ? [x, c, 0] :\n                h < 180 ? [0, c, x] :\n                    h < 240 ? [0, x, c] :\n                        h < 300 ? [x, 0, c] :\n                            [c, 0, x]).map(function (n) { return Math.round((n + m) * 255); }), 3), r = _d[0], g = _d[1], b = _d[2];\n        return { r: r, g: g, b: b, a: a };\n    }\n    function rgbToHSL(_a) {\n        var r255 = _a.r, g255 = _a.g, b255 = _a.b, _b = _a.a, a = _b === void 0 ? 1 : _b;\n        var r = r255 / 255;\n        var g = g255 / 255;\n        var b = b255 / 255;\n        var max = Math.max(r, g, b);\n        var min = Math.min(r, g, b);\n        var c = max - min;\n        var l = (max + min) / 2;\n        if (c === 0) {\n            return { h: 0, s: 0, l: l, a: a };\n        }\n        var h = (max === r ? (((g - b) / c) % 6) :\n            max === g ? ((b - r) / c + 2) :\n                ((r - g) / c + 4)) * 60;\n        if (h < 0) {\n            h += 360;\n        }\n        var s = c / (1 - Math.abs(2 * l - 1));\n        return { h: h, s: s, l: l, a: a };\n    }\n    function toFixed(n, digits) {\n        if (digits === void 0) { digits = 0; }\n        var fixed = n.toFixed(digits);\n        if (digits === 0) {\n            return fixed;\n        }\n        var dot = fixed.indexOf('.');\n        if (dot >= 0) {\n            var zerosMatch = fixed.match(/0+$/);\n            if (zerosMatch) {\n                if (zerosMatch.index === dot + 1) {\n                    return fixed.substring(0, dot);\n                }\n                return fixed.substring(0, zerosMatch.index);\n            }\n        }\n        return fixed;\n    }\n    function rgbToString(rgb) {\n        var r = rgb.r, g = rgb.g, b = rgb.b, a = rgb.a;\n        if (a != null && a < 1) {\n            return \"rgba(\".concat(toFixed(r), \", \").concat(toFixed(g), \", \").concat(toFixed(b), \", \").concat(toFixed(a, 2), \")\");\n        }\n        return \"rgb(\".concat(toFixed(r), \", \").concat(toFixed(g), \", \").concat(toFixed(b), \")\");\n    }\n    function rgbToHexString(_a) {\n        var r = _a.r, g = _a.g, b = _a.b, a = _a.a;\n        return \"#\".concat((a != null && a < 1 ? [r, g, b, Math.round(a * 255)] : [r, g, b]).map(function (x) {\n            return \"\".concat(x < 16 ? '0' : '').concat(x.toString(16));\n        }).join(''));\n    }\n    function hslToString(hsl) {\n        var h = hsl.h, s = hsl.s, l = hsl.l, a = hsl.a;\n        if (a != null && a < 1) {\n            return \"hsla(\".concat(toFixed(h), \", \").concat(toFixed(s * 100), \"%, \").concat(toFixed(l * 100), \"%, \").concat(toFixed(a, 2), \")\");\n        }\n        return \"hsl(\".concat(toFixed(h), \", \").concat(toFixed(s * 100), \"%, \").concat(toFixed(l * 100), \"%)\");\n    }\n    var rgbMatch = /^rgba?\\([^\\(\\)]+\\)$/;\n    var hslMatch = /^hsla?\\([^\\(\\)]+\\)$/;\n    var hexMatch = /^#[0-9a-f]+$/i;\n    function parse($color) {\n        var c = $color.trim().toLowerCase();\n        if (c.match(rgbMatch)) {\n            return parseRGB(c);\n        }\n        if (c.match(hslMatch)) {\n            return parseHSL(c);\n        }\n        if (c.match(hexMatch)) {\n            return parseHex(c);\n        }\n        if (knownColors.has(c)) {\n            return getColorByName(c);\n        }\n        if (systemColors.has(c)) {\n            return getSystemColor(c);\n        }\n        if ($color === 'transparent') {\n            return { r: 0, g: 0, b: 0, a: 0 };\n        }\n        throw new Error(\"Unable to parse \".concat($color));\n    }\n    function getNumbers($color) {\n        var numbers = [];\n        var prevPos = 0;\n        var isMining = false;\n        var startIndex = $color.indexOf('(');\n        $color = $color.substring(startIndex + 1, $color.length - 1);\n        for (var i = 0; i < $color.length; i++) {\n            var c = $color[i];\n            if (c >= '0' && c <= '9' || c === '.' || c === '+' || c === '-') {\n                isMining = true;\n            }\n            else if (isMining && (c === ' ' || c === ',')) {\n                numbers.push($color.substring(prevPos, i));\n                isMining = false;\n                prevPos = i + 1;\n            }\n            else if (!isMining) {\n                prevPos = i + 1;\n            }\n        }\n        if (isMining) {\n            numbers.push($color.substring(prevPos, $color.length));\n        }\n        return numbers;\n    }\n    function getNumbersFromString(str, range, units) {\n        var raw = getNumbers(str);\n        var unitsList = Object.entries(units);\n        var numbers = raw.map(function (r) { return r.trim(); }).map(function (r, i) {\n            var n;\n            var unit = unitsList.find(function (_a) {\n                var _b = __read(_a, 1), u = _b[0];\n                return r.endsWith(u);\n            });\n            if (unit) {\n                n = parseFloat(r.substring(0, r.length - unit[0].length)) / unit[1] * range[i];\n            }\n            else {\n                n = parseFloat(r);\n            }\n            if (range[i] > 1) {\n                return Math.round(n);\n            }\n            return n;\n        });\n        return numbers;\n    }\n    var rgbRange = [255, 255, 255, 1];\n    var rgbUnits = { '%': 100 };\n    function parseRGB($rgb) {\n        var _a = __read(getNumbersFromString($rgb, rgbRange, rgbUnits), 4), r = _a[0], g = _a[1], b = _a[2], _b = _a[3], a = _b === void 0 ? 1 : _b;\n        return { r: r, g: g, b: b, a: a };\n    }\n    var hslRange = [360, 1, 1, 1];\n    var hslUnits = { '%': 100, 'deg': 360, 'rad': 2 * Math.PI, 'turn': 1 };\n    function parseHSL($hsl) {\n        var _a = __read(getNumbersFromString($hsl, hslRange, hslUnits), 4), h = _a[0], s = _a[1], l = _a[2], _b = _a[3], a = _b === void 0 ? 1 : _b;\n        return hslToRGB({ h: h, s: s, l: l, a: a });\n    }\n    function parseHex($hex) {\n        var h = $hex.substring(1);\n        switch (h.length) {\n            case 3:\n            case 4: {\n                var _a = __read([0, 1, 2].map(function (i) { return parseInt(\"\".concat(h[i]).concat(h[i]), 16); }), 3), r = _a[0], g = _a[1], b = _a[2];\n                var a = h.length === 3 ? 1 : (parseInt(\"\".concat(h[3]).concat(h[3]), 16) / 255);\n                return { r: r, g: g, b: b, a: a };\n            }\n            case 6:\n            case 8: {\n                var _b = __read([0, 2, 4].map(function (i) { return parseInt(h.substring(i, i + 2), 16); }), 3), r = _b[0], g = _b[1], b = _b[2];\n                var a = h.length === 6 ? 1 : (parseInt(h.substring(6, 8), 16) / 255);\n                return { r: r, g: g, b: b, a: a };\n            }\n        }\n        throw new Error(\"Unable to parse \".concat($hex));\n    }\n    function getColorByName($color) {\n        var n = knownColors.get($color);\n        return {\n            r: (n >> 16) & 255,\n            g: (n >> 8) & 255,\n            b: (n >> 0) & 255,\n            a: 1\n        };\n    }\n    function getSystemColor($color) {\n        var n = systemColors.get($color);\n        return {\n            r: (n >> 16) & 255,\n            g: (n >> 8) & 255,\n            b: (n >> 0) & 255,\n            a: 1\n        };\n    }\n    function lowerCalcExpression(color) {\n        var searchIndex = 0;\n        var replaceBetweenIndices = function (start, end, replacement) {\n            color = color.substring(0, start) + replacement + color.substring(end);\n        };\n        while ((searchIndex = color.indexOf('calc(')) !== -1) {\n            var range = getParenthesesRange(color, searchIndex);\n            if (!range) {\n                break;\n            }\n            var slice = color.slice(range.start + 1, range.end - 1);\n            var includesPercentage = slice.includes('%');\n            slice = slice.split('%').join('');\n            var output = Math.round(evalMath(slice));\n            replaceBetweenIndices(range.start - 4, range.end, output + (includesPercentage ? '%' : ''));\n        }\n        return color;\n    }\n    var knownColors = new Map(Object.entries({\n        aliceblue: 0xf0f8ff,\n        antiquewhite: 0xfaebd7,\n        aqua: 0x00ffff,\n        aquamarine: 0x7fffd4,\n        azure: 0xf0ffff,\n        beige: 0xf5f5dc,\n        bisque: 0xffe4c4,\n        black: 0x000000,\n        blanchedalmond: 0xffebcd,\n        blue: 0x0000ff,\n        blueviolet: 0x8a2be2,\n        brown: 0xa52a2a,\n        burlywood: 0xdeb887,\n        cadetblue: 0x5f9ea0,\n        chartreuse: 0x7fff00,\n        chocolate: 0xd2691e,\n        coral: 0xff7f50,\n        cornflowerblue: 0x6495ed,\n        cornsilk: 0xfff8dc,\n        crimson: 0xdc143c,\n        cyan: 0x00ffff,\n        darkblue: 0x00008b,\n        darkcyan: 0x008b8b,\n        darkgoldenrod: 0xb8860b,\n        darkgray: 0xa9a9a9,\n        darkgrey: 0xa9a9a9,\n        darkgreen: 0x006400,\n        darkkhaki: 0xbdb76b,\n        darkmagenta: 0x8b008b,\n        darkolivegreen: 0x556b2f,\n        darkorange: 0xff8c00,\n        darkorchid: 0x9932cc,\n        darkred: 0x8b0000,\n        darksalmon: 0xe9967a,\n        darkseagreen: 0x8fbc8f,\n        darkslateblue: 0x483d8b,\n        darkslategray: 0x2f4f4f,\n        darkslategrey: 0x2f4f4f,\n        darkturquoise: 0x00ced1,\n        darkviolet: 0x9400d3,\n        deeppink: 0xff1493,\n        deepskyblue: 0x00bfff,\n        dimgray: 0x696969,\n        dimgrey: 0x696969,\n        dodgerblue: 0x1e90ff,\n        firebrick: 0xb22222,\n        floralwhite: 0xfffaf0,\n        forestgreen: 0x228b22,\n        fuchsia: 0xff00ff,\n        gainsboro: 0xdcdcdc,\n        ghostwhite: 0xf8f8ff,\n        gold: 0xffd700,\n        goldenrod: 0xdaa520,\n        gray: 0x808080,\n        grey: 0x808080,\n        green: 0x008000,\n        greenyellow: 0xadff2f,\n        honeydew: 0xf0fff0,\n        hotpink: 0xff69b4,\n        indianred: 0xcd5c5c,\n        indigo: 0x4b0082,\n        ivory: 0xfffff0,\n        khaki: 0xf0e68c,\n        lavender: 0xe6e6fa,\n        lavenderblush: 0xfff0f5,\n        lawngreen: 0x7cfc00,\n        lemonchiffon: 0xfffacd,\n        lightblue: 0xadd8e6,\n        lightcoral: 0xf08080,\n        lightcyan: 0xe0ffff,\n        lightgoldenrodyellow: 0xfafad2,\n        lightgray: 0xd3d3d3,\n        lightgrey: 0xd3d3d3,\n        lightgreen: 0x90ee90,\n        lightpink: 0xffb6c1,\n        lightsalmon: 0xffa07a,\n        lightseagreen: 0x20b2aa,\n        lightskyblue: 0x87cefa,\n        lightslategray: 0x778899,\n        lightslategrey: 0x778899,\n        lightsteelblue: 0xb0c4de,\n        lightyellow: 0xffffe0,\n        lime: 0x00ff00,\n        limegreen: 0x32cd32,\n        linen: 0xfaf0e6,\n        magenta: 0xff00ff,\n        maroon: 0x800000,\n        mediumaquamarine: 0x66cdaa,\n        mediumblue: 0x0000cd,\n        mediumorchid: 0xba55d3,\n        mediumpurple: 0x9370db,\n        mediumseagreen: 0x3cb371,\n        mediumslateblue: 0x7b68ee,\n        mediumspringgreen: 0x00fa9a,\n        mediumturquoise: 0x48d1cc,\n        mediumvioletred: 0xc71585,\n        midnightblue: 0x191970,\n        mintcream: 0xf5fffa,\n        mistyrose: 0xffe4e1,\n        moccasin: 0xffe4b5,\n        navajowhite: 0xffdead,\n        navy: 0x000080,\n        oldlace: 0xfdf5e6,\n        olive: 0x808000,\n        olivedrab: 0x6b8e23,\n        orange: 0xffa500,\n        orangered: 0xff4500,\n        orchid: 0xda70d6,\n        palegoldenrod: 0xeee8aa,\n        palegreen: 0x98fb98,\n        paleturquoise: 0xafeeee,\n        palevioletred: 0xdb7093,\n        papayawhip: 0xffefd5,\n        peachpuff: 0xffdab9,\n        peru: 0xcd853f,\n        pink: 0xffc0cb,\n        plum: 0xdda0dd,\n        powderblue: 0xb0e0e6,\n        purple: 0x800080,\n        rebeccapurple: 0x663399,\n        red: 0xff0000,\n        rosybrown: 0xbc8f8f,\n        royalblue: 0x4169e1,\n        saddlebrown: 0x8b4513,\n        salmon: 0xfa8072,\n        sandybrown: 0xf4a460,\n        seagreen: 0x2e8b57,\n        seashell: 0xfff5ee,\n        sienna: 0xa0522d,\n        silver: 0xc0c0c0,\n        skyblue: 0x87ceeb,\n        slateblue: 0x6a5acd,\n        slategray: 0x708090,\n        slategrey: 0x708090,\n        snow: 0xfffafa,\n        springgreen: 0x00ff7f,\n        steelblue: 0x4682b4,\n        tan: 0xd2b48c,\n        teal: 0x008080,\n        thistle: 0xd8bfd8,\n        tomato: 0xff6347,\n        turquoise: 0x40e0d0,\n        violet: 0xee82ee,\n        wheat: 0xf5deb3,\n        white: 0xffffff,\n        whitesmoke: 0xf5f5f5,\n        yellow: 0xffff00,\n        yellowgreen: 0x9acd32,\n    }));\n    var systemColors = new Map(Object.entries({\n        ActiveBorder: 0x3b99fc,\n        ActiveCaption: 0x000000,\n        AppWorkspace: 0xaaaaaa,\n        Background: 0x6363ce,\n        ButtonFace: 0xffffff,\n        ButtonHighlight: 0xe9e9e9,\n        ButtonShadow: 0x9fa09f,\n        ButtonText: 0x000000,\n        CaptionText: 0x000000,\n        GrayText: 0x7f7f7f,\n        Highlight: 0xb2d7ff,\n        HighlightText: 0x000000,\n        InactiveBorder: 0xffffff,\n        InactiveCaption: 0xffffff,\n        InactiveCaptionText: 0x000000,\n        InfoBackground: 0xfbfcc5,\n        InfoText: 0x000000,\n        Menu: 0xf6f6f6,\n        MenuText: 0xffffff,\n        Scrollbar: 0xaaaaaa,\n        ThreeDDarkShadow: 0x000000,\n        ThreeDFace: 0xc0c0c0,\n        ThreeDHighlight: 0xffffff,\n        ThreeDLightShadow: 0xffffff,\n        ThreeDShadow: 0x000000,\n        Window: 0xececec,\n        WindowFrame: 0xaaaaaa,\n        WindowText: 0x000000,\n        '-webkit-focus-ring-color': 0xe59700\n    }).map(function (_a) {\n        var _b = __read(_a, 2), key = _b[0], value = _b[1];\n        return [key.toLowerCase(), value];\n    }));\n    function getSRGBLightness(r, g, b) {\n        return (0.2126 * r + 0.7152 * g + 0.0722 * b) / 255;\n    }\n\n    function scale(x, inLow, inHigh, outLow, outHigh) {\n        return (x - inLow) * (outHigh - outLow) / (inHigh - inLow) + outLow;\n    }\n    function clamp(x, min, max) {\n        return Math.min(max, Math.max(min, x));\n    }\n    function multiplyMatrices(m1, m2) {\n        var result = [];\n        for (var i = 0, len = m1.length; i < len; i++) {\n            result[i] = [];\n            for (var j = 0, len2 = m2[0].length; j < len2; j++) {\n                var sum = 0;\n                for (var k = 0, len3 = m1[0].length; k < len3; k++) {\n                    sum += m1[i][k] * m2[k][j];\n                }\n                result[i][j] = sum;\n            }\n        }\n        return result;\n    }\n\n    function createFilterMatrix(config) {\n        var m = Matrix.identity();\n        if (config.sepia !== 0) {\n            m = multiplyMatrices(m, Matrix.sepia(config.sepia / 100));\n        }\n        if (config.grayscale !== 0) {\n            m = multiplyMatrices(m, Matrix.grayscale(config.grayscale / 100));\n        }\n        if (config.contrast !== 100) {\n            m = multiplyMatrices(m, Matrix.contrast(config.contrast / 100));\n        }\n        if (config.brightness !== 100) {\n            m = multiplyMatrices(m, Matrix.brightness(config.brightness / 100));\n        }\n        if (config.mode === 1) {\n            m = multiplyMatrices(m, Matrix.invertNHue());\n        }\n        return m;\n    }\n    function applyColorMatrix(_a, matrix) {\n        var _b = __read(_a, 3), r = _b[0], g = _b[1], b = _b[2];\n        var rgb = [[r / 255], [g / 255], [b / 255], [1], [1]];\n        var result = multiplyMatrices(matrix, rgb);\n        return [0, 1, 2].map(function (i) { return clamp(Math.round(result[i][0] * 255), 0, 255); });\n    }\n    var Matrix = {\n        identity: function () {\n            return [\n                [1, 0, 0, 0, 0],\n                [0, 1, 0, 0, 0],\n                [0, 0, 1, 0, 0],\n                [0, 0, 0, 1, 0],\n                [0, 0, 0, 0, 1]\n            ];\n        },\n        invertNHue: function () {\n            return [\n                [0.333, -0.667, -0.667, 0, 1],\n                [-0.667, 0.333, -0.667, 0, 1],\n                [-0.667, -0.667, 0.333, 0, 1],\n                [0, 0, 0, 1, 0],\n                [0, 0, 0, 0, 1]\n            ];\n        },\n        brightness: function (v) {\n            return [\n                [v, 0, 0, 0, 0],\n                [0, v, 0, 0, 0],\n                [0, 0, v, 0, 0],\n                [0, 0, 0, 1, 0],\n                [0, 0, 0, 0, 1]\n            ];\n        },\n        contrast: function (v) {\n            var t = (1 - v) / 2;\n            return [\n                [v, 0, 0, 0, t],\n                [0, v, 0, 0, t],\n                [0, 0, v, 0, t],\n                [0, 0, 0, 1, 0],\n                [0, 0, 0, 0, 1]\n            ];\n        },\n        sepia: function (v) {\n            return [\n                [(0.393 + 0.607 * (1 - v)), (0.769 - 0.769 * (1 - v)), (0.189 - 0.189 * (1 - v)), 0, 0],\n                [(0.349 - 0.349 * (1 - v)), (0.686 + 0.314 * (1 - v)), (0.168 - 0.168 * (1 - v)), 0, 0],\n                [(0.272 - 0.272 * (1 - v)), (0.534 - 0.534 * (1 - v)), (0.131 + 0.869 * (1 - v)), 0, 0],\n                [0, 0, 0, 1, 0],\n                [0, 0, 0, 0, 1]\n            ];\n        },\n        grayscale: function (v) {\n            return [\n                [(0.2126 + 0.7874 * (1 - v)), (0.7152 - 0.7152 * (1 - v)), (0.0722 - 0.0722 * (1 - v)), 0, 0],\n                [(0.2126 - 0.2126 * (1 - v)), (0.7152 + 0.2848 * (1 - v)), (0.0722 - 0.0722 * (1 - v)), 0, 0],\n                [(0.2126 - 0.2126 * (1 - v)), (0.7152 - 0.7152 * (1 - v)), (0.0722 + 0.9278 * (1 - v)), 0, 0],\n                [0, 0, 0, 1, 0],\n                [0, 0, 0, 0, 1]\n            ];\n        },\n    };\n\n    function getBgPole(theme) {\n        var isDarkScheme = theme.mode === 1;\n        var prop = isDarkScheme ? 'darkSchemeBackgroundColor' : 'lightSchemeBackgroundColor';\n        return theme[prop];\n    }\n    function getFgPole(theme) {\n        var isDarkScheme = theme.mode === 1;\n        var prop = isDarkScheme ? 'darkSchemeTextColor' : 'lightSchemeTextColor';\n        return theme[prop];\n    }\n    var colorModificationCache = new Map();\n    var colorParseCache$1 = new Map();\n    function parseToHSLWithCache(color) {\n        if (colorParseCache$1.has(color)) {\n            return colorParseCache$1.get(color);\n        }\n        var rgb = parse(color);\n        var hsl = rgbToHSL(rgb);\n        colorParseCache$1.set(color, hsl);\n        return hsl;\n    }\n    function clearColorModificationCache() {\n        colorModificationCache.clear();\n        colorParseCache$1.clear();\n    }\n    var rgbCacheKeys = ['r', 'g', 'b', 'a'];\n    var themeCacheKeys$1 = ['mode', 'brightness', 'contrast', 'grayscale', 'sepia', 'darkSchemeBackgroundColor', 'darkSchemeTextColor', 'lightSchemeBackgroundColor', 'lightSchemeTextColor'];\n    function getCacheId(rgb, theme) {\n        var resultId = '';\n        rgbCacheKeys.forEach(function (key) {\n            resultId += \"\".concat(rgb[key], \";\");\n        });\n        themeCacheKeys$1.forEach(function (key) {\n            resultId += \"\".concat(theme[key], \";\");\n        });\n        return resultId;\n    }\n    function modifyColorWithCache(rgb, theme, modifyHSL, poleColor, anotherPoleColor) {\n        var fnCache;\n        if (colorModificationCache.has(modifyHSL)) {\n            fnCache = colorModificationCache.get(modifyHSL);\n        }\n        else {\n            fnCache = new Map();\n            colorModificationCache.set(modifyHSL, fnCache);\n        }\n        var id = getCacheId(rgb, theme);\n        if (fnCache.has(id)) {\n            return fnCache.get(id);\n        }\n        var hsl = rgbToHSL(rgb);\n        var pole = poleColor == null ? null : parseToHSLWithCache(poleColor);\n        var anotherPole = anotherPoleColor == null ? null : parseToHSLWithCache(anotherPoleColor);\n        var modified = modifyHSL(hsl, pole, anotherPole);\n        var _a = hslToRGB(modified), r = _a.r, g = _a.g, b = _a.b, a = _a.a;\n        var matrix = createFilterMatrix(theme);\n        var _b = __read(applyColorMatrix([r, g, b], matrix), 3), rf = _b[0], gf = _b[1], bf = _b[2];\n        var color = (a === 1 ?\n            rgbToHexString({ r: rf, g: gf, b: bf }) :\n            rgbToString({ r: rf, g: gf, b: bf, a: a }));\n        fnCache.set(id, color);\n        return color;\n    }\n    function noopHSL(hsl) {\n        return hsl;\n    }\n    function modifyColor(rgb, theme) {\n        return modifyColorWithCache(rgb, theme, noopHSL);\n    }\n    function modifyLightSchemeColor(rgb, theme) {\n        var poleBg = getBgPole(theme);\n        var poleFg = getFgPole(theme);\n        return modifyColorWithCache(rgb, theme, modifyLightModeHSL, poleFg, poleBg);\n    }\n    function modifyLightModeHSL(_a, poleFg, poleBg) {\n        var h = _a.h, s = _a.s, l = _a.l, a = _a.a;\n        var isDark = l < 0.5;\n        var isNeutral;\n        if (isDark) {\n            isNeutral = l < 0.2 || s < 0.12;\n        }\n        else {\n            var isBlue = h > 200 && h < 280;\n            isNeutral = s < 0.24 || (l > 0.8 && isBlue);\n        }\n        var hx = h;\n        var sx = l;\n        if (isNeutral) {\n            if (isDark) {\n                hx = poleFg.h;\n                sx = poleFg.s;\n            }\n            else {\n                hx = poleBg.h;\n                sx = poleBg.s;\n            }\n        }\n        var lx = scale(l, 0, 1, poleFg.l, poleBg.l);\n        return { h: hx, s: sx, l: lx, a: a };\n    }\n    var MAX_BG_LIGHTNESS = 0.4;\n    function modifyBgHSL(_a, pole) {\n        var h = _a.h, s = _a.s, l = _a.l, a = _a.a;\n        var isDark = l < 0.5;\n        var isBlue = h > 200 && h < 280;\n        var isNeutral = s < 0.12 || (l > 0.8 && isBlue);\n        if (isDark) {\n            var lx_1 = scale(l, 0, 0.5, 0, MAX_BG_LIGHTNESS);\n            if (isNeutral) {\n                var hx_1 = pole.h;\n                var sx = pole.s;\n                return { h: hx_1, s: sx, l: lx_1, a: a };\n            }\n            return { h: h, s: s, l: lx_1, a: a };\n        }\n        var lx = scale(l, 0.5, 1, MAX_BG_LIGHTNESS, pole.l);\n        if (isNeutral) {\n            var hx_2 = pole.h;\n            var sx = pole.s;\n            return { h: hx_2, s: sx, l: lx, a: a };\n        }\n        var hx = h;\n        var isYellow = h > 60 && h < 180;\n        if (isYellow) {\n            var isCloserToGreen = h > 120;\n            if (isCloserToGreen) {\n                hx = scale(h, 120, 180, 135, 180);\n            }\n            else {\n                hx = scale(h, 60, 120, 60, 105);\n            }\n        }\n        if (hx > 40 && hx < 80) {\n            lx *= 0.75;\n        }\n        return { h: hx, s: s, l: lx, a: a };\n    }\n    function modifyBackgroundColor(rgb, theme) {\n        if (theme.mode === 0) {\n            return modifyLightSchemeColor(rgb, theme);\n        }\n        var pole = getBgPole(theme);\n        return modifyColorWithCache(rgb, __assign(__assign({}, theme), { mode: 0 }), modifyBgHSL, pole);\n    }\n    var MIN_FG_LIGHTNESS = 0.55;\n    function modifyBlueFgHue(hue) {\n        return scale(hue, 205, 245, 205, 220);\n    }\n    function modifyFgHSL(_a, pole) {\n        var h = _a.h, s = _a.s, l = _a.l, a = _a.a;\n        var isLight = l > 0.5;\n        var isNeutral = l < 0.2 || s < 0.24;\n        var isBlue = !isNeutral && h > 205 && h < 245;\n        if (isLight) {\n            var lx_2 = scale(l, 0.5, 1, MIN_FG_LIGHTNESS, pole.l);\n            if (isNeutral) {\n                var hx_3 = pole.h;\n                var sx = pole.s;\n                return { h: hx_3, s: sx, l: lx_2, a: a };\n            }\n            var hx_4 = h;\n            if (isBlue) {\n                hx_4 = modifyBlueFgHue(h);\n            }\n            return { h: hx_4, s: s, l: lx_2, a: a };\n        }\n        if (isNeutral) {\n            var hx_5 = pole.h;\n            var sx = pole.s;\n            var lx_3 = scale(l, 0, 0.5, pole.l, MIN_FG_LIGHTNESS);\n            return { h: hx_5, s: sx, l: lx_3, a: a };\n        }\n        var hx = h;\n        var lx;\n        if (isBlue) {\n            hx = modifyBlueFgHue(h);\n            lx = scale(l, 0, 0.5, pole.l, Math.min(1, MIN_FG_LIGHTNESS + 0.05));\n        }\n        else {\n            lx = scale(l, 0, 0.5, pole.l, MIN_FG_LIGHTNESS);\n        }\n        return { h: hx, s: s, l: lx, a: a };\n    }\n    function modifyForegroundColor(rgb, theme) {\n        if (theme.mode === 0) {\n            return modifyLightSchemeColor(rgb, theme);\n        }\n        var pole = getFgPole(theme);\n        return modifyColorWithCache(rgb, __assign(__assign({}, theme), { mode: 0 }), modifyFgHSL, pole);\n    }\n    function modifyBorderHSL(_a, poleFg, poleBg) {\n        var h = _a.h, s = _a.s, l = _a.l, a = _a.a;\n        var isDark = l < 0.5;\n        var isNeutral = l < 0.2 || s < 0.24;\n        var hx = h;\n        var sx = s;\n        if (isNeutral) {\n            if (isDark) {\n                hx = poleFg.h;\n                sx = poleFg.s;\n            }\n            else {\n                hx = poleBg.h;\n                sx = poleBg.s;\n            }\n        }\n        var lx = scale(l, 0, 1, 0.5, 0.2);\n        return { h: hx, s: sx, l: lx, a: a };\n    }\n    function modifyBorderColor(rgb, theme) {\n        if (theme.mode === 0) {\n            return modifyLightSchemeColor(rgb, theme);\n        }\n        var poleFg = getFgPole(theme);\n        var poleBg = getBgPole(theme);\n        return modifyColorWithCache(rgb, __assign(__assign({}, theme), { mode: 0 }), modifyBorderHSL, poleFg, poleBg);\n    }\n    function modifyShadowColor(rgb, filter) {\n        return modifyBackgroundColor(rgb, filter);\n    }\n    function modifyGradientColor(rgb, filter) {\n        return modifyBackgroundColor(rgb, filter);\n    }\n\n    function createTextStyle(config) {\n        var lines = [];\n        lines.push('*:not(pre, pre *, code, .far, .fa, .glyphicon, [class*=\"vjs-\"], .fab, .fa-github, .fas, .material-icons, .icofont, .typcn, mu, [class*=\"mu-\"], .glyphicon, .icon) {');\n        if (config.useFont && config.fontFamily) {\n            lines.push(\"  font-family: \".concat(config.fontFamily, \" !important;\"));\n        }\n        if (config.textStroke > 0) {\n            lines.push(\"  -webkit-text-stroke: \".concat(config.textStroke, \"px !important;\"));\n            lines.push(\"  text-stroke: \".concat(config.textStroke, \"px !important;\"));\n        }\n        lines.push('}');\n        return lines.join('\\n');\n    }\n\n    var FilterMode;\n    (function (FilterMode) {\n        FilterMode[FilterMode[\"light\"] = 0] = \"light\";\n        FilterMode[FilterMode[\"dark\"] = 1] = \"dark\";\n    })(FilterMode || (FilterMode = {}));\n    function getCSSFilterValue(config) {\n        var filters = [];\n        if (config.mode === FilterMode.dark) {\n            filters.push('invert(100%) hue-rotate(180deg)');\n        }\n        if (config.brightness !== 100) {\n            filters.push(\"brightness(\".concat(config.brightness, \"%)\"));\n        }\n        if (config.contrast !== 100) {\n            filters.push(\"contrast(\".concat(config.contrast, \"%)\"));\n        }\n        if (config.grayscale !== 0) {\n            filters.push(\"grayscale(\".concat(config.grayscale, \"%)\"));\n        }\n        if (config.sepia !== 0) {\n            filters.push(\"sepia(\".concat(config.sepia, \"%)\"));\n        }\n        if (filters.length === 0) {\n            return null;\n        }\n        return filters.join(' ');\n    }\n\n    function toSVGMatrix(matrix) {\n        return matrix.slice(0, 4).map(function (m) { return m.map(function (m) { return m.toFixed(3); }).join(' '); }).join(' ');\n    }\n    function getSVGFilterMatrixValue(config) {\n        return toSVGMatrix(createFilterMatrix(config));\n    }\n\n    var counter = 0;\n    var resolvers$1 = new Map();\n    var rejectors = new Map();\n    function bgFetch(request) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2, new Promise(function (resolve, reject) {\n                        var id = ++counter;\n                        resolvers$1.set(id, resolve);\n                        rejectors.set(id, reject);\n                        chrome.runtime.sendMessage({ type: MessageType.CS_FETCH, data: request, id: id });\n                    })];\n            });\n        });\n    }\n    chrome.runtime.onMessage.addListener(function (_a) {\n        var type = _a.type, data = _a.data, error = _a.error, id = _a.id;\n        if (type === MessageType.BG_FETCH_RESPONSE) {\n            var resolve = resolvers$1.get(id);\n            var reject = rejectors.get(id);\n            resolvers$1.delete(id);\n            rejectors.delete(id);\n            if (error) {\n                reject && reject(error);\n            }\n            else {\n                resolve && resolve(data);\n            }\n        }\n    });\n\n    var AsyncQueue = (function () {\n        function AsyncQueue() {\n            this.queue = [];\n            this.timerId = null;\n            this.frameDuration = 1000 / 60;\n        }\n        AsyncQueue.prototype.addToQueue = function (entry) {\n            this.queue.push(entry);\n            this.startQueue();\n        };\n        AsyncQueue.prototype.stopQueue = function () {\n            if (this.timerId !== null) {\n                cancelAnimationFrame(this.timerId);\n                this.timerId = null;\n            }\n            this.queue = [];\n        };\n        AsyncQueue.prototype.startQueue = function () {\n            var _this = this;\n            if (this.timerId) {\n                return;\n            }\n            this.timerId = requestAnimationFrame(function () {\n                _this.timerId = null;\n                var start = Date.now();\n                var cb;\n                while ((cb = _this.queue.shift())) {\n                    cb();\n                    if (Date.now() - start >= _this.frameDuration) {\n                        _this.startQueue();\n                        break;\n                    }\n                }\n            });\n        };\n        return AsyncQueue;\n    }());\n\n    var imageManager = new AsyncQueue();\n    function getImageDetails(url) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                return [2, new Promise(function (resolve, reject) { return __awaiter(_this, void 0, void 0, function () {\n                        var dataURL, error_1, image_1, error_2;\n                        return __generator(this, function (_a) {\n                            switch (_a.label) {\n                                case 0:\n                                    if (!url.startsWith('data:')) return [3, 1];\n                                    dataURL = url;\n                                    return [3, 4];\n                                case 1:\n                                    _a.trys.push([1, 3, , 4]);\n                                    return [4, getImageDataURL(url)];\n                                case 2:\n                                    dataURL = _a.sent();\n                                    return [3, 4];\n                                case 3:\n                                    error_1 = _a.sent();\n                                    reject(error_1);\n                                    return [2];\n                                case 4:\n                                    _a.trys.push([4, 6, , 7]);\n                                    return [4, urlToImage(dataURL)];\n                                case 5:\n                                    image_1 = _a.sent();\n                                    imageManager.addToQueue(function () {\n                                        resolve(__assign({ src: url, dataURL: dataURL, width: image_1.naturalWidth, height: image_1.naturalHeight }, analyzeImage(image_1)));\n                                    });\n                                    return [3, 7];\n                                case 6:\n                                    error_2 = _a.sent();\n                                    reject(error_2);\n                                    return [3, 7];\n                                case 7: return [2];\n                            }\n                        });\n                    }); })];\n            });\n        });\n    }\n    function getImageDataURL(url) {\n        return __awaiter(this, void 0, void 0, function () {\n            var parsedURL;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        parsedURL = new URL(url);\n                        if (!(parsedURL.origin === location.origin)) return [3, 2];\n                        return [4, loadAsDataURL(url)];\n                    case 1: return [2, _a.sent()];\n                    case 2: return [4, bgFetch({ url: url, responseType: 'data-url' })];\n                    case 3: return [2, _a.sent()];\n                }\n            });\n        });\n    }\n    function urlToImage(url) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2, new Promise(function (resolve, reject) {\n                        var image = new Image();\n                        image.onload = function () { return resolve(image); };\n                        image.onerror = function () { return reject(\"Unable to load image \".concat(url)); };\n                        image.src = url;\n                    })];\n            });\n        });\n    }\n    var MAX_ANALIZE_PIXELS_COUNT = 32 * 32;\n    var canvas;\n    var context;\n    function createCanvas() {\n        var maxWidth = MAX_ANALIZE_PIXELS_COUNT;\n        var maxHeight = MAX_ANALIZE_PIXELS_COUNT;\n        canvas = document.createElement('canvas');\n        canvas.width = maxWidth;\n        canvas.height = maxHeight;\n        context = canvas.getContext('2d');\n        context.imageSmoothingEnabled = false;\n    }\n    function removeCanvas() {\n        canvas = null;\n        context = null;\n    }\n    var MAX_IMAGE_SIZE = 5 * 1024 * 1024;\n    function analyzeImage(image) {\n        if (!canvas) {\n            createCanvas();\n        }\n        var naturalWidth = image.naturalWidth, naturalHeight = image.naturalHeight;\n        if (naturalHeight === 0 || naturalWidth === 0) {\n            logWarn(\"logWarn(Image is empty \".concat(image.currentSrc, \")\"));\n            return null;\n        }\n        var size = naturalWidth * naturalHeight * 4;\n        if (size > MAX_IMAGE_SIZE) {\n            logInfo('Skipped large image analyzing(Larger than 5mb in memory)');\n            return {\n                isDark: false,\n                isLight: false,\n                isTransparent: false,\n                isLarge: false,\n                isTooLarge: true,\n            };\n        }\n        var naturalPixelsCount = naturalWidth * naturalHeight;\n        var k = Math.min(1, Math.sqrt(MAX_ANALIZE_PIXELS_COUNT / naturalPixelsCount));\n        var width = Math.ceil(naturalWidth * k);\n        var height = Math.ceil(naturalHeight * k);\n        context.clearRect(0, 0, width, height);\n        context.drawImage(image, 0, 0, naturalWidth, naturalHeight, 0, 0, width, height);\n        var imageData = context.getImageData(0, 0, width, height);\n        var d = imageData.data;\n        var TRANSPARENT_ALPHA_THRESHOLD = 0.05;\n        var DARK_LIGHTNESS_THRESHOLD = 0.4;\n        var LIGHT_LIGHTNESS_THRESHOLD = 0.7;\n        var transparentPixelsCount = 0;\n        var darkPixelsCount = 0;\n        var lightPixelsCount = 0;\n        var i, x, y;\n        var r, g, b, a;\n        var l;\n        for (y = 0; y < height; y++) {\n            for (x = 0; x < width; x++) {\n                i = 4 * (y * width + x);\n                r = d[i + 0];\n                g = d[i + 1];\n                b = d[i + 2];\n                a = d[i + 3];\n                if (a / 255 < TRANSPARENT_ALPHA_THRESHOLD) {\n                    transparentPixelsCount++;\n                }\n                else {\n                    l = getSRGBLightness(r, g, b);\n                    if (l < DARK_LIGHTNESS_THRESHOLD) {\n                        darkPixelsCount++;\n                    }\n                    if (l > LIGHT_LIGHTNESS_THRESHOLD) {\n                        lightPixelsCount++;\n                    }\n                }\n            }\n        }\n        var totalPixelsCount = width * height;\n        var opaquePixelsCount = totalPixelsCount - transparentPixelsCount;\n        var DARK_IMAGE_THRESHOLD = 0.7;\n        var LIGHT_IMAGE_THRESHOLD = 0.7;\n        var TRANSPARENT_IMAGE_THRESHOLD = 0.1;\n        var LARGE_IMAGE_PIXELS_COUNT = 800 * 600;\n        return {\n            isDark: ((darkPixelsCount / opaquePixelsCount) >= DARK_IMAGE_THRESHOLD),\n            isLight: ((lightPixelsCount / opaquePixelsCount) >= LIGHT_IMAGE_THRESHOLD),\n            isTransparent: ((transparentPixelsCount / totalPixelsCount) >= TRANSPARENT_IMAGE_THRESHOLD),\n            isLarge: (naturalPixelsCount >= LARGE_IMAGE_PIXELS_COUNT),\n            isTooLarge: false,\n        };\n    }\n    function getFilteredImageDataURL(_a, theme) {\n        var dataURL = _a.dataURL, width = _a.width, height = _a.height;\n        var matrix = getSVGFilterMatrixValue(theme);\n        var svg = [\n            \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"\".concat(width, \"\\\" height=\\\"\").concat(height, \"\\\">\"),\n            '<defs>',\n            '<filter id=\"darkreader-image-filter\">',\n            \"<feColorMatrix type=\\\"matrix\\\" values=\\\"\".concat(matrix, \"\\\" />\"),\n            '</filter>',\n            '</defs>',\n            \"<image width=\\\"\".concat(width, \"\\\" height=\\\"\").concat(height, \"\\\" filter=\\\"url(#darkreader-image-filter)\\\" xlink:href=\\\"\").concat(dataURL, \"\\\" />\"),\n            '</svg>',\n        ].join('');\n        return \"data:image/svg+xml;base64,\".concat(btoa(svg));\n    }\n    function cleanImageProcessingCache() {\n        imageManager && imageManager.stopQueue();\n        removeCanvas();\n    }\n\n    var gradientLength = 'gradient'.length;\n    var conicGradient = 'conic-';\n    var conicGradientLength = conicGradient.length;\n    var radialGradient = 'radial-';\n    var linearGradient = 'linear-';\n    function parseGradient(value) {\n        var result = [];\n        var index = 0;\n        var startIndex = conicGradient.length;\n        var _loop_1 = function () {\n            var typeGradient;\n            [linearGradient, radialGradient, conicGradient].find(function (possibleType) {\n                if (index - possibleType.length >= 0) {\n                    var possibleGradient = value.substring(index - possibleType.length, index);\n                    if (possibleGradient === possibleType) {\n                        if (value.slice(index - possibleType.length - 10, index - possibleType.length - 1) === 'repeating') {\n                            typeGradient = \"repeating-\".concat(possibleType, \"gradient\");\n                            return true;\n                        }\n                        if (value.slice(index - possibleType.length - 8, index - possibleType.length - 1) === '-webkit') {\n                            typeGradient = \"-webkit-\".concat(possibleType, \"gradient\");\n                            return true;\n                        }\n                        typeGradient = \"\".concat(possibleType, \"gradient\");\n                        return true;\n                    }\n                }\n            });\n            if (!typeGradient) {\n                return \"break\";\n            }\n            var _a = getParenthesesRange(value, index + gradientLength), start = _a.start, end = _a.end;\n            var match = value.substring(start + 1, end - 1);\n            startIndex = end + 1 + conicGradientLength;\n            result.push({\n                typeGradient: typeGradient,\n                match: match,\n                offset: typeGradient.length + 2,\n                index: index - typeGradient.length + gradientLength,\n                hasComma: true,\n            });\n        };\n        while ((index = value.indexOf('gradient', startIndex)) !== -1) {\n            var state_1 = _loop_1();\n            if (state_1 === \"break\")\n                break;\n        }\n        if (result.length) {\n            result[result.length - 1].hasComma = false;\n        }\n        return result;\n    }\n\n    function getPriority(ruleStyle, property) {\n        return Boolean(ruleStyle && ruleStyle.getPropertyPriority(property));\n    }\n    function getModifiableCSSDeclaration(property, value, rule, variablesStore, ignoreImageSelectors, isCancelled) {\n        if (property.startsWith('--')) {\n            var modifier = getVariableModifier(variablesStore, property, value, rule, ignoreImageSelectors, isCancelled);\n            if (modifier) {\n                return { property: property, value: modifier, important: getPriority(rule.style, property), sourceValue: value };\n            }\n        }\n        else if (value.includes('var(')) {\n            var modifier = getVariableDependantModifier(variablesStore, property, value);\n            if (modifier) {\n                return { property: property, value: modifier, important: getPriority(rule.style, property), sourceValue: value };\n            }\n        }\n        else if ((property.includes('color') && property !== '-webkit-print-color-adjust') ||\n            property === 'fill' ||\n            property === 'stroke' ||\n            property === 'stop-color') {\n            var modifier = getColorModifier(property, value);\n            if (modifier) {\n                return { property: property, value: modifier, important: getPriority(rule.style, property), sourceValue: value };\n            }\n        }\n        else if (property === 'background-image' || property === 'list-style-image') {\n            var modifier = getBgImageModifier(value, rule, ignoreImageSelectors, isCancelled);\n            if (modifier) {\n                return { property: property, value: modifier, important: getPriority(rule.style, property), sourceValue: value };\n            }\n        }\n        else if (property.includes('shadow')) {\n            var modifier = getShadowModifier(value);\n            if (modifier) {\n                return { property: property, value: modifier, important: getPriority(rule.style, property), sourceValue: value };\n            }\n        }\n        return null;\n    }\n    function joinSelectors() {\n        var selectors = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            selectors[_i] = arguments[_i];\n        }\n        return selectors.filter(Boolean).join(', ');\n    }\n    function getModifiedUserAgentStyle(theme, isIFrame, styleSystemControls) {\n        var lines = [];\n        if (!isIFrame) {\n            lines.push('html {');\n            lines.push(\"    background-color: \".concat(modifyBackgroundColor({ r: 255, g: 255, b: 255 }, theme), \" !important;\"));\n            lines.push('}');\n        }\n        if (isCSSColorSchemePropSupported) {\n            lines.push('html {');\n            lines.push(\"    color-scheme: \".concat(theme.mode === 1 ? 'dark' : 'dark light', \" !important;\"));\n            lines.push('}');\n        }\n        var bgSelectors = joinSelectors(isIFrame ? '' : 'html, body', styleSystemControls ? 'input, textarea, select, button' : '');\n        if (bgSelectors) {\n            lines.push(\"\".concat(bgSelectors, \" {\"));\n            lines.push(\"    background-color: \".concat(modifyBackgroundColor({ r: 255, g: 255, b: 255 }, theme), \";\"));\n            lines.push('}');\n        }\n        lines.push(\"\".concat(joinSelectors('html, body', styleSystemControls ? 'input, textarea, select, button' : ''), \" {\"));\n        lines.push(\"    border-color: \".concat(modifyBorderColor({ r: 76, g: 76, b: 76 }, theme), \";\"));\n        lines.push(\"    color: \".concat(modifyForegroundColor({ r: 0, g: 0, b: 0 }, theme), \";\"));\n        lines.push('}');\n        lines.push('a {');\n        lines.push(\"    color: \".concat(modifyForegroundColor({ r: 0, g: 64, b: 255 }, theme), \";\"));\n        lines.push('}');\n        lines.push('table {');\n        lines.push(\"    border-color: \".concat(modifyBorderColor({ r: 128, g: 128, b: 128 }, theme), \";\"));\n        lines.push('}');\n        lines.push('::placeholder {');\n        lines.push(\"    color: \".concat(modifyForegroundColor({ r: 169, g: 169, b: 169 }, theme), \";\"));\n        lines.push('}');\n        lines.push('input:-webkit-autofill,');\n        lines.push('textarea:-webkit-autofill,');\n        lines.push('select:-webkit-autofill {');\n        lines.push(\"    background-color: \".concat(modifyBackgroundColor({ r: 250, g: 255, b: 189 }, theme), \" !important;\"));\n        lines.push(\"    color: \".concat(modifyForegroundColor({ r: 0, g: 0, b: 0 }, theme), \" !important;\"));\n        lines.push('}');\n        if (theme.scrollbarColor) {\n            lines.push(getModifiedScrollbarStyle(theme));\n        }\n        if (theme.selectionColor) {\n            lines.push(getModifiedSelectionStyle(theme));\n        }\n        return lines.join('\\n');\n    }\n    function getSelectionColor(theme) {\n        var backgroundColorSelection;\n        var foregroundColorSelection;\n        if (theme.selectionColor === 'auto') {\n            backgroundColorSelection = modifyBackgroundColor({ r: 0, g: 96, b: 212 }, __assign(__assign({}, theme), { grayscale: 0 }));\n            foregroundColorSelection = modifyForegroundColor({ r: 255, g: 255, b: 255 }, __assign(__assign({}, theme), { grayscale: 0 }));\n        }\n        else {\n            var rgb = parse(theme.selectionColor);\n            var hsl = rgbToHSL(rgb);\n            backgroundColorSelection = theme.selectionColor;\n            if (hsl.l < 0.5) {\n                foregroundColorSelection = '#FFF';\n            }\n            else {\n                foregroundColorSelection = '#000';\n            }\n        }\n        return { backgroundColorSelection: backgroundColorSelection, foregroundColorSelection: foregroundColorSelection };\n    }\n    function getModifiedSelectionStyle(theme) {\n        var lines = [];\n        var modifiedSelectionColor = getSelectionColor(theme);\n        var backgroundColorSelection = modifiedSelectionColor.backgroundColorSelection;\n        var foregroundColorSelection = modifiedSelectionColor.foregroundColorSelection;\n        ['::selection', '::-moz-selection'].forEach(function (selection) {\n            lines.push(\"\".concat(selection, \" {\"));\n            lines.push(\"    background-color: \".concat(backgroundColorSelection, \" !important;\"));\n            lines.push(\"    color: \".concat(foregroundColorSelection, \" !important;\"));\n            lines.push('}');\n        });\n        return lines.join('\\n');\n    }\n    function getModifiedScrollbarStyle(theme) {\n        var lines = [];\n        var colorTrack;\n        var colorIcons;\n        var colorThumb;\n        var colorThumbHover;\n        var colorThumbActive;\n        var colorCorner;\n        if (theme.scrollbarColor === 'auto') {\n            colorTrack = modifyBackgroundColor({ r: 241, g: 241, b: 241 }, theme);\n            colorIcons = modifyForegroundColor({ r: 96, g: 96, b: 96 }, theme);\n            colorThumb = modifyBackgroundColor({ r: 176, g: 176, b: 176 }, theme);\n            colorThumbHover = modifyBackgroundColor({ r: 144, g: 144, b: 144 }, theme);\n            colorThumbActive = modifyBackgroundColor({ r: 96, g: 96, b: 96 }, theme);\n            colorCorner = modifyBackgroundColor({ r: 255, g: 255, b: 255 }, theme);\n        }\n        else {\n            var rgb = parse(theme.scrollbarColor);\n            var hsl_1 = rgbToHSL(rgb);\n            var isLight = hsl_1.l > 0.5;\n            var lighten = function (lighter) { return (__assign(__assign({}, hsl_1), { l: clamp(hsl_1.l + lighter, 0, 1) })); };\n            var darken = function (darker) { return (__assign(__assign({}, hsl_1), { l: clamp(hsl_1.l - darker, 0, 1) })); };\n            colorTrack = hslToString(darken(0.4));\n            colorIcons = hslToString(isLight ? darken(0.4) : lighten(0.4));\n            colorThumb = hslToString(hsl_1);\n            colorThumbHover = hslToString(lighten(0.1));\n            colorThumbActive = hslToString(lighten(0.2));\n        }\n        lines.push('::-webkit-scrollbar {');\n        lines.push(\"    background-color: \".concat(colorTrack, \";\"));\n        lines.push(\"    color: \".concat(colorIcons, \";\"));\n        lines.push('}');\n        lines.push('::-webkit-scrollbar-thumb {');\n        lines.push(\"    background-color: \".concat(colorThumb, \";\"));\n        lines.push('}');\n        lines.push('::-webkit-scrollbar-thumb:hover {');\n        lines.push(\"    background-color: \".concat(colorThumbHover, \";\"));\n        lines.push('}');\n        lines.push('::-webkit-scrollbar-thumb:active {');\n        lines.push(\"    background-color: \".concat(colorThumbActive, \";\"));\n        lines.push('}');\n        lines.push('::-webkit-scrollbar-corner {');\n        lines.push(\"    background-color: \".concat(colorCorner, \";\"));\n        lines.push('}');\n        if (isFirefox) {\n            lines.push('* {');\n            lines.push(\"    scrollbar-color: \".concat(colorThumb, \" \").concat(colorTrack, \";\"));\n            lines.push('}');\n        }\n        return lines.join('\\n');\n    }\n    function getModifiedFallbackStyle(filter, _a) {\n        var strict = _a.strict;\n        var lines = [];\n        var isMicrosoft = ['microsoft.com', 'docs.microsoft.com'].includes(location.hostname);\n        lines.push(\"html, body, \".concat(strict ? \"body :not(iframe)\".concat(isMicrosoft ? ':not(div[style^=\"position:absolute;top:0;left:-\"]' : '') : 'body > :not(iframe)', \" {\"));\n        lines.push(\"    background-color: \".concat(modifyBackgroundColor({ r: 255, g: 255, b: 255 }, filter), \" !important;\"));\n        lines.push(\"    border-color: \".concat(modifyBorderColor({ r: 64, g: 64, b: 64 }, filter), \" !important;\"));\n        lines.push(\"    color: \".concat(modifyForegroundColor({ r: 0, g: 0, b: 0 }, filter), \" !important;\"));\n        lines.push('}');\n        return lines.join('\\n');\n    }\n    var unparsableColors = new Set([\n        'inherit',\n        'transparent',\n        'initial',\n        'currentcolor',\n        'none',\n        'unset',\n    ]);\n    var colorParseCache = new Map();\n    function parseColorWithCache($color) {\n        $color = $color.trim();\n        if (colorParseCache.has($color)) {\n            return colorParseCache.get($color);\n        }\n        if ($color.includes('calc(')) {\n            $color = lowerCalcExpression($color);\n        }\n        var color = parse($color);\n        colorParseCache.set($color, color);\n        return color;\n    }\n    function tryParseColor($color) {\n        try {\n            return parseColorWithCache($color);\n        }\n        catch (err) {\n            return null;\n        }\n    }\n    function getColorModifier(prop, value) {\n        if (unparsableColors.has(value.toLowerCase())) {\n            return value;\n        }\n        try {\n            var rgb_1 = parseColorWithCache(value);\n            if (prop.includes('background')) {\n                return function (filter) { return modifyBackgroundColor(rgb_1, filter); };\n            }\n            if (prop.includes('border') || prop.includes('outline')) {\n                return function (filter) { return modifyBorderColor(rgb_1, filter); };\n            }\n            return function (filter) { return modifyForegroundColor(rgb_1, filter); };\n        }\n        catch (err) {\n            logWarn('Color parse error', err);\n            return null;\n        }\n    }\n    var imageDetailsCache = new Map();\n    var awaitingForImageLoading = new Map();\n    function shouldIgnoreImage(selectorText, selectors) {\n        if (!selectorText || selectors.length === 0) {\n            return false;\n        }\n        if (selectors.some(function (s) { return s === '*'; })) {\n            return true;\n        }\n        var ruleSelectors = selectorText.split(/,\\s*/g);\n        var _loop_1 = function (i) {\n            var ignoredSelector = selectors[i];\n            if (ruleSelectors.some(function (s) { return s === ignoredSelector; })) {\n                return { value: true };\n            }\n        };\n        for (var i = 0; i < selectors.length; i++) {\n            var state_1 = _loop_1(i);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n        return false;\n    }\n    function getBgImageModifier(value, rule, ignoreImageSelectors, isCancelled) {\n        var _this = this;\n        try {\n            var gradients = parseGradient(value);\n            var urls = getMatches(cssURLRegex, value);\n            if (urls.length === 0 && gradients.length === 0) {\n                return value;\n            }\n            var getIndices = function (matches) {\n                var index = 0;\n                return matches.map(function (match) {\n                    var valueIndex = value.indexOf(match, index);\n                    index = valueIndex + match.length;\n                    return { match: match, index: valueIndex };\n                });\n            };\n            var matches_1 = gradients.map(function (i) { return (__assign({ type: 'gradient' }, i)); })\n                .concat(getIndices(urls).map(function (i) { return (__assign({ type: 'url', offset: 0 }, i)); }))\n                .sort(function (a, b) { return a.index > b.index ? 1 : -1; });\n            var getGradientModifier_1 = function (gradient) {\n                var typeGradient = gradient.typeGradient, match = gradient.match, hasComma = gradient.hasComma;\n                var partsRegex = /([^\\(\\),]+(\\([^\\(\\)]*(\\([^\\(\\)]*\\)*[^\\(\\)]*)?\\))?[^\\(\\),]*),?/g;\n                var colorStopRegex = /^(from|color-stop|to)\\(([^\\(\\)]*?,\\s*)?(.*?)\\)$/;\n                var parts = getMatches(partsRegex, match, 1).map(function (part) {\n                    part = part.trim();\n                    var rgb = tryParseColor(part);\n                    if (rgb) {\n                        return function (filter) { return modifyGradientColor(rgb, filter); };\n                    }\n                    var space = part.lastIndexOf(' ');\n                    rgb = tryParseColor(part.substring(0, space));\n                    if (rgb) {\n                        return function (filter) { return \"\".concat(modifyGradientColor(rgb, filter), \" \").concat(part.substring(space + 1)); };\n                    }\n                    var colorStopMatch = part.match(colorStopRegex);\n                    if (colorStopMatch) {\n                        rgb = tryParseColor(colorStopMatch[3]);\n                        if (rgb) {\n                            return function (filter) { return \"\".concat(colorStopMatch[1], \"(\").concat(colorStopMatch[2] ? \"\".concat(colorStopMatch[2], \", \") : '').concat(modifyGradientColor(rgb, filter), \")\"); };\n                        }\n                    }\n                    return function () { return part; };\n                });\n                return function (filter) {\n                    return \"\".concat(typeGradient, \"(\").concat(parts.map(function (modify) { return modify(filter); }).join(', '), \")\").concat(hasComma ? ', ' : '');\n                };\n            };\n            var getURLModifier_1 = function (urlValue) {\n                var _a;\n                if (shouldIgnoreImage(rule.selectorText, ignoreImageSelectors)) {\n                    return null;\n                }\n                var url = getCSSURLValue(urlValue);\n                var parentStyleSheet = rule.parentStyleSheet;\n                var baseURL = (parentStyleSheet && parentStyleSheet.href) ?\n                    getCSSBaseBath(parentStyleSheet.href) :\n                    ((_a = parentStyleSheet.ownerNode) === null || _a === void 0 ? void 0 : _a.baseURI) || location.origin;\n                url = getAbsoluteURL(baseURL, url);\n                var absoluteValue = \"url(\\\"\".concat(url, \"\\\")\");\n                return function (filter) { return __awaiter(_this, void 0, void 0, function () {\n                    var imageDetails, awaiters_1, err_1, bgImageValue;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                if (!imageDetailsCache.has(url)) return [3, 1];\n                                imageDetails = imageDetailsCache.get(url);\n                                return [3, 7];\n                            case 1:\n                                _a.trys.push([1, 6, , 7]);\n                                if (!awaitingForImageLoading.has(url)) return [3, 3];\n                                awaiters_1 = awaitingForImageLoading.get(url);\n                                return [4, new Promise(function (resolve) { return awaiters_1.push(resolve); })];\n                            case 2:\n                                imageDetails = _a.sent();\n                                if (!imageDetails) {\n                                    return [2, null];\n                                }\n                                return [3, 5];\n                            case 3:\n                                awaitingForImageLoading.set(url, []);\n                                return [4, getImageDetails(url)];\n                            case 4:\n                                imageDetails = _a.sent();\n                                imageDetailsCache.set(url, imageDetails);\n                                awaitingForImageLoading.get(url).forEach(function (resolve) { return resolve(imageDetails); });\n                                awaitingForImageLoading.delete(url);\n                                _a.label = 5;\n                            case 5:\n                                if (isCancelled()) {\n                                    return [2, null];\n                                }\n                                return [3, 7];\n                            case 6:\n                                err_1 = _a.sent();\n                                logWarn(err_1);\n                                if (awaitingForImageLoading.has(url)) {\n                                    awaitingForImageLoading.get(url).forEach(function (resolve) { return resolve(null); });\n                                    awaitingForImageLoading.delete(url);\n                                }\n                                return [2, absoluteValue];\n                            case 7:\n                                bgImageValue = getBgImageValue_1(imageDetails, filter) || absoluteValue;\n                                return [2, bgImageValue];\n                        }\n                    });\n                }); };\n            };\n            var getBgImageValue_1 = function (imageDetails, filter) {\n                var isDark = imageDetails.isDark, isLight = imageDetails.isLight, isTransparent = imageDetails.isTransparent, isLarge = imageDetails.isLarge, isTooLarge = imageDetails.isTooLarge, width = imageDetails.width;\n                var result;\n                if (isTooLarge) {\n                    result = \"url(\\\"\".concat(imageDetails.src, \"\\\")\");\n                }\n                else if (isDark && isTransparent && filter.mode === 1 && !isLarge && width > 2) {\n                    logInfo(\"Inverting dark image \".concat(imageDetails.src));\n                    var inverted = getFilteredImageDataURL(imageDetails, __assign(__assign({}, filter), { sepia: clamp(filter.sepia + 10, 0, 100) }));\n                    result = \"url(\\\"\".concat(inverted, \"\\\")\");\n                }\n                else if (isLight && !isTransparent && filter.mode === 1) {\n                    if (isLarge) {\n                        result = 'none';\n                    }\n                    else {\n                        logInfo(\"Dimming light image \".concat(imageDetails.src));\n                        var dimmed = getFilteredImageDataURL(imageDetails, filter);\n                        result = \"url(\\\"\".concat(dimmed, \"\\\")\");\n                    }\n                }\n                else if (filter.mode === 0 && isLight && !isLarge) {\n                    logInfo(\"Applying filter to image \".concat(imageDetails.src));\n                    var filtered = getFilteredImageDataURL(imageDetails, __assign(__assign({}, filter), { brightness: clamp(filter.brightness - 10, 5, 200), sepia: clamp(filter.sepia + 10, 0, 100) }));\n                    result = \"url(\\\"\".concat(filtered, \"\\\")\");\n                }\n                else {\n                    result = null;\n                }\n                return result;\n            };\n            var modifiers_1 = [];\n            var matchIndex_1 = 0;\n            matches_1.forEach(function (_a, i) {\n                var type = _a.type, match = _a.match, index = _a.index, typeGradient = _a.typeGradient, hasComma = _a.hasComma, offset = _a.offset;\n                var matchStart = index;\n                var prefixStart = matchIndex_1;\n                var matchEnd = matchStart + match.length + offset;\n                matchIndex_1 = matchEnd;\n                prefixStart !== matchStart && modifiers_1.push(function () { return value.substring(prefixStart, matchStart); });\n                if (type === 'url') {\n                    modifiers_1.push(getURLModifier_1(match));\n                }\n                else if (type === 'gradient') {\n                    modifiers_1.push(getGradientModifier_1({ match: match, index: index, typeGradient: typeGradient, hasComma: hasComma, offset: offset }));\n                }\n                if (i === matches_1.length - 1) {\n                    modifiers_1.push(function () { return value.substring(matchEnd); });\n                }\n            });\n            return function (filter) {\n                var results = modifiers_1.filter(Boolean).map(function (modify) { return modify(filter); });\n                if (results.some(function (r) { return r instanceof Promise; })) {\n                    return Promise.all(results).then(function (asyncResults) {\n                        return asyncResults.filter(Boolean).join('');\n                    });\n                }\n                return results.join('');\n            };\n        }\n        catch (err) {\n            logWarn(\"Unable to parse gradient \".concat(value), err);\n            return null;\n        }\n    }\n    function getShadowModifierWithInfo(value) {\n        try {\n            var index_1 = 0;\n            var colorMatches_1 = getMatches(/(^|\\s)(?!calc)([a-z]+\\(.+?\\)|#[0-9a-f]+|[a-z]+)(.*?(inset|outset)?($|,))/ig, value, 2);\n            var notParsed_1 = 0;\n            var modifiers_2 = colorMatches_1.map(function (match, i) {\n                var prefixIndex = index_1;\n                var matchIndex = value.indexOf(match, index_1);\n                var matchEnd = matchIndex + match.length;\n                index_1 = matchEnd;\n                var rgb = tryParseColor(match);\n                if (!rgb) {\n                    notParsed_1++;\n                    return function () { return value.substring(prefixIndex, matchEnd); };\n                }\n                return function (filter) { return \"\".concat(value.substring(prefixIndex, matchIndex)).concat(modifyShadowColor(rgb, filter)).concat(i === colorMatches_1.length - 1 ? value.substring(matchEnd) : ''); };\n            });\n            return function (filter) {\n                var modified = modifiers_2.map(function (modify) { return modify(filter); }).join('');\n                return {\n                    matchesLength: colorMatches_1.length,\n                    unparseableMatchesLength: notParsed_1,\n                    result: modified,\n                };\n            };\n        }\n        catch (err) {\n            logWarn(\"Unable to parse shadow \".concat(value), err);\n            return null;\n        }\n    }\n    function getShadowModifier(value) {\n        var shadowModifier = getShadowModifierWithInfo(value);\n        if (!shadowModifier) {\n            return null;\n        }\n        return function (theme) { return shadowModifier(theme).result; };\n    }\n    function getVariableModifier(variablesStore, prop, value, rule, ignoredImgSelectors, isCancelled) {\n        return variablesStore.getModifierForVariable({\n            varName: prop,\n            sourceValue: value,\n            rule: rule,\n            ignoredImgSelectors: ignoredImgSelectors,\n            isCancelled: isCancelled,\n        });\n    }\n    function getVariableDependantModifier(variablesStore, prop, value) {\n        return variablesStore.getModifierForVarDependant(prop, value);\n    }\n    function cleanModificationCache() {\n        colorParseCache.clear();\n        clearColorModificationCache();\n        imageDetailsCache.clear();\n        cleanImageProcessingCache();\n        awaitingForImageLoading.clear();\n    }\n\n    var VAR_TYPE_BGCOLOR = 1 << 0;\n    var VAR_TYPE_TEXTCOLOR = 1 << 1;\n    var VAR_TYPE_BORDERCOLOR = 1 << 2;\n    var VAR_TYPE_BGIMG = 1 << 3;\n    var VariablesStore = (function () {\n        function VariablesStore() {\n            this.varTypes = new Map();\n            this.rulesQueue = [];\n            this.definedVars = new Set();\n            this.varRefs = new Map();\n            this.unknownColorVars = new Set();\n            this.unknownBgVars = new Set();\n            this.undefinedVars = new Set();\n            this.initialVarTypes = new Map();\n            this.changedTypeVars = new Set();\n            this.typeChangeSubscriptions = new Map();\n            this.unstableVarValues = new Map();\n        }\n        VariablesStore.prototype.clear = function () {\n            this.varTypes.clear();\n            this.rulesQueue.splice(0);\n            this.definedVars.clear();\n            this.varRefs.clear();\n            this.unknownColorVars.clear();\n            this.unknownBgVars.clear();\n            this.undefinedVars.clear();\n            this.initialVarTypes.clear();\n            this.changedTypeVars.clear();\n            this.typeChangeSubscriptions.clear();\n            this.unstableVarValues.clear();\n        };\n        VariablesStore.prototype.isVarType = function (varName, typeNum) {\n            return (this.varTypes.has(varName) &&\n                (this.varTypes.get(varName) & typeNum) > 0);\n        };\n        VariablesStore.prototype.addRulesForMatching = function (rules) {\n            this.rulesQueue.push(rules);\n        };\n        VariablesStore.prototype.matchVariablesAndDependants = function () {\n            var _this = this;\n            this.changedTypeVars.clear();\n            this.initialVarTypes = new Map(this.varTypes);\n            this.collectRootVariables();\n            this.collectVariablesAndVarDep(this.rulesQueue);\n            this.rulesQueue.splice(0);\n            this.collectRootVarDependants();\n            this.varRefs.forEach(function (refs, v) {\n                refs.forEach(function (r) {\n                    if (_this.varTypes.has(v)) {\n                        _this.resolveVariableType(r, _this.varTypes.get(v));\n                    }\n                });\n            });\n            this.unknownColorVars.forEach(function (v) {\n                if (_this.unknownBgVars.has(v)) {\n                    _this.unknownColorVars.delete(v);\n                    _this.unknownBgVars.delete(v);\n                    _this.resolveVariableType(v, VAR_TYPE_BGCOLOR);\n                }\n                else if (_this.isVarType(v, VAR_TYPE_BGCOLOR | VAR_TYPE_TEXTCOLOR | VAR_TYPE_BORDERCOLOR)) {\n                    _this.unknownColorVars.delete(v);\n                }\n                else {\n                    _this.undefinedVars.add(v);\n                }\n            });\n            this.unknownBgVars.forEach(function (v) {\n                var hasColor = _this.findVarRef(v, function (ref) {\n                    return (_this.unknownColorVars.has(ref) ||\n                        _this.isVarType(ref, VAR_TYPE_TEXTCOLOR | VAR_TYPE_BORDERCOLOR));\n                }) != null;\n                if (hasColor) {\n                    _this.itarateVarRefs(v, function (ref) {\n                        _this.resolveVariableType(ref, VAR_TYPE_BGCOLOR);\n                    });\n                }\n                else if (_this.isVarType(v, VAR_TYPE_BGCOLOR | VAR_TYPE_BGIMG)) {\n                    _this.unknownBgVars.delete(v);\n                }\n                else {\n                    _this.undefinedVars.add(v);\n                }\n            });\n            this.changedTypeVars.forEach(function (varName) {\n                if (_this.typeChangeSubscriptions.has(varName)) {\n                    _this.typeChangeSubscriptions\n                        .get(varName)\n                        .forEach(function (callback) {\n                        callback();\n                    });\n                }\n            });\n            this.changedTypeVars.clear();\n        };\n        VariablesStore.prototype.getModifierForVariable = function (options) {\n            var _this = this;\n            return function (theme) {\n                var varName = options.varName, sourceValue = options.sourceValue, rule = options.rule, ignoredImgSelectors = options.ignoredImgSelectors, isCancelled = options.isCancelled;\n                var getDeclarations = function () {\n                    var declarations = [];\n                    var addModifiedValue = function (typeNum, varNameWrapper, colorModifier) {\n                        if (!_this.isVarType(varName, typeNum)) {\n                            return;\n                        }\n                        var property = varNameWrapper(varName);\n                        var modifiedValue;\n                        if (isVarDependant(sourceValue)) {\n                            if (isConstructedColorVar(sourceValue)) {\n                                var value = insertVarValues(sourceValue, _this.unstableVarValues);\n                                if (!value) {\n                                    value = typeNum === VAR_TYPE_BGCOLOR ? '#ffffff' : '#000000';\n                                }\n                                modifiedValue = colorModifier(value, theme);\n                            }\n                            else {\n                                modifiedValue = replaceCSSVariablesNames(sourceValue, function (v) { return varNameWrapper(v); }, function (fallback) { return colorModifier(fallback, theme); });\n                            }\n                        }\n                        else {\n                            modifiedValue = colorModifier(sourceValue, theme);\n                        }\n                        declarations.push({\n                            property: property,\n                            value: modifiedValue,\n                        });\n                    };\n                    addModifiedValue(VAR_TYPE_BGCOLOR, wrapBgColorVariableName, tryModifyBgColor);\n                    addModifiedValue(VAR_TYPE_TEXTCOLOR, wrapTextColorVariableName, tryModifyTextColor);\n                    addModifiedValue(VAR_TYPE_BORDERCOLOR, wrapBorderColorVariableName, tryModifyBorderColor);\n                    if (_this.isVarType(varName, VAR_TYPE_BGIMG)) {\n                        var property = wrapBgImgVariableName(varName);\n                        var modifiedValue = sourceValue;\n                        if (isVarDependant(sourceValue)) {\n                            modifiedValue = replaceCSSVariablesNames(sourceValue, function (v) { return wrapBgColorVariableName(v); }, function (fallback) { return tryModifyBgColor(fallback, theme); });\n                        }\n                        var bgModifier = getBgImageModifier(modifiedValue, rule, ignoredImgSelectors, isCancelled);\n                        modifiedValue = typeof bgModifier === 'function' ? bgModifier(theme) : bgModifier;\n                        declarations.push({\n                            property: property,\n                            value: modifiedValue,\n                        });\n                    }\n                    return declarations;\n                };\n                var callbacks = new Set();\n                var addListener = function (onTypeChange) {\n                    var callback = function () {\n                        var decs = getDeclarations();\n                        onTypeChange(decs);\n                    };\n                    callbacks.add(callback);\n                    _this.subscribeForVarTypeChange(varName, callback);\n                };\n                var removeListeners = function () {\n                    callbacks.forEach(function (callback) {\n                        _this.unsubscribeFromVariableTypeChanges(varName, callback);\n                    });\n                };\n                return {\n                    declarations: getDeclarations(),\n                    onTypeChange: { addListener: addListener, removeListeners: removeListeners },\n                };\n            };\n        };\n        VariablesStore.prototype.getModifierForVarDependant = function (property, sourceValue) {\n            var _this = this;\n            if (sourceValue.match(/^\\s*(rgb|hsl)a?\\(/)) {\n                var isBg_1 = property.startsWith('background');\n                var isText_1 = (property === 'color' || property === 'caret-color');\n                return function (theme) {\n                    var value = insertVarValues(sourceValue, _this.unstableVarValues);\n                    if (!value) {\n                        value = isBg_1 ? '#ffffff' : '#000000';\n                    }\n                    var modifier = isBg_1 ? tryModifyBgColor : isText_1 ? tryModifyTextColor : tryModifyBorderColor;\n                    return modifier(value, theme);\n                };\n            }\n            if (property === 'background-color') {\n                return function (theme) {\n                    return replaceCSSVariablesNames(sourceValue, function (v) { return wrapBgColorVariableName(v); }, function (fallback) { return tryModifyBgColor(fallback, theme); });\n                };\n            }\n            if (property === 'color' || property === 'caret-color') {\n                return function (theme) {\n                    return replaceCSSVariablesNames(sourceValue, function (v) { return wrapTextColorVariableName(v); }, function (fallback) { return tryModifyTextColor(fallback, theme); });\n                };\n            }\n            if (property === 'background' || property === 'background-image' || property === 'box-shadow') {\n                return function (theme) {\n                    var unknownVars = new Set();\n                    var modify = function () {\n                        var variableReplaced = replaceCSSVariablesNames(sourceValue, function (v) {\n                            if (_this.isVarType(v, VAR_TYPE_BGCOLOR)) {\n                                return wrapBgColorVariableName(v);\n                            }\n                            if (_this.isVarType(v, VAR_TYPE_BGIMG)) {\n                                return wrapBgImgVariableName(v);\n                            }\n                            unknownVars.add(v);\n                            return v;\n                        }, function (fallback) { return tryModifyBgColor(fallback, theme); });\n                        if (property === 'box-shadow') {\n                            var shadowModifier = getShadowModifierWithInfo(variableReplaced);\n                            var modifiedShadow = shadowModifier(theme);\n                            if (modifiedShadow.unparseableMatchesLength !== modifiedShadow.matchesLength) {\n                                return modifiedShadow.result;\n                            }\n                        }\n                        return variableReplaced;\n                    };\n                    var modified = modify();\n                    if (unknownVars.size > 0) {\n                        return new Promise(function (resolve) {\n                            var firstUnknownVar = unknownVars.values().next().value;\n                            var callback = function () {\n                                _this.unsubscribeFromVariableTypeChanges(firstUnknownVar, callback);\n                                var newValue = modify();\n                                resolve(newValue);\n                            };\n                            _this.subscribeForVarTypeChange(firstUnknownVar, callback);\n                        });\n                    }\n                    return modified;\n                };\n            }\n            if (property.startsWith('border') || property.startsWith('outline')) {\n                return function (theme) {\n                    return replaceCSSVariablesNames(sourceValue, function (v) { return wrapBorderColorVariableName(v); }, function (fallback) { return tryModifyBorderColor(fallback, theme); });\n                };\n            }\n            return null;\n        };\n        VariablesStore.prototype.subscribeForVarTypeChange = function (varName, callback) {\n            if (!this.typeChangeSubscriptions.has(varName)) {\n                this.typeChangeSubscriptions.set(varName, new Set());\n            }\n            var rootStore = this.typeChangeSubscriptions.get(varName);\n            if (!rootStore.has(callback)) {\n                rootStore.add(callback);\n            }\n        };\n        VariablesStore.prototype.unsubscribeFromVariableTypeChanges = function (varName, callback) {\n            if (this.typeChangeSubscriptions.has(varName)) {\n                this.typeChangeSubscriptions.get(varName).delete(callback);\n            }\n        };\n        VariablesStore.prototype.collectVariablesAndVarDep = function (ruleList) {\n            var _this = this;\n            ruleList.forEach(function (rules) {\n                iterateCSSRules(rules, function (rule) {\n                    rule.style && iterateCSSDeclarations(rule.style, function (property, value) {\n                        if (isVariable(property)) {\n                            _this.inspectVariable(property, value);\n                        }\n                        if (isVarDependant(value)) {\n                            _this.inspectVarDependant(property, value);\n                        }\n                    });\n                });\n            });\n        };\n        VariablesStore.prototype.collectRootVariables = function () {\n            var _this = this;\n            iterateCSSDeclarations(document.documentElement.style, function (property, value) {\n                if (isVariable(property)) {\n                    _this.inspectVariable(property, value);\n                }\n            });\n        };\n        VariablesStore.prototype.inspectVariable = function (varName, value) {\n            this.unstableVarValues.set(varName, value);\n            if (isVarDependant(value) && isConstructedColorVar(value)) {\n                this.unknownColorVars.add(varName);\n                this.definedVars.add(varName);\n            }\n            if (this.definedVars.has(varName)) {\n                return;\n            }\n            this.definedVars.add(varName);\n            var color = tryParseColor(value);\n            if (color) {\n                this.unknownColorVars.add(varName);\n            }\n            else if (value.includes('url(') ||\n                value.includes('linear-gradient(') ||\n                value.includes('radial-gradient(')) {\n                this.resolveVariableType(varName, VAR_TYPE_BGIMG);\n            }\n        };\n        VariablesStore.prototype.resolveVariableType = function (varName, typeNum) {\n            var initialType = this.initialVarTypes.get(varName) || 0;\n            var currentType = this.varTypes.get(varName) || 0;\n            var newType = currentType | typeNum;\n            this.varTypes.set(varName, newType);\n            if (newType !== initialType || this.undefinedVars.has(varName)) {\n                this.changedTypeVars.add(varName);\n                this.undefinedVars.delete(varName);\n            }\n            this.unknownColorVars.delete(varName);\n            this.unknownBgVars.delete(varName);\n        };\n        VariablesStore.prototype.collectRootVarDependants = function () {\n            var _this = this;\n            iterateCSSDeclarations(document.documentElement.style, function (property, value) {\n                if (isVarDependant(value)) {\n                    _this.inspectVarDependant(property, value);\n                }\n            });\n        };\n        VariablesStore.prototype.inspectVarDependant = function (property, value) {\n            var _this = this;\n            if (isVariable(property)) {\n                this.iterateVarDeps(value, function (ref) {\n                    if (!_this.varRefs.has(property)) {\n                        _this.varRefs.set(property, new Set());\n                    }\n                    _this.varRefs.get(property).add(ref);\n                });\n            }\n            else if (property === 'background-color' || property === 'box-shadow') {\n                this.iterateVarDeps(value, function (v) { return _this.resolveVariableType(v, VAR_TYPE_BGCOLOR); });\n            }\n            else if (property === 'color' || property === 'caret-color') {\n                this.iterateVarDeps(value, function (v) { return _this.resolveVariableType(v, VAR_TYPE_TEXTCOLOR); });\n            }\n            else if (property.startsWith('border') || property.startsWith('outline')) {\n                this.iterateVarDeps(value, function (v) { return _this.resolveVariableType(v, VAR_TYPE_BORDERCOLOR); });\n            }\n            else if (property === 'background' || property === 'background-image') {\n                this.iterateVarDeps(value, function (v) {\n                    if (_this.isVarType(v, VAR_TYPE_BGCOLOR | VAR_TYPE_BGIMG)) {\n                        return;\n                    }\n                    var isBgColor = _this.findVarRef(v, function (ref) {\n                        return (_this.unknownColorVars.has(ref) ||\n                            _this.isVarType(ref, VAR_TYPE_TEXTCOLOR | VAR_TYPE_BORDERCOLOR));\n                    }) != null;\n                    _this.itarateVarRefs(v, function (ref) {\n                        if (isBgColor) {\n                            _this.resolveVariableType(ref, VAR_TYPE_BGCOLOR);\n                        }\n                        else {\n                            _this.unknownBgVars.add(ref);\n                        }\n                    });\n                });\n            }\n        };\n        VariablesStore.prototype.iterateVarDeps = function (value, iterator) {\n            var varDeps = new Set();\n            iterateVarDependencies(value, function (v) { return varDeps.add(v); });\n            varDeps.forEach(function (v) { return iterator(v); });\n        };\n        VariablesStore.prototype.findVarRef = function (varName, iterator, stack) {\n            var e_1, _a;\n            if (stack === void 0) { stack = new Set(); }\n            if (stack.has(varName)) {\n                return null;\n            }\n            stack.add(varName);\n            var result = iterator(varName);\n            if (result) {\n                return varName;\n            }\n            var refs = this.varRefs.get(varName);\n            if (!refs || refs.size === 0) {\n                return null;\n            }\n            try {\n                for (var refs_1 = __values(refs), refs_1_1 = refs_1.next(); !refs_1_1.done; refs_1_1 = refs_1.next()) {\n                    var ref = refs_1_1.value;\n                    var found = this.findVarRef(ref, iterator, stack);\n                    if (found) {\n                        return found;\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (refs_1_1 && !refs_1_1.done && (_a = refs_1.return)) _a.call(refs_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            return null;\n        };\n        VariablesStore.prototype.itarateVarRefs = function (varName, iterator) {\n            this.findVarRef(varName, function (ref) {\n                iterator(ref);\n                return false;\n            });\n        };\n        VariablesStore.prototype.setOnRootVariableChange = function (callback) {\n            this.onRootVariableDefined = callback;\n        };\n        VariablesStore.prototype.putRootVars = function (styleElement, theme) {\n            var e_2, _a;\n            var _this = this;\n            var sheet = styleElement.sheet;\n            if (sheet.cssRules.length > 0) {\n                sheet.deleteRule(0);\n            }\n            var declarations = new Map();\n            iterateCSSDeclarations(document.documentElement.style, function (property, value) {\n                if (isVariable(property)) {\n                    if (_this.isVarType(property, VAR_TYPE_BGCOLOR)) {\n                        declarations.set(wrapBgColorVariableName(property), tryModifyBgColor(value, theme));\n                    }\n                    if (_this.isVarType(property, VAR_TYPE_TEXTCOLOR)) {\n                        declarations.set(wrapTextColorVariableName(property), tryModifyTextColor(value, theme));\n                    }\n                    if (_this.isVarType(property, VAR_TYPE_BORDERCOLOR)) {\n                        declarations.set(wrapBorderColorVariableName(property), tryModifyBorderColor(value, theme));\n                    }\n                    _this.subscribeForVarTypeChange(property, _this.onRootVariableDefined);\n                }\n            });\n            var cssLines = [];\n            cssLines.push(':root {');\n            try {\n                for (var declarations_1 = __values(declarations), declarations_1_1 = declarations_1.next(); !declarations_1_1.done; declarations_1_1 = declarations_1.next()) {\n                    var _b = __read(declarations_1_1.value, 2), property = _b[0], value = _b[1];\n                    cssLines.push(\"    \".concat(property, \": \").concat(value, \";\"));\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (declarations_1_1 && !declarations_1_1.done && (_a = declarations_1.return)) _a.call(declarations_1);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n            cssLines.push('}');\n            var cssText = cssLines.join('\\n');\n            sheet.insertRule(cssText);\n        };\n        return VariablesStore;\n    }());\n    var variablesStore = new VariablesStore();\n    function getVariableRange(input, searchStart) {\n        if (searchStart === void 0) { searchStart = 0; }\n        var start = input.indexOf('var(', searchStart);\n        if (start >= 0) {\n            var range = getParenthesesRange(input, start + 3);\n            if (range) {\n                return { start: start, end: range.end };\n            }\n            return null;\n        }\n    }\n    function getVariablesMatches(input) {\n        var ranges = [];\n        var i = 0;\n        var range;\n        while ((range = getVariableRange(input, i))) {\n            var start = range.start, end = range.end;\n            ranges.push({ start: start, end: end, value: input.substring(start, end) });\n            i = range.end + 1;\n        }\n        return ranges;\n    }\n    function replaceVariablesMatches(input, replacer) {\n        var matches = getVariablesMatches(input);\n        var matchesCount = matches.length;\n        if (matchesCount === 0) {\n            return input;\n        }\n        var inputLength = input.length;\n        var replacements = matches.map(function (m) { return replacer(m.value); });\n        var parts = [];\n        parts.push(input.substring(0, matches[0].start));\n        for (var i = 0; i < matchesCount; i++) {\n            parts.push(replacements[i]);\n            var start = matches[i].end;\n            var end = i < matchesCount - 1 ? matches[i + 1].start : inputLength;\n            parts.push(input.substring(start, end));\n        }\n        return parts.join('');\n    }\n    function getVariableNameAndFallback(match) {\n        var commaIndex = match.indexOf(',');\n        var name;\n        var fallback;\n        if (commaIndex >= 0) {\n            name = match.substring(4, commaIndex).trim();\n            fallback = match.substring(commaIndex + 1, match.length - 1).trim();\n        }\n        else {\n            name = match.substring(4, match.length - 1).trim();\n            fallback = '';\n        }\n        return { name: name, fallback: fallback };\n    }\n    function replaceCSSVariablesNames(value, nameReplacer, fallbackReplacer) {\n        var matchReplacer = function (match) {\n            var _a = getVariableNameAndFallback(match), name = _a.name, fallback = _a.fallback;\n            var newName = nameReplacer(name);\n            if (!fallback) {\n                return \"var(\".concat(newName, \")\");\n            }\n            var newFallback;\n            if (isVarDependant(fallback)) {\n                newFallback = replaceCSSVariablesNames(fallback, nameReplacer, fallbackReplacer);\n            }\n            else if (fallbackReplacer) {\n                newFallback = fallbackReplacer(fallback);\n            }\n            else {\n                newFallback = fallback;\n            }\n            return \"var(\".concat(newName, \", \").concat(newFallback, \")\");\n        };\n        return replaceVariablesMatches(value, matchReplacer);\n    }\n    function iterateVarDependencies(value, iterator) {\n        replaceCSSVariablesNames(value, function (varName) {\n            iterator(varName);\n            return varName;\n        });\n    }\n    function wrapBgColorVariableName(name) {\n        return \"--darkreader-bg\".concat(name);\n    }\n    function wrapTextColorVariableName(name) {\n        return \"--darkreader-text\".concat(name);\n    }\n    function wrapBorderColorVariableName(name) {\n        return \"--darkreader-border\".concat(name);\n    }\n    function wrapBgImgVariableName(name) {\n        return \"--darkreader-bgimg\".concat(name);\n    }\n    function isVariable(property) {\n        return property.startsWith('--');\n    }\n    function isVarDependant(value) {\n        return value.includes('var(');\n    }\n    function isConstructedColorVar(value) {\n        return value.match(/^\\s*(rgb|hsl)a?\\(/);\n    }\n    var rawValueRegex = /^\\d{1,3}, ?\\d{1,3}, ?\\d{1,3}$/;\n    function parseRawValue(color) {\n        if (rawValueRegex.test(color)) {\n            var splitted = color.split(',');\n            var resultInRGB_1 = 'rgb(';\n            splitted.forEach(function (number) {\n                resultInRGB_1 += \"\".concat(number.trim(), \", \");\n            });\n            resultInRGB_1 = resultInRGB_1.substring(0, resultInRGB_1.length - 2);\n            resultInRGB_1 += ')';\n            return { isRaw: true, color: resultInRGB_1 };\n        }\n        return { isRaw: false, color: color };\n    }\n    function handleRawValue(color, theme, modifyFunction) {\n        var _a = parseRawValue(color), isRaw = _a.isRaw, newColor = _a.color;\n        var rgb = tryParseColor(newColor);\n        if (rgb) {\n            var outputColor = modifyFunction(rgb, theme);\n            if (isRaw) {\n                var outputInRGB = tryParseColor(outputColor);\n                return outputInRGB ? \"\".concat(outputInRGB.r, \", \").concat(outputInRGB.g, \", \").concat(outputInRGB.b) : outputColor;\n            }\n            return outputColor;\n        }\n        return newColor;\n    }\n    function tryModifyBgColor(color, theme) {\n        return handleRawValue(color, theme, modifyBackgroundColor);\n    }\n    function tryModifyTextColor(color, theme) {\n        return handleRawValue(color, theme, modifyForegroundColor);\n    }\n    function tryModifyBorderColor(color, theme) {\n        return handleRawValue(color, theme, modifyBorderColor);\n    }\n    function insertVarValues(source, varValues, stack) {\n        if (stack === void 0) { stack = new Set(); }\n        var containsUnresolvedVar = false;\n        var matchReplacer = function (match) {\n            var _a = getVariableNameAndFallback(match), name = _a.name, fallback = _a.fallback;\n            if (stack.has(name)) {\n                containsUnresolvedVar = true;\n                return null;\n            }\n            stack.add(name);\n            var varValue = varValues.get(name) || fallback;\n            var inserted = null;\n            if (varValue) {\n                if (isVarDependant(varValue)) {\n                    inserted = insertVarValues(varValue, varValues, stack);\n                }\n                else {\n                    inserted = varValue;\n                }\n            }\n            if (!inserted) {\n                containsUnresolvedVar = true;\n                return null;\n            }\n            return inserted;\n        };\n        var replaced = replaceVariablesMatches(source, matchReplacer);\n        if (containsUnresolvedVar) {\n            return null;\n        }\n        return replaced;\n    }\n\n    var overrides = {\n        'background-color': {\n            customProp: '--darkreader-inline-bgcolor',\n            cssProp: 'background-color',\n            dataAttr: 'data-darkreader-inline-bgcolor',\n        },\n        'background-image': {\n            customProp: '--darkreader-inline-bgimage',\n            cssProp: 'background-image',\n            dataAttr: 'data-darkreader-inline-bgimage',\n        },\n        'border-color': {\n            customProp: '--darkreader-inline-border',\n            cssProp: 'border-color',\n            dataAttr: 'data-darkreader-inline-border',\n        },\n        'border-bottom-color': {\n            customProp: '--darkreader-inline-border-bottom',\n            cssProp: 'border-bottom-color',\n            dataAttr: 'data-darkreader-inline-border-bottom',\n        },\n        'border-left-color': {\n            customProp: '--darkreader-inline-border-left',\n            cssProp: 'border-left-color',\n            dataAttr: 'data-darkreader-inline-border-left',\n        },\n        'border-right-color': {\n            customProp: '--darkreader-inline-border-right',\n            cssProp: 'border-right-color',\n            dataAttr: 'data-darkreader-inline-border-right',\n        },\n        'border-top-color': {\n            customProp: '--darkreader-inline-border-top',\n            cssProp: 'border-top-color',\n            dataAttr: 'data-darkreader-inline-border-top',\n        },\n        'box-shadow': {\n            customProp: '--darkreader-inline-boxshadow',\n            cssProp: 'box-shadow',\n            dataAttr: 'data-darkreader-inline-boxshadow',\n        },\n        'color': {\n            customProp: '--darkreader-inline-color',\n            cssProp: 'color',\n            dataAttr: 'data-darkreader-inline-color',\n        },\n        'fill': {\n            customProp: '--darkreader-inline-fill',\n            cssProp: 'fill',\n            dataAttr: 'data-darkreader-inline-fill',\n        },\n        'stroke': {\n            customProp: '--darkreader-inline-stroke',\n            cssProp: 'stroke',\n            dataAttr: 'data-darkreader-inline-stroke',\n        },\n        'outline-color': {\n            customProp: '--darkreader-inline-outline',\n            cssProp: 'outline-color',\n            dataAttr: 'data-darkreader-inline-outline',\n        },\n        'stop-color': {\n            customProp: '--darkreader-inline-stopcolor',\n            cssProp: 'stop-color',\n            dataAttr: 'data-darkreader-inline-stopcolor',\n        },\n    };\n    var overridesList = Object.values(overrides);\n    var normalizedPropList = {};\n    overridesList.forEach(function (_a) {\n        var cssProp = _a.cssProp, customProp = _a.customProp;\n        return normalizedPropList[customProp] = cssProp;\n    });\n    var INLINE_STYLE_ATTRS = ['style', 'fill', 'stop-color', 'stroke', 'bgcolor', 'color'];\n    var INLINE_STYLE_SELECTOR = INLINE_STYLE_ATTRS.map(function (attr) { return \"[\".concat(attr, \"]\"); }).join(', ');\n    function getInlineOverrideStyle() {\n        return overridesList.map(function (_a) {\n            var dataAttr = _a.dataAttr, customProp = _a.customProp, cssProp = _a.cssProp;\n            return [\n                \"[\".concat(dataAttr, \"] {\"),\n                \"  \".concat(cssProp, \": var(\").concat(customProp, \") !important;\"),\n                '}',\n            ].join('\\n');\n        }).join('\\n');\n    }\n    function getInlineStyleElements(root) {\n        var results = [];\n        if (root instanceof Element && root.matches(INLINE_STYLE_SELECTOR)) {\n            results.push(root);\n        }\n        if (root instanceof Element || (isShadowDomSupported && root instanceof ShadowRoot) || root instanceof Document) {\n            push(results, root.querySelectorAll(INLINE_STYLE_SELECTOR));\n        }\n        return results;\n    }\n    var treeObservers = new Map();\n    var attrObservers = new Map();\n    function watchForInlineStyles(elementStyleDidChange, shadowRootDiscovered) {\n        deepWatchForInlineStyles(document, elementStyleDidChange, shadowRootDiscovered);\n        iterateShadowHosts(document.documentElement, function (host) {\n            deepWatchForInlineStyles(host.shadowRoot, elementStyleDidChange, shadowRootDiscovered);\n        });\n    }\n    function deepWatchForInlineStyles(root, elementStyleDidChange, shadowRootDiscovered) {\n        if (treeObservers.has(root)) {\n            treeObservers.get(root).disconnect();\n            attrObservers.get(root).disconnect();\n        }\n        var discoveredNodes = new WeakSet();\n        function discoverNodes(node) {\n            getInlineStyleElements(node).forEach(function (el) {\n                if (discoveredNodes.has(el)) {\n                    return;\n                }\n                discoveredNodes.add(el);\n                elementStyleDidChange(el);\n            });\n            iterateShadowHosts(node, function (n) {\n                if (discoveredNodes.has(node)) {\n                    return;\n                }\n                discoveredNodes.add(node);\n                shadowRootDiscovered(n.shadowRoot);\n                deepWatchForInlineStyles(n.shadowRoot, elementStyleDidChange, shadowRootDiscovered);\n            });\n        }\n        var treeObserver = createOptimizedTreeObserver(root, {\n            onMinorMutations: function (_a) {\n                var additions = _a.additions;\n                additions.forEach(function (added) { return discoverNodes(added); });\n            },\n            onHugeMutations: function () {\n                discoverNodes(root);\n            },\n        });\n        treeObservers.set(root, treeObserver);\n        var attemptCount = 0;\n        var start = null;\n        var ATTEMPTS_INTERVAL = getDuration({ seconds: 10 });\n        var RETRY_TIMEOUT = getDuration({ seconds: 2 });\n        var MAX_ATTEMPTS_COUNT = 50;\n        var cache = [];\n        var timeoutId = null;\n        var handleAttributeMutations = throttle(function (mutations) {\n            mutations.forEach(function (m) {\n                if (INLINE_STYLE_ATTRS.includes(m.attributeName)) {\n                    elementStyleDidChange(m.target);\n                }\n            });\n        });\n        var attrObserver = new MutationObserver(function (mutations) {\n            if (timeoutId) {\n                cache.push.apply(cache, __spreadArray([], __read(mutations), false));\n                return;\n            }\n            attemptCount++;\n            var now = Date.now();\n            if (start == null) {\n                start = now;\n            }\n            else if (attemptCount >= MAX_ATTEMPTS_COUNT) {\n                if (now - start < ATTEMPTS_INTERVAL) {\n                    timeoutId = setTimeout(function () {\n                        start = null;\n                        attemptCount = 0;\n                        timeoutId = null;\n                        var attributeCache = cache;\n                        cache = [];\n                        handleAttributeMutations(attributeCache);\n                    }, RETRY_TIMEOUT);\n                    cache.push.apply(cache, __spreadArray([], __read(mutations), false));\n                    return;\n                }\n                start = now;\n                attemptCount = 1;\n            }\n            handleAttributeMutations(mutations);\n        });\n        attrObserver.observe(root, {\n            attributes: true,\n            attributeFilter: INLINE_STYLE_ATTRS.concat(overridesList.map(function (_a) {\n                var dataAttr = _a.dataAttr;\n                return dataAttr;\n            })),\n            subtree: true,\n        });\n        attrObservers.set(root, attrObserver);\n    }\n    function stopWatchingForInlineStyles() {\n        treeObservers.forEach(function (o) { return o.disconnect(); });\n        attrObservers.forEach(function (o) { return o.disconnect(); });\n        treeObservers.clear();\n        attrObservers.clear();\n    }\n    var inlineStyleCache = new WeakMap();\n    var filterProps = ['brightness', 'contrast', 'grayscale', 'sepia', 'mode'];\n    function getInlineStyleCacheKey(el, theme) {\n        return INLINE_STYLE_ATTRS\n            .map(function (attr) { return \"\".concat(attr, \"=\\\"\").concat(el.getAttribute(attr), \"\\\"\"); })\n            .concat(filterProps.map(function (prop) { return \"\".concat(prop, \"=\\\"\").concat(theme[prop], \"\\\"\"); }))\n            .join(' ');\n    }\n    function shouldIgnoreInlineStyle(element, selectors) {\n        for (var i = 0, len = selectors.length; i < len; i++) {\n            var ingnoredSelector = selectors[i];\n            if (element.matches(ingnoredSelector)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    function overrideInlineStyle(element, theme, ignoreInlineSelectors, ignoreImageSelectors) {\n        var cacheKey = getInlineStyleCacheKey(element, theme);\n        if (cacheKey === inlineStyleCache.get(element)) {\n            return;\n        }\n        var unsetProps = new Set(Object.keys(overrides));\n        function setCustomProp(targetCSSProp, modifierCSSProp, cssVal) {\n            var isPropertyVariable = targetCSSProp.startsWith('--');\n            var _a = isPropertyVariable ? {} : overrides[targetCSSProp], customProp = _a.customProp, dataAttr = _a.dataAttr;\n            var mod = getModifiableCSSDeclaration(modifierCSSProp, cssVal, {}, variablesStore, ignoreImageSelectors, null);\n            if (!mod) {\n                return;\n            }\n            var value = mod.value;\n            if (typeof value === 'function') {\n                value = value(theme);\n            }\n            if (isPropertyVariable && typeof value === 'object') {\n                var typedValue = value;\n                typedValue.declarations.forEach(function (_a) {\n                    var property = _a.property, value = _a.value;\n                    !(value instanceof Promise) && element.style.setProperty(property, value);\n                });\n            }\n            else {\n                element.style.setProperty(customProp, value);\n                if (!element.hasAttribute(dataAttr)) {\n                    element.setAttribute(dataAttr, '');\n                }\n                unsetProps.delete(targetCSSProp);\n            }\n        }\n        if (ignoreInlineSelectors.length > 0) {\n            if (shouldIgnoreInlineStyle(element, ignoreInlineSelectors)) {\n                unsetProps.forEach(function (cssProp) {\n                    element.removeAttribute(overrides[cssProp].dataAttr);\n                });\n                return;\n            }\n        }\n        if (element.hasAttribute('bgcolor')) {\n            var value = element.getAttribute('bgcolor');\n            if (value.match(/^[0-9a-f]{3}$/i) || value.match(/^[0-9a-f]{6}$/i)) {\n                value = \"#\".concat(value);\n            }\n            setCustomProp('background-color', 'background-color', value);\n        }\n        if (element.hasAttribute('color') && element.rel !== 'mask-icon') {\n            var value = element.getAttribute('color');\n            if (value.match(/^[0-9a-f]{3}$/i) || value.match(/^[0-9a-f]{6}$/i)) {\n                value = \"#\".concat(value);\n            }\n            setCustomProp('color', 'color', value);\n        }\n        if (element instanceof SVGElement) {\n            if (element.hasAttribute('fill')) {\n                var SMALL_SVG_LIMIT_1 = 32;\n                var value_1 = element.getAttribute('fill');\n                if (value_1 !== 'none') {\n                    if (!(element instanceof SVGTextElement)) {\n                        var handleSVGElement = function () {\n                            var _a = element.getBoundingClientRect(), width = _a.width, height = _a.height;\n                            var isBg = (width > SMALL_SVG_LIMIT_1 || height > SMALL_SVG_LIMIT_1);\n                            setCustomProp('fill', isBg ? 'background-color' : 'color', value_1);\n                        };\n                        if (isReadyStateComplete()) {\n                            handleSVGElement();\n                        }\n                        else {\n                            addReadyStateCompleteListener(handleSVGElement);\n                        }\n                    }\n                    else {\n                        setCustomProp('fill', 'color', value_1);\n                    }\n                }\n            }\n            if (element.hasAttribute('stop-color')) {\n                setCustomProp('stop-color', 'background-color', element.getAttribute('stop-color'));\n            }\n        }\n        if (element.hasAttribute('stroke')) {\n            var value = element.getAttribute('stroke');\n            setCustomProp('stroke', element instanceof SVGLineElement || element instanceof SVGTextElement ? 'border-color' : 'color', value);\n        }\n        element.style && iterateCSSDeclarations(element.style, function (property, value) {\n            if (property === 'background-image' && value.includes('url')) {\n                return;\n            }\n            if (overrides.hasOwnProperty(property) || (property.startsWith('--') && !normalizedPropList[property])) {\n                setCustomProp(property, property, value);\n            }\n            else {\n                var overridenProp = normalizedPropList[property];\n                if (overridenProp &&\n                    (!element.style.getPropertyValue(overridenProp) && !element.hasAttribute(overridenProp))) {\n                    if (overridenProp === 'background-color' && element.hasAttribute('bgcolor')) {\n                        return;\n                    }\n                    element.style.setProperty(property, '');\n                }\n            }\n        });\n        if (element.style && element instanceof SVGTextElement && element.style.fill) {\n            setCustomProp('fill', 'color', element.style.getPropertyValue('fill'));\n        }\n        forEach(unsetProps, function (cssProp) {\n            element.removeAttribute(overrides[cssProp].dataAttr);\n        });\n        inlineStyleCache.set(element, getInlineStyleCacheKey(element, theme));\n    }\n\n    var metaThemeColorName = 'theme-color';\n    var metaThemeColorSelector = \"meta[name=\\\"\".concat(metaThemeColorName, \"\\\"]\");\n    var srcMetaThemeColor = null;\n    var observer = null;\n    function changeMetaThemeColor(meta, theme) {\n        srcMetaThemeColor = srcMetaThemeColor || meta.content;\n        try {\n            var color = parse(srcMetaThemeColor);\n            meta.content = modifyBackgroundColor(color, theme);\n        }\n        catch (err) {\n            logWarn(err);\n        }\n    }\n    function changeMetaThemeColorWhenAvailable(theme) {\n        var meta = document.querySelector(metaThemeColorSelector);\n        if (meta) {\n            changeMetaThemeColor(meta, theme);\n        }\n        else {\n            if (observer) {\n                observer.disconnect();\n            }\n            observer = new MutationObserver(function (mutations) {\n                loop: for (var i = 0; i < mutations.length; i++) {\n                    var addedNodes = mutations[i].addedNodes;\n                    for (var j = 0; j < addedNodes.length; j++) {\n                        var node = addedNodes[j];\n                        if (node instanceof HTMLMetaElement && node.name === metaThemeColorName) {\n                            observer.disconnect();\n                            observer = null;\n                            changeMetaThemeColor(node, theme);\n                            break loop;\n                        }\n                    }\n                }\n            });\n            observer.observe(document.head, { childList: true });\n        }\n    }\n    function restoreMetaThemeColor() {\n        if (observer) {\n            observer.disconnect();\n            observer = null;\n        }\n        var meta = document.querySelector(metaThemeColorSelector);\n        if (meta && srcMetaThemeColor) {\n            meta.content = srcMetaThemeColor;\n        }\n    }\n\n    var themeCacheKeys = [\n        'mode',\n        'brightness',\n        'contrast',\n        'grayscale',\n        'sepia',\n        'darkSchemeBackgroundColor',\n        'darkSchemeTextColor',\n        'lightSchemeBackgroundColor',\n        'lightSchemeTextColor',\n    ];\n    function getThemeKey(theme) {\n        var resultKey = '';\n        themeCacheKeys.forEach(function (key) {\n            resultKey += \"\".concat(key, \":\").concat(theme[key], \";\");\n        });\n        return resultKey;\n    }\n    var asyncQueue = createAsyncTasksQueue();\n    function createStyleSheetModifier() {\n        var renderId = 0;\n        var rulesTextCache = new Set();\n        var rulesModCache = new Map();\n        var varTypeChangeCleaners = new Set();\n        var prevFilterKey = null;\n        var hasNonLoadedLink = false;\n        var wasRebuilt = false;\n        function shouldRebuildStyle() {\n            return hasNonLoadedLink && !wasRebuilt;\n        }\n        function modifySheet(options) {\n            var rules = options.sourceCSSRules;\n            var theme = options.theme, ignoreImageAnalysis = options.ignoreImageAnalysis, force = options.force, prepareSheet = options.prepareSheet, isAsyncCancelled = options.isAsyncCancelled;\n            var rulesChanged = (rulesModCache.size === 0);\n            var notFoundCacheKeys = new Set(rulesModCache.keys());\n            var themeKey = getThemeKey(theme);\n            var themeChanged = (themeKey !== prevFilterKey);\n            if (hasNonLoadedLink) {\n                wasRebuilt = true;\n            }\n            var modRules = [];\n            iterateCSSRules(rules, function (rule) {\n                var cssText = rule.cssText;\n                var textDiffersFromPrev = false;\n                notFoundCacheKeys.delete(cssText);\n                if (rule.parentRule instanceof CSSMediaRule) {\n                    cssText += \";\".concat(rule.parentRule.media.mediaText);\n                }\n                if (!rulesTextCache.has(cssText)) {\n                    rulesTextCache.add(cssText);\n                    textDiffersFromPrev = true;\n                }\n                if (textDiffersFromPrev) {\n                    rulesChanged = true;\n                }\n                else {\n                    modRules.push(rulesModCache.get(cssText));\n                    return;\n                }\n                var modDecs = [];\n                rule.style && iterateCSSDeclarations(rule.style, function (property, value) {\n                    var mod = getModifiableCSSDeclaration(property, value, rule, variablesStore, ignoreImageAnalysis, isAsyncCancelled);\n                    if (mod) {\n                        modDecs.push(mod);\n                    }\n                });\n                var modRule = null;\n                if (modDecs.length > 0) {\n                    var parentRule = rule.parentRule;\n                    modRule = { selector: rule.selectorText, declarations: modDecs, parentRule: parentRule };\n                    modRules.push(modRule);\n                }\n                rulesModCache.set(cssText, modRule);\n            }, function () {\n                hasNonLoadedLink = true;\n            });\n            notFoundCacheKeys.forEach(function (key) {\n                rulesTextCache.delete(key);\n                rulesModCache.delete(key);\n            });\n            prevFilterKey = themeKey;\n            if (!force && !rulesChanged && !themeChanged) {\n                return;\n            }\n            renderId++;\n            function setRule(target, index, rule) {\n                var selector = rule.selector, declarations = rule.declarations;\n                var getDeclarationText = function (dec) {\n                    var property = dec.property, value = dec.value, important = dec.important, sourceValue = dec.sourceValue;\n                    return \"\".concat(property, \": \").concat(value == null ? sourceValue : value).concat(important ? ' !important' : '', \";\");\n                };\n                var cssRulesText = '';\n                declarations.forEach(function (declarations) {\n                    cssRulesText += \"\".concat(getDeclarationText(declarations), \" \");\n                });\n                var ruleText = \"\".concat(selector, \" { \").concat(cssRulesText, \" }\");\n                target.insertRule(ruleText, index);\n            }\n            var asyncDeclarations = new Map();\n            var varDeclarations = new Map();\n            var asyncDeclarationCounter = 0;\n            var varDeclarationCounter = 0;\n            var rootReadyGroup = { rule: null, rules: [], isGroup: true };\n            var groupRefs = new WeakMap();\n            function getGroup(rule) {\n                if (rule == null) {\n                    return rootReadyGroup;\n                }\n                if (groupRefs.has(rule)) {\n                    return groupRefs.get(rule);\n                }\n                var group = { rule: rule, rules: [], isGroup: true };\n                groupRefs.set(rule, group);\n                var parentGroup = getGroup(rule.parentRule);\n                parentGroup.rules.push(group);\n                return group;\n            }\n            varTypeChangeCleaners.forEach(function (clear) { return clear(); });\n            varTypeChangeCleaners.clear();\n            modRules.filter(function (r) { return r; }).forEach(function (_a) {\n                var selector = _a.selector, declarations = _a.declarations, parentRule = _a.parentRule;\n                var group = getGroup(parentRule);\n                var readyStyleRule = { selector: selector, declarations: [], isGroup: false };\n                var readyDeclarations = readyStyleRule.declarations;\n                group.rules.push(readyStyleRule);\n                function handleAsyncDeclaration(property, modified, important, sourceValue) {\n                    var asyncKey = ++asyncDeclarationCounter;\n                    var asyncDeclaration = { property: property, value: null, important: important, asyncKey: asyncKey, sourceValue: sourceValue };\n                    readyDeclarations.push(asyncDeclaration);\n                    var currentRenderId = renderId;\n                    modified.then(function (asyncValue) {\n                        if (!asyncValue || isAsyncCancelled() || currentRenderId !== renderId) {\n                            return;\n                        }\n                        asyncDeclaration.value = asyncValue;\n                        asyncQueue.add(function () {\n                            if (isAsyncCancelled() || currentRenderId !== renderId) {\n                                return;\n                            }\n                            rebuildAsyncRule(asyncKey);\n                        });\n                    });\n                }\n                function handleVarDeclarations(property, modified, important, sourceValue) {\n                    var _a = modified, varDecs = _a.declarations, onTypeChange = _a.onTypeChange;\n                    var varKey = ++varDeclarationCounter;\n                    var currentRenderId = renderId;\n                    var initialIndex = readyDeclarations.length;\n                    var oldDecs = [];\n                    if (varDecs.length === 0) {\n                        var tempDec = { property: property, value: sourceValue, important: important, sourceValue: sourceValue, varKey: varKey };\n                        readyDeclarations.push(tempDec);\n                        oldDecs = [tempDec];\n                    }\n                    varDecs.forEach(function (mod) {\n                        if (mod.value instanceof Promise) {\n                            handleAsyncDeclaration(mod.property, mod.value, important, sourceValue);\n                        }\n                        else {\n                            var readyDec = { property: mod.property, value: mod.value, important: important, sourceValue: sourceValue, varKey: varKey };\n                            readyDeclarations.push(readyDec);\n                            oldDecs.push(readyDec);\n                        }\n                    });\n                    onTypeChange.addListener(function (newDecs) {\n                        if (isAsyncCancelled() || currentRenderId !== renderId) {\n                            return;\n                        }\n                        var readyVarDecs = newDecs.map(function (mod) {\n                            return { property: mod.property, value: mod.value, important: important, sourceValue: sourceValue, varKey: varKey };\n                        });\n                        var index = readyDeclarations.indexOf(oldDecs[0], initialIndex);\n                        readyDeclarations.splice.apply(readyDeclarations, __spreadArray([index, oldDecs.length], __read(readyVarDecs), false));\n                        oldDecs = readyVarDecs;\n                        rebuildVarRule(varKey);\n                    });\n                    varTypeChangeCleaners.add(function () { return onTypeChange.removeListeners(); });\n                }\n                declarations.forEach(function (_a) {\n                    var property = _a.property, value = _a.value, important = _a.important, sourceValue = _a.sourceValue;\n                    if (typeof value === 'function') {\n                        var modified = value(theme);\n                        if (modified instanceof Promise) {\n                            handleAsyncDeclaration(property, modified, important, sourceValue);\n                        }\n                        else if (property.startsWith('--')) {\n                            handleVarDeclarations(property, modified, important, sourceValue);\n                        }\n                        else {\n                            readyDeclarations.push({ property: property, value: modified, important: important, sourceValue: sourceValue });\n                        }\n                    }\n                    else {\n                        readyDeclarations.push({ property: property, value: value, important: important, sourceValue: sourceValue });\n                    }\n                });\n            });\n            var sheet = prepareSheet();\n            function buildStyleSheet() {\n                function createTarget(group, parent) {\n                    var rule = group.rule;\n                    if (rule instanceof CSSMediaRule) {\n                        var media = rule.media;\n                        var index = parent.cssRules.length;\n                        parent.insertRule(\"@media \".concat(media.mediaText, \" {}\"), index);\n                        return parent.cssRules[index];\n                    }\n                    return parent;\n                }\n                function iterateReadyRules(group, target, styleIterator) {\n                    group.rules.forEach(function (r) {\n                        if (r.isGroup) {\n                            var t = createTarget(r, target);\n                            iterateReadyRules(r, t, styleIterator);\n                        }\n                        else {\n                            styleIterator(r, target);\n                        }\n                    });\n                }\n                iterateReadyRules(rootReadyGroup, sheet, function (rule, target) {\n                    var index = target.cssRules.length;\n                    rule.declarations.forEach(function (_a) {\n                        var asyncKey = _a.asyncKey, varKey = _a.varKey;\n                        if (asyncKey != null) {\n                            asyncDeclarations.set(asyncKey, { rule: rule, target: target, index: index });\n                        }\n                        if (varKey != null) {\n                            varDeclarations.set(varKey, { rule: rule, target: target, index: index });\n                        }\n                    });\n                    setRule(target, index, rule);\n                });\n            }\n            function rebuildAsyncRule(key) {\n                var _a = asyncDeclarations.get(key), rule = _a.rule, target = _a.target, index = _a.index;\n                target.deleteRule(index);\n                setRule(target, index, rule);\n                asyncDeclarations.delete(key);\n            }\n            function rebuildVarRule(key) {\n                var _a = varDeclarations.get(key), rule = _a.rule, target = _a.target, index = _a.index;\n                target.deleteRule(index);\n                setRule(target, index, rule);\n            }\n            buildStyleSheet();\n        }\n        return { modifySheet: modifySheet, shouldRebuildStyle: shouldRebuildStyle };\n    }\n\n    var STYLE_SELECTOR = 'style, link[rel*=\"stylesheet\" i]:not([disabled])';\n    function isFontsGoogleApiStyle(element) {\n        if (!element.href) {\n            return false;\n        }\n        try {\n            var elementURL = new URL(element.href);\n            return elementURL.hostname === 'fonts.googleapis.com';\n        }\n        catch (err) {\n            logInfo(\"Couldn't construct \".concat(element.href, \" as URL\"));\n            return false;\n        }\n    }\n    function shouldManageStyle(element) {\n        return (((element instanceof HTMLStyleElement) ||\n            (element instanceof SVGStyleElement) ||\n            (element instanceof HTMLLinkElement &&\n                element.rel &&\n                element.rel.toLowerCase().includes('stylesheet') &&\n                !element.disabled &&\n                (isFirefox ? !element.href.startsWith('moz-extension://') : true) &&\n                !isFontsGoogleApiStyle(element))) &&\n            !element.classList.contains('darkreader') &&\n            element.media.toLowerCase() !== 'print' &&\n            !element.classList.contains('stylus'));\n    }\n    function getManageableStyles(node, results, deep) {\n        if (results === void 0) { results = []; }\n        if (deep === void 0) { deep = true; }\n        if (shouldManageStyle(node)) {\n            results.push(node);\n        }\n        else if (node instanceof Element || (isShadowDomSupported && node instanceof ShadowRoot) || node === document) {\n            forEach(node.querySelectorAll(STYLE_SELECTOR), function (style) { return getManageableStyles(style, results, false); });\n            if (deep) {\n                iterateShadowHosts(node, function (host) { return getManageableStyles(host.shadowRoot, results, false); });\n            }\n        }\n        return results;\n    }\n    var syncStyleSet = new WeakSet();\n    var corsStyleSet = new WeakSet();\n    var canOptimizeUsingProxy$1 = false;\n    document.addEventListener('__darkreader__inlineScriptsAllowed', function () {\n        canOptimizeUsingProxy$1 = true;\n    });\n    var loadingLinkCounter = 0;\n    var rejectorsForLoadingLinks = new Map();\n    function cleanLoadingLinks() {\n        rejectorsForLoadingLinks.clear();\n    }\n    function manageStyle(element, _a) {\n        var update = _a.update, loadingStart = _a.loadingStart, loadingEnd = _a.loadingEnd;\n        var prevStyles = [];\n        var next = element;\n        while ((next = next.nextElementSibling) && next.matches('.darkreader')) {\n            prevStyles.push(next);\n        }\n        var corsCopy = prevStyles.find(function (el) { return el.matches('.darkreader--cors') && !corsStyleSet.has(el); }) || null;\n        var syncStyle = prevStyles.find(function (el) { return el.matches('.darkreader--sync') && !syncStyleSet.has(el); }) || null;\n        var corsCopyPositionWatcher = null;\n        var syncStylePositionWatcher = null;\n        var cancelAsyncOperations = false;\n        var isOverrideEmpty = true;\n        var sheetModifier = createStyleSheetModifier();\n        var observer = new MutationObserver(function () {\n            update();\n        });\n        var observerOptions = { attributes: true, childList: true, subtree: true, characterData: true };\n        function containsCSSImport() {\n            return element instanceof HTMLStyleElement && element.textContent.trim().match(cssImportRegex);\n        }\n        function hasImports(cssRules, checkCrossOrigin) {\n            var result = false;\n            if (cssRules) {\n                var rule = void 0;\n                cssRulesLoop: for (var i = 0, len = cssRules.length; i < len; i++) {\n                    rule = cssRules[i];\n                    if (rule.href) {\n                        if (checkCrossOrigin) {\n                            if (rule.href.startsWith('http') && !rule.href.startsWith(location.origin)) {\n                                result = true;\n                                break cssRulesLoop;\n                            }\n                        }\n                        else {\n                            result = true;\n                            break cssRulesLoop;\n                        }\n                    }\n                }\n            }\n            return result;\n        }\n        function getRulesSync() {\n            if (corsCopy) {\n                logInfo('[getRulesSync] Using cors-copy.');\n                return corsCopy.sheet.cssRules;\n            }\n            if (containsCSSImport()) {\n                logInfo('[getRulesSync] CSSImport detected.');\n                return null;\n            }\n            var cssRules = safeGetSheetRules();\n            if (element instanceof HTMLLinkElement &&\n                !isRelativeHrefOnAbsolutePath(element.href) &&\n                hasImports(cssRules, false)) {\n                logInfo('[getRulesSync] CSSImportRule detected on non-local href.');\n                return null;\n            }\n            if (hasImports(cssRules, true)) {\n                logInfo('[getRulesSync] Cross-Origin CSSImportRule detected.');\n                return null;\n            }\n            logInfo('[getRulesSync] Using cssRules.');\n            !cssRules && logWarn('[getRulesSync] cssRules is null, trying again.');\n            return cssRules;\n        }\n        function insertStyle() {\n            if (corsCopy) {\n                if (element.nextSibling !== corsCopy) {\n                    element.parentNode.insertBefore(corsCopy, element.nextSibling);\n                }\n                if (corsCopy.nextSibling !== syncStyle) {\n                    element.parentNode.insertBefore(syncStyle, corsCopy.nextSibling);\n                }\n            }\n            else if (element.nextSibling !== syncStyle) {\n                element.parentNode.insertBefore(syncStyle, element.nextSibling);\n            }\n        }\n        function createSyncStyle() {\n            syncStyle = element instanceof SVGStyleElement ?\n                document.createElementNS('http://www.w3.org/2000/svg', 'style') :\n                document.createElement('style');\n            syncStyle.classList.add('darkreader');\n            syncStyle.classList.add('darkreader--sync');\n            syncStyle.media = 'screen';\n            if (element.title) {\n                syncStyle.title = element.title;\n            }\n            syncStyleSet.add(syncStyle);\n        }\n        var isLoadingRules = false;\n        var wasLoadingError = false;\n        var loadingLinkId = ++loadingLinkCounter;\n        function getRulesAsync() {\n            return __awaiter(this, void 0, void 0, function () {\n                var cssText, cssBasePath, _a, cssRules, accessError, err_1, fullCSSText, err_2;\n                var _b;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            if (!(element instanceof HTMLLinkElement)) return [3, 7];\n                            _a = __read(getRulesOrError(), 2), cssRules = _a[0], accessError = _a[1];\n                            if (accessError) {\n                                logWarn(accessError);\n                            }\n                            if (!((!cssRules && !accessError && !isSafari) ||\n                                (isSafari && !element.sheet) ||\n                                isStillLoadingError(accessError))) return [3, 5];\n                            _c.label = 1;\n                        case 1:\n                            _c.trys.push([1, 3, , 4]);\n                            logInfo(\"Linkelement \".concat(loadingLinkId, \" is not loaded yet and thus will be await for\"), element);\n                            return [4, linkLoading(element, loadingLinkId)];\n                        case 2:\n                            _c.sent();\n                            return [3, 4];\n                        case 3:\n                            err_1 = _c.sent();\n                            logWarn(err_1);\n                            wasLoadingError = true;\n                            return [3, 4];\n                        case 4:\n                            if (cancelAsyncOperations) {\n                                return [2, null];\n                            }\n                            _b = __read(getRulesOrError(), 2), cssRules = _b[0], accessError = _b[1];\n                            if (accessError) {\n                                logWarn(accessError);\n                            }\n                            _c.label = 5;\n                        case 5:\n                            if (cssRules) {\n                                if (!hasImports(cssRules, false)) {\n                                    return [2, cssRules];\n                                }\n                            }\n                            return [4, loadText(element.href)];\n                        case 6:\n                            cssText = _c.sent();\n                            cssBasePath = getCSSBaseBath(element.href);\n                            if (cancelAsyncOperations) {\n                                return [2, null];\n                            }\n                            return [3, 8];\n                        case 7:\n                            if (containsCSSImport()) {\n                                cssText = element.textContent.trim();\n                                cssBasePath = getCSSBaseBath(location.href);\n                            }\n                            else {\n                                return [2, null];\n                            }\n                            _c.label = 8;\n                        case 8:\n                            if (!cssText) return [3, 13];\n                            _c.label = 9;\n                        case 9:\n                            _c.trys.push([9, 11, , 12]);\n                            return [4, replaceCSSImports(cssText, cssBasePath)];\n                        case 10:\n                            fullCSSText = _c.sent();\n                            corsCopy = createCORSCopy(element, fullCSSText);\n                            return [3, 12];\n                        case 11:\n                            err_2 = _c.sent();\n                            logWarn(err_2);\n                            return [3, 12];\n                        case 12:\n                            if (corsCopy) {\n                                corsCopyPositionWatcher = watchForNodePosition(corsCopy, 'prev-sibling');\n                                return [2, corsCopy.sheet.cssRules];\n                            }\n                            _c.label = 13;\n                        case 13: return [2, null];\n                    }\n                });\n            });\n        }\n        function details(options) {\n            var rules = getRulesSync();\n            if (!rules) {\n                if (options.secondRound) {\n                    logWarn('Detected dead-lock at details(), returning early to prevent it.');\n                    return null;\n                }\n                if (isLoadingRules || wasLoadingError) {\n                    return null;\n                }\n                isLoadingRules = true;\n                loadingStart();\n                getRulesAsync().then(function (results) {\n                    isLoadingRules = false;\n                    loadingEnd();\n                    if (results) {\n                        update();\n                    }\n                }).catch(function (err) {\n                    logWarn(err);\n                    isLoadingRules = false;\n                    loadingEnd();\n                });\n                return null;\n            }\n            return { rules: rules };\n        }\n        var forceRenderStyle = false;\n        function render(theme, ignoreImageAnalysis) {\n            var rules = getRulesSync();\n            if (!rules) {\n                return;\n            }\n            cancelAsyncOperations = false;\n            function removeCSSRulesFromSheet(sheet) {\n                for (var i = sheet.cssRules.length - 1; i >= 0; i--) {\n                    sheet.deleteRule(i);\n                }\n            }\n            function prepareOverridesSheet() {\n                if (!syncStyle) {\n                    createSyncStyle();\n                }\n                syncStylePositionWatcher && syncStylePositionWatcher.stop();\n                insertStyle();\n                if (syncStyle.sheet == null) {\n                    syncStyle.textContent = '';\n                }\n                var sheet = syncStyle.sheet;\n                removeCSSRulesFromSheet(sheet);\n                if (syncStylePositionWatcher) {\n                    syncStylePositionWatcher.run();\n                }\n                else {\n                    syncStylePositionWatcher = watchForNodePosition(syncStyle, 'prev-sibling', function () {\n                        forceRenderStyle = true;\n                        buildOverrides();\n                    });\n                }\n                return syncStyle.sheet;\n            }\n            function buildOverrides() {\n                var force = forceRenderStyle;\n                forceRenderStyle = false;\n                sheetModifier.modifySheet({\n                    prepareSheet: prepareOverridesSheet,\n                    sourceCSSRules: rules,\n                    theme: theme,\n                    ignoreImageAnalysis: ignoreImageAnalysis,\n                    force: force,\n                    isAsyncCancelled: function () { return cancelAsyncOperations; },\n                });\n                isOverrideEmpty = syncStyle.sheet.cssRules.length === 0;\n                if (sheetModifier.shouldRebuildStyle()) {\n                    addReadyStateCompleteListener(function () { return update(); });\n                }\n            }\n            buildOverrides();\n        }\n        function getRulesOrError() {\n            try {\n                if (element.sheet == null) {\n                    return [null, null];\n                }\n                return [element.sheet.cssRules, null];\n            }\n            catch (err) {\n                return [null, err];\n            }\n        }\n        function isStillLoadingError(error) {\n            return error && error.message && error.message.includes('loading');\n        }\n        function safeGetSheetRules() {\n            var _a = __read(getRulesOrError(), 2), cssRules = _a[0], err = _a[1];\n            if (err) {\n                logWarn(err);\n                return null;\n            }\n            return cssRules;\n        }\n        function watchForSheetChanges() {\n            watchForSheetChangesUsingProxy();\n            if (!isThunderbird && !(canOptimizeUsingProxy$1 && element.sheet)) {\n                watchForSheetChangesUsingRAF();\n            }\n        }\n        var rulesChangeKey = null;\n        var rulesCheckFrameId = null;\n        function getRulesChangeKey() {\n            var rules = safeGetSheetRules();\n            return rules ? rules.length : null;\n        }\n        function didRulesKeyChange() {\n            return getRulesChangeKey() !== rulesChangeKey;\n        }\n        function watchForSheetChangesUsingRAF() {\n            rulesChangeKey = getRulesChangeKey();\n            stopWatchingForSheetChangesUsingRAF();\n            var checkForUpdate = function () {\n                if (didRulesKeyChange()) {\n                    rulesChangeKey = getRulesChangeKey();\n                    update();\n                }\n                if (canOptimizeUsingProxy$1 && element.sheet) {\n                    stopWatchingForSheetChangesUsingRAF();\n                    return;\n                }\n                rulesCheckFrameId = requestAnimationFrame(checkForUpdate);\n            };\n            checkForUpdate();\n        }\n        function stopWatchingForSheetChangesUsingRAF() {\n            cancelAnimationFrame(rulesCheckFrameId);\n        }\n        var areSheetChangesPending = false;\n        function onSheetChange() {\n            canOptimizeUsingProxy$1 = true;\n            stopWatchingForSheetChangesUsingRAF();\n            if (areSheetChangesPending) {\n                return;\n            }\n            function handleSheetChanges() {\n                areSheetChangesPending = false;\n                if (cancelAsyncOperations) {\n                    return;\n                }\n                update();\n            }\n            areSheetChangesPending = true;\n            if (typeof queueMicrotask === 'function') {\n                queueMicrotask(handleSheetChanges);\n            }\n            else {\n                requestAnimationFrame(handleSheetChanges);\n            }\n        }\n        function watchForSheetChangesUsingProxy() {\n            element.addEventListener('__darkreader__updateSheet', onSheetChange);\n        }\n        function stopWatchingForSheetChangesUsingProxy() {\n            element.removeEventListener('__darkreader__updateSheet', onSheetChange);\n        }\n        function stopWatchingForSheetChanges() {\n            stopWatchingForSheetChangesUsingProxy();\n            stopWatchingForSheetChangesUsingRAF();\n        }\n        function pause() {\n            observer.disconnect();\n            cancelAsyncOperations = true;\n            corsCopyPositionWatcher && corsCopyPositionWatcher.stop();\n            syncStylePositionWatcher && syncStylePositionWatcher.stop();\n            stopWatchingForSheetChanges();\n        }\n        function destroy() {\n            pause();\n            removeNode(corsCopy);\n            removeNode(syncStyle);\n            loadingEnd();\n            if (rejectorsForLoadingLinks.has(loadingLinkId)) {\n                var reject = rejectorsForLoadingLinks.get(loadingLinkId);\n                rejectorsForLoadingLinks.delete(loadingLinkId);\n                reject && reject();\n            }\n        }\n        function watch() {\n            observer.observe(element, observerOptions);\n            if (element instanceof HTMLStyleElement) {\n                watchForSheetChanges();\n            }\n        }\n        var maxMoveCount = 10;\n        var moveCount = 0;\n        function restore() {\n            if (!syncStyle) {\n                return;\n            }\n            moveCount++;\n            if (moveCount > maxMoveCount) {\n                logWarn('Style sheet was moved multiple times', element);\n                return;\n            }\n            logWarn('Restore style', syncStyle, element);\n            insertStyle();\n            corsCopyPositionWatcher && corsCopyPositionWatcher.skip();\n            syncStylePositionWatcher && syncStylePositionWatcher.skip();\n            if (!isOverrideEmpty) {\n                forceRenderStyle = true;\n                update();\n            }\n        }\n        return {\n            details: details,\n            render: render,\n            pause: pause,\n            destroy: destroy,\n            watch: watch,\n            restore: restore,\n        };\n    }\n    function linkLoading(link, loadingId) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2, new Promise(function (resolve, reject) {\n                        var cleanUp = function () {\n                            link.removeEventListener('load', onLoad);\n                            link.removeEventListener('error', onError);\n                            rejectorsForLoadingLinks.delete(loadingId);\n                        };\n                        var onLoad = function () {\n                            cleanUp();\n                            logInfo(\"Linkelement \".concat(loadingId, \" has been loaded\"));\n                            resolve();\n                        };\n                        var onError = function () {\n                            cleanUp();\n                            reject(\"Linkelement \".concat(loadingId, \" couldn't be loaded. \").concat(link.href));\n                        };\n                        rejectorsForLoadingLinks.set(loadingId, function () {\n                            cleanUp();\n                            reject();\n                        });\n                        link.addEventListener('load', onLoad);\n                        link.addEventListener('error', onError);\n                        if (!link.href) {\n                            onError();\n                        }\n                    })];\n            });\n        });\n    }\n    function getCSSImportURL(importDeclaration) {\n        return getCSSURLValue(importDeclaration.substring(7).trim().replace(/;$/, '').replace(/screen$/, ''));\n    }\n    function loadText(url) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!url.startsWith('data:')) return [3, 3];\n                        return [4, fetch(url)];\n                    case 1: return [4, (_a.sent()).text()];\n                    case 2: return [2, _a.sent()];\n                    case 3: return [4, bgFetch({ url: url, responseType: 'text', mimeType: 'text/css', origin: window.location.origin })];\n                    case 4: return [2, _a.sent()];\n                }\n            });\n        });\n    }\n    function replaceCSSImports(cssText, basePath, cache) {\n        if (cache === void 0) { cache = new Map(); }\n        return __awaiter(this, void 0, void 0, function () {\n            var importMatches, importMatches_1, importMatches_1_1, match, importURL, absoluteURL, importedCSS, err_3, e_1_1;\n            var e_1, _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        cssText = removeCSSComments(cssText);\n                        cssText = replaceCSSFontFace(cssText);\n                        cssText = replaceCSSRelativeURLsWithAbsolute(cssText, basePath);\n                        importMatches = getMatches(cssImportRegex, cssText);\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 10, 11, 12]);\n                        importMatches_1 = __values(importMatches), importMatches_1_1 = importMatches_1.next();\n                        _b.label = 2;\n                    case 2:\n                        if (!!importMatches_1_1.done) return [3, 9];\n                        match = importMatches_1_1.value;\n                        importURL = getCSSImportURL(match);\n                        absoluteURL = getAbsoluteURL(basePath, importURL);\n                        importedCSS = void 0;\n                        if (!cache.has(absoluteURL)) return [3, 3];\n                        importedCSS = cache.get(absoluteURL);\n                        return [3, 7];\n                    case 3:\n                        _b.trys.push([3, 6, , 7]);\n                        return [4, loadText(absoluteURL)];\n                    case 4:\n                        importedCSS = _b.sent();\n                        cache.set(absoluteURL, importedCSS);\n                        return [4, replaceCSSImports(importedCSS, getCSSBaseBath(absoluteURL), cache)];\n                    case 5:\n                        importedCSS = _b.sent();\n                        return [3, 7];\n                    case 6:\n                        err_3 = _b.sent();\n                        logWarn(err_3);\n                        importedCSS = '';\n                        return [3, 7];\n                    case 7:\n                        cssText = cssText.split(match).join(importedCSS);\n                        _b.label = 8;\n                    case 8:\n                        importMatches_1_1 = importMatches_1.next();\n                        return [3, 2];\n                    case 9: return [3, 12];\n                    case 10:\n                        e_1_1 = _b.sent();\n                        e_1 = { error: e_1_1 };\n                        return [3, 12];\n                    case 11:\n                        try {\n                            if (importMatches_1_1 && !importMatches_1_1.done && (_a = importMatches_1.return)) _a.call(importMatches_1);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                        return [7];\n                    case 12:\n                        cssText = cssText.trim();\n                        return [2, cssText];\n                }\n            });\n        });\n    }\n    function createCORSCopy(srcElement, cssText) {\n        if (!cssText) {\n            return null;\n        }\n        var cors = document.createElement('style');\n        cors.classList.add('darkreader');\n        cors.classList.add('darkreader--cors');\n        cors.media = 'screen';\n        cors.textContent = cssText;\n        srcElement.parentNode.insertBefore(cors, srcElement.nextSibling);\n        cors.sheet.disabled = true;\n        corsStyleSet.add(cors);\n        return cors;\n    }\n\n    var observers = [];\n    var observedRoots;\n    var undefinedGroups = new Map();\n    var elementsDefinitionCallback;\n    function collectUndefinedElements(root) {\n        if (!isDefinedSelectorSupported) {\n            return;\n        }\n        forEach(root.querySelectorAll(':not(:defined)'), function (el) {\n            var tag = el.tagName.toLowerCase();\n            if (!tag.includes('-')) {\n                var extendedTag = el.getAttribute('is');\n                if (extendedTag) {\n                    tag = extendedTag;\n                }\n                else {\n                    return;\n                }\n            }\n            if (!undefinedGroups.has(tag)) {\n                undefinedGroups.set(tag, new Set());\n                customElementsWhenDefined(tag).then(function () {\n                    if (elementsDefinitionCallback) {\n                        var elements = undefinedGroups.get(tag);\n                        undefinedGroups.delete(tag);\n                        elementsDefinitionCallback(Array.from(elements));\n                    }\n                });\n            }\n            undefinedGroups.get(tag).add(el);\n        });\n    }\n    var canOptimizeUsingProxy = false;\n    document.addEventListener('__darkreader__inlineScriptsAllowed', function () {\n        canOptimizeUsingProxy = true;\n    });\n    var resolvers = new Map();\n    function handleIsDefined(e) {\n        canOptimizeUsingProxy = true;\n        if (resolvers.has(e.detail.tag)) {\n            var resolve = resolvers.get(e.detail.tag);\n            resolve();\n        }\n    }\n    function customElementsWhenDefined(tag) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2, new Promise(function (resolve) {\n                        if (window.customElements && typeof customElements.whenDefined === 'function') {\n                            customElements.whenDefined(tag).then(function () { return resolve(); });\n                        }\n                        else if (canOptimizeUsingProxy) {\n                            resolvers.set(tag, resolve);\n                            document.dispatchEvent(new CustomEvent('__darkreader__addUndefinedResolver', { detail: { tag: tag } }));\n                        }\n                        else {\n                            var checkIfDefined_1 = function () {\n                                var elements = undefinedGroups.get(tag);\n                                if (elements && elements.size > 0) {\n                                    if (elements.values().next().value.matches(':defined')) {\n                                        resolve();\n                                    }\n                                    else {\n                                        requestAnimationFrame(checkIfDefined_1);\n                                    }\n                                }\n                            };\n                            requestAnimationFrame(checkIfDefined_1);\n                        }\n                    })];\n            });\n        });\n    }\n    function watchWhenCustomElementsDefined(callback) {\n        elementsDefinitionCallback = callback;\n    }\n    function unsubscribeFromDefineCustomElements() {\n        elementsDefinitionCallback = null;\n        undefinedGroups.clear();\n        document.removeEventListener('__darkreader__isDefined', handleIsDefined);\n    }\n    function watchForStyleChanges(currentStyles, update, shadowRootDiscovered) {\n        stopWatchingForStyleChanges();\n        var prevStyles = new Set(currentStyles);\n        var prevStyleSiblings = new WeakMap();\n        var nextStyleSiblings = new WeakMap();\n        function saveStylePosition(style) {\n            prevStyleSiblings.set(style, style.previousElementSibling);\n            nextStyleSiblings.set(style, style.nextElementSibling);\n        }\n        function forgetStylePosition(style) {\n            prevStyleSiblings.delete(style);\n            nextStyleSiblings.delete(style);\n        }\n        function didStylePositionChange(style) {\n            return (style.previousElementSibling !== prevStyleSiblings.get(style) ||\n                style.nextElementSibling !== nextStyleSiblings.get(style));\n        }\n        currentStyles.forEach(saveStylePosition);\n        function handleStyleOperations(operations) {\n            var createdStyles = operations.createdStyles, removedStyles = operations.removedStyles, movedStyles = operations.movedStyles;\n            createdStyles.forEach(function (s) { return saveStylePosition(s); });\n            movedStyles.forEach(function (s) { return saveStylePosition(s); });\n            removedStyles.forEach(function (s) { return forgetStylePosition(s); });\n            createdStyles.forEach(function (s) { return prevStyles.add(s); });\n            removedStyles.forEach(function (s) { return prevStyles.delete(s); });\n            if (createdStyles.size + removedStyles.size + movedStyles.size > 0) {\n                update({\n                    created: Array.from(createdStyles),\n                    removed: Array.from(removedStyles),\n                    moved: Array.from(movedStyles),\n                    updated: [],\n                });\n            }\n        }\n        function handleMinorTreeMutations(_a) {\n            var additions = _a.additions, moves = _a.moves, deletions = _a.deletions;\n            var createdStyles = new Set();\n            var removedStyles = new Set();\n            var movedStyles = new Set();\n            additions.forEach(function (node) { return getManageableStyles(node).forEach(function (style) { return createdStyles.add(style); }); });\n            deletions.forEach(function (node) { return getManageableStyles(node).forEach(function (style) { return removedStyles.add(style); }); });\n            moves.forEach(function (node) { return getManageableStyles(node).forEach(function (style) { return movedStyles.add(style); }); });\n            handleStyleOperations({ createdStyles: createdStyles, removedStyles: removedStyles, movedStyles: movedStyles });\n            additions.forEach(function (n) {\n                iterateShadowHosts(n, subscribeForShadowRootChanges);\n                collectUndefinedElements(n);\n            });\n        }\n        function handleHugeTreeMutations(root) {\n            var styles = new Set(getManageableStyles(root));\n            var createdStyles = new Set();\n            var removedStyles = new Set();\n            var movedStyles = new Set();\n            styles.forEach(function (s) {\n                if (!prevStyles.has(s)) {\n                    createdStyles.add(s);\n                }\n            });\n            prevStyles.forEach(function (s) {\n                if (!styles.has(s)) {\n                    removedStyles.add(s);\n                }\n            });\n            styles.forEach(function (s) {\n                if (!createdStyles.has(s) && !removedStyles.has(s) && didStylePositionChange(s)) {\n                    movedStyles.add(s);\n                }\n            });\n            handleStyleOperations({ createdStyles: createdStyles, removedStyles: removedStyles, movedStyles: movedStyles });\n            iterateShadowHosts(root, subscribeForShadowRootChanges);\n            collectUndefinedElements(root);\n        }\n        function handleAttributeMutations(mutations) {\n            var updatedStyles = new Set();\n            var removedStyles = new Set();\n            mutations.forEach(function (m) {\n                var target = m.target;\n                if (target.isConnected) {\n                    if (shouldManageStyle(target)) {\n                        updatedStyles.add(target);\n                    }\n                    else if (target instanceof HTMLLinkElement && target.disabled) {\n                        removedStyles.add(target);\n                    }\n                }\n            });\n            if (updatedStyles.size + removedStyles.size > 0) {\n                update({\n                    updated: Array.from(updatedStyles),\n                    created: [],\n                    removed: Array.from(removedStyles),\n                    moved: [],\n                });\n            }\n        }\n        function observe(root) {\n            var treeObserver = createOptimizedTreeObserver(root, {\n                onMinorMutations: handleMinorTreeMutations,\n                onHugeMutations: handleHugeTreeMutations,\n            });\n            var attrObserver = new MutationObserver(handleAttributeMutations);\n            attrObserver.observe(root, { attributes: true, attributeFilter: ['rel', 'disabled', 'media'], subtree: true });\n            observers.push(treeObserver, attrObserver);\n            observedRoots.add(root);\n        }\n        function subscribeForShadowRootChanges(node) {\n            var shadowRoot = node.shadowRoot;\n            if (shadowRoot == null || observedRoots.has(shadowRoot)) {\n                return;\n            }\n            observe(shadowRoot);\n            shadowRootDiscovered(shadowRoot);\n        }\n        observe(document);\n        iterateShadowHosts(document.documentElement, subscribeForShadowRootChanges);\n        watchWhenCustomElementsDefined(function (hosts) {\n            var newStyles = [];\n            hosts.forEach(function (host) { return push(newStyles, getManageableStyles(host.shadowRoot)); });\n            update({ created: newStyles, updated: [], removed: [], moved: [] });\n            hosts.forEach(function (host) {\n                var shadowRoot = host.shadowRoot;\n                if (shadowRoot == null) {\n                    return;\n                }\n                subscribeForShadowRootChanges(host);\n                iterateShadowHosts(shadowRoot, subscribeForShadowRootChanges);\n                collectUndefinedElements(shadowRoot);\n            });\n        });\n        document.addEventListener('__darkreader__isDefined', handleIsDefined);\n        collectUndefinedElements(document);\n    }\n    function resetObservers() {\n        observers.forEach(function (o) { return o.disconnect(); });\n        observers.splice(0, observers.length);\n        observedRoots = new WeakSet();\n    }\n    function stopWatchingForStyleChanges() {\n        resetObservers();\n        unsubscribeFromDefineCustomElements();\n    }\n\n    function hexify(number) {\n        return ((number < 16 ? '0' : '') + number.toString(16));\n    }\n    function generateUID() {\n        if ('randomUUID' in crypto) {\n            var uuid = crypto.randomUUID();\n            return uuid.substring(0, 8) + uuid.substring(9, 13) + uuid.substring(14, 18) + uuid.substring(19, 23) + uuid.substring(24);\n        }\n        return Array.from(crypto.getRandomValues(new Uint8Array(16))).map(function (x) { return hexify(x); }).join('');\n    }\n\n    var adoptedStyleOverrides = new WeakMap();\n    var overrideList = new WeakSet();\n    function createAdoptedStyleSheetOverride(node) {\n        var cancelAsyncOperations = false;\n        function injectSheet(sheet, override) {\n            var newSheets = __spreadArray([], __read(node.adoptedStyleSheets), false);\n            var sheetIndex = newSheets.indexOf(sheet);\n            var existingIndex = newSheets.indexOf(override);\n            if (sheetIndex === existingIndex - 1) {\n                return;\n            }\n            if (existingIndex >= 0) {\n                newSheets.splice(existingIndex, 1);\n            }\n            newSheets.splice(sheetIndex + 1, 0, override);\n            node.adoptedStyleSheets = newSheets;\n        }\n        function destroy() {\n            cancelAsyncOperations = true;\n            var newSheets = __spreadArray([], __read(node.adoptedStyleSheets), false);\n            node.adoptedStyleSheets.forEach(function (adoptedStyleSheet) {\n                if (overrideList.has(adoptedStyleSheet)) {\n                    var existingIndex = newSheets.indexOf(adoptedStyleSheet);\n                    if (existingIndex >= 0) {\n                        newSheets.splice(existingIndex, 1);\n                    }\n                    adoptedStyleOverrides.delete(adoptedStyleSheet);\n                    overrideList.delete(adoptedStyleSheet);\n                }\n            });\n            node.adoptedStyleSheets = newSheets;\n        }\n        function render(theme, ignoreImageAnalysis) {\n            node.adoptedStyleSheets.forEach(function (sheet) {\n                if (overrideList.has(sheet)) {\n                    return;\n                }\n                var rules = sheet.rules;\n                var override = new CSSStyleSheet();\n                function prepareOverridesSheet() {\n                    for (var i = override.cssRules.length - 1; i >= 0; i--) {\n                        override.deleteRule(i);\n                    }\n                    injectSheet(sheet, override);\n                    adoptedStyleOverrides.set(sheet, override);\n                    overrideList.add(override);\n                    return override;\n                }\n                var sheetModifier = createStyleSheetModifier();\n                sheetModifier.modifySheet({\n                    prepareSheet: prepareOverridesSheet,\n                    sourceCSSRules: rules,\n                    theme: theme,\n                    ignoreImageAnalysis: ignoreImageAnalysis,\n                    force: false,\n                    isAsyncCancelled: function () { return cancelAsyncOperations; },\n                });\n            });\n        }\n        return {\n            render: render,\n            destroy: destroy\n        };\n    }\n\n    function injectProxy(enableStyleSheetsProxy) {\n        document.dispatchEvent(new CustomEvent('__darkreader__inlineScriptsAllowed'));\n        var addRuleDescriptor = Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype, 'addRule');\n        var insertRuleDescriptor = Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype, 'insertRule');\n        var deleteRuleDescriptor = Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype, 'deleteRule');\n        var removeRuleDescriptor = Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype, 'removeRule');\n        var documentStyleSheetsDescriptor = enableStyleSheetsProxy ?\n            Object.getOwnPropertyDescriptor(Document.prototype, 'styleSheets') : null;\n        var shouldWrapHTMLElement = [\n            'baidu.com',\n            'baike.baidu.com',\n            'ditu.baidu.com',\n            'map.baidu.com',\n            'maps.baidu.com',\n            'haokan.baidu.com',\n            'pan.baidu.com',\n            'passport.baidu.com',\n            'tieba.baidu.com',\n            'www.baidu.com'\n        ].includes(location.hostname);\n        var getElementsByTagNameDescriptor = shouldWrapHTMLElement ?\n            Object.getOwnPropertyDescriptor(Element.prototype, 'getElementsByTagName') : null;\n        var cleanUp = function () {\n            Object.defineProperty(CSSStyleSheet.prototype, 'addRule', addRuleDescriptor);\n            Object.defineProperty(CSSStyleSheet.prototype, 'insertRule', insertRuleDescriptor);\n            Object.defineProperty(CSSStyleSheet.prototype, 'deleteRule', deleteRuleDescriptor);\n            Object.defineProperty(CSSStyleSheet.prototype, 'removeRule', removeRuleDescriptor);\n            document.removeEventListener('__darkreader__cleanUp', cleanUp);\n            document.removeEventListener('__darkreader__addUndefinedResolver', addUndefinedResolver);\n            if (enableStyleSheetsProxy) {\n                Object.defineProperty(Document.prototype, 'styleSheets', documentStyleSheetsDescriptor);\n            }\n            if (shouldWrapHTMLElement) {\n                Object.defineProperty(Element.prototype, 'getElementsByTagName', getElementsByTagNameDescriptor);\n            }\n        };\n        var addUndefinedResolver = function (e) {\n            customElements.whenDefined(e.detail.tag).then(function () {\n                document.dispatchEvent(new CustomEvent('__darkreader__isDefined', { detail: { tag: e.detail.tag } }));\n            });\n        };\n        document.addEventListener('__darkreader__cleanUp', cleanUp);\n        document.addEventListener('__darkreader__addUndefinedResolver', addUndefinedResolver);\n        var updateSheetEvent = new Event('__darkreader__updateSheet');\n        function proxyAddRule(selector, style, index) {\n            addRuleDescriptor.value.call(this, selector, style, index);\n            if (this.ownerNode && !this.ownerNode.classList.contains('darkreader')) {\n                this.ownerNode.dispatchEvent(updateSheetEvent);\n            }\n            return -1;\n        }\n        function proxyInsertRule(rule, index) {\n            var returnValue = insertRuleDescriptor.value.call(this, rule, index);\n            if (this.ownerNode && !this.ownerNode.classList.contains('darkreader')) {\n                this.ownerNode.dispatchEvent(updateSheetEvent);\n            }\n            return returnValue;\n        }\n        function proxyDeleteRule(index) {\n            deleteRuleDescriptor.value.call(this, index);\n            if (this.ownerNode && !this.ownerNode.classList.contains('darkreader')) {\n                this.ownerNode.dispatchEvent(updateSheetEvent);\n            }\n        }\n        function proxyRemoveRule(index) {\n            removeRuleDescriptor.value.call(this, index);\n            if (this.ownerNode && !this.ownerNode.classList.contains('darkreader')) {\n                this.ownerNode.dispatchEvent(updateSheetEvent);\n            }\n        }\n        function proxyDocumentStyleSheets() {\n            var _this = this;\n            var getCurrentValue = function () {\n                var docSheets = documentStyleSheetsDescriptor.get.call(_this);\n                var filteredSheets = __spreadArray([], __read(docSheets), false).filter(function (styleSheet) {\n                    return !styleSheet.ownerNode.classList.contains('darkreader');\n                });\n                filteredSheets.item = function (item) {\n                    return filteredSheets[item];\n                };\n                return Object.setPrototypeOf(filteredSheets, StyleSheetList.prototype);\n            };\n            var elements = getCurrentValue();\n            var styleSheetListBehavior = {\n                get: function (_, property) {\n                    return getCurrentValue()[property];\n                }\n            };\n            elements = new Proxy(elements, styleSheetListBehavior);\n            return elements;\n        }\n        function proxyGetElementsByTagName(tagName) {\n            var _this = this;\n            if (tagName !== 'style') {\n                return getElementsByTagNameDescriptor.value.call(this, tagName);\n            }\n            var getCurrentElementValue = function () {\n                var elements = getElementsByTagNameDescriptor.value.call(_this, tagName);\n                return Object.setPrototypeOf(__spreadArray([], __read(elements), false).filter(function (element) {\n                    return !element.classList.contains('darkreader');\n                }), NodeList.prototype);\n            };\n            var elements = getCurrentElementValue();\n            var nodeListBehavior = {\n                get: function (_, property) {\n                    return getCurrentElementValue()[Number(property) || property];\n                }\n            };\n            elements = new Proxy(elements, nodeListBehavior);\n            return elements;\n        }\n        Object.defineProperty(CSSStyleSheet.prototype, 'addRule', Object.assign({}, addRuleDescriptor, { value: proxyAddRule }));\n        Object.defineProperty(CSSStyleSheet.prototype, 'insertRule', Object.assign({}, insertRuleDescriptor, { value: proxyInsertRule }));\n        Object.defineProperty(CSSStyleSheet.prototype, 'deleteRule', Object.assign({}, deleteRuleDescriptor, { value: proxyDeleteRule }));\n        Object.defineProperty(CSSStyleSheet.prototype, 'removeRule', Object.assign({}, removeRuleDescriptor, { value: proxyRemoveRule }));\n        if (enableStyleSheetsProxy) {\n            Object.defineProperty(Document.prototype, 'styleSheets', Object.assign({}, documentStyleSheetsDescriptor, { get: proxyDocumentStyleSheets }));\n        }\n        if (shouldWrapHTMLElement) {\n            Object.defineProperty(Element.prototype, 'getElementsByTagName', Object.assign({}, getElementsByTagNameDescriptor, { value: proxyGetElementsByTagName }));\n        }\n    }\n\n    var INSTANCE_ID = generateUID();\n    var styleManagers = new Map();\n    var adoptedStyleManagers = [];\n    var filter = null;\n    var fixes = null;\n    var isIFrame$1 = null;\n    var ignoredImageAnalysisSelectors = null;\n    var ignoredInlineSelectors = null;\n    function createOrUpdateStyle(className, root) {\n        if (root === void 0) { root = document.head || document; }\n        var element = root.querySelector(\".\".concat(className));\n        if (!element) {\n            element = document.createElement('style');\n            element.classList.add('darkreader');\n            element.classList.add(className);\n            element.media = 'screen';\n            element.textContent = '';\n        }\n        return element;\n    }\n    function createOrUpdateScript(className, root) {\n        if (root === void 0) { root = document.head || document; }\n        var element = root.querySelector(\".\".concat(className));\n        if (!element) {\n            element = document.createElement('script');\n            element.classList.add('darkreader');\n            element.classList.add(className);\n        }\n        return element;\n    }\n    var nodePositionWatchers = new Map();\n    function setupNodePositionWatcher(node, alias) {\n        nodePositionWatchers.has(alias) && nodePositionWatchers.get(alias).stop();\n        nodePositionWatchers.set(alias, watchForNodePosition(node, 'parent'));\n    }\n    function stopStylePositionWatchers() {\n        forEach(nodePositionWatchers.values(), function (watcher) { return watcher.stop(); });\n        nodePositionWatchers.clear();\n    }\n    function createStaticStyleOverrides() {\n        var fallbackStyle = createOrUpdateStyle('darkreader--fallback', document);\n        fallbackStyle.textContent = getModifiedFallbackStyle(filter, { strict: true });\n        document.head.insertBefore(fallbackStyle, document.head.firstChild);\n        setupNodePositionWatcher(fallbackStyle, 'fallback');\n        var userAgentStyle = createOrUpdateStyle('darkreader--user-agent');\n        userAgentStyle.textContent = getModifiedUserAgentStyle(filter, isIFrame$1, filter.styleSystemControls);\n        document.head.insertBefore(userAgentStyle, fallbackStyle.nextSibling);\n        setupNodePositionWatcher(userAgentStyle, 'user-agent');\n        var textStyle = createOrUpdateStyle('darkreader--text');\n        if (filter.useFont || filter.textStroke > 0) {\n            textStyle.textContent = createTextStyle(filter);\n        }\n        else {\n            textStyle.textContent = '';\n        }\n        document.head.insertBefore(textStyle, fallbackStyle.nextSibling);\n        setupNodePositionWatcher(textStyle, 'text');\n        var invertStyle = createOrUpdateStyle('darkreader--invert');\n        if (fixes && Array.isArray(fixes.invert) && fixes.invert.length > 0) {\n            invertStyle.textContent = [\n                \"\".concat(fixes.invert.join(', '), \" {\"),\n                \"    filter: \".concat(getCSSFilterValue(__assign(__assign({}, filter), { contrast: filter.mode === 0 ? filter.contrast : clamp(filter.contrast - 10, 0, 100) })), \" !important;\"),\n                '}',\n            ].join('\\n');\n        }\n        else {\n            invertStyle.textContent = '';\n        }\n        document.head.insertBefore(invertStyle, textStyle.nextSibling);\n        setupNodePositionWatcher(invertStyle, 'invert');\n        var inlineStyle = createOrUpdateStyle('darkreader--inline');\n        inlineStyle.textContent = getInlineOverrideStyle();\n        document.head.insertBefore(inlineStyle, invertStyle.nextSibling);\n        setupNodePositionWatcher(inlineStyle, 'inline');\n        var overrideStyle = createOrUpdateStyle('darkreader--override');\n        overrideStyle.textContent = fixes && fixes.css ? replaceCSSTemplates(fixes.css) : '';\n        document.head.appendChild(overrideStyle);\n        setupNodePositionWatcher(overrideStyle, 'override');\n        var variableStyle = createOrUpdateStyle('darkreader--variables');\n        var selectionColors = getSelectionColor(filter);\n        var darkSchemeBackgroundColor = filter.darkSchemeBackgroundColor, darkSchemeTextColor = filter.darkSchemeTextColor, lightSchemeBackgroundColor = filter.lightSchemeBackgroundColor, lightSchemeTextColor = filter.lightSchemeTextColor, mode = filter.mode;\n        var schemeBackgroundColor = mode === 0 ? lightSchemeBackgroundColor : darkSchemeBackgroundColor;\n        var schemeTextColor = mode === 0 ? lightSchemeTextColor : darkSchemeTextColor;\n        schemeBackgroundColor = modifyBackgroundColor(parse(schemeBackgroundColor), filter);\n        schemeTextColor = modifyForegroundColor(parse(schemeTextColor), filter);\n        variableStyle.textContent = [\n            \":root {\",\n            \"   --darkreader-neutral-background: \".concat(schemeBackgroundColor, \";\"),\n            \"   --darkreader-neutral-text: \".concat(schemeTextColor, \";\"),\n            \"   --darkreader-selection-background: \".concat(selectionColors.backgroundColorSelection, \";\"),\n            \"   --darkreader-selection-text: \".concat(selectionColors.foregroundColorSelection, \";\"),\n            \"}\"\n        ].join('\\n');\n        document.head.insertBefore(variableStyle, inlineStyle.nextSibling);\n        setupNodePositionWatcher(variableStyle, 'variables');\n        var rootVarsStyle = createOrUpdateStyle('darkreader--root-vars');\n        document.head.insertBefore(rootVarsStyle, variableStyle.nextSibling);\n        var proxyScript = createOrUpdateScript('darkreader--proxy');\n        proxyScript.append(\"(\".concat(injectProxy, \")(!\").concat(fixes && fixes.disableStyleSheetsProxy, \")\"));\n        document.head.insertBefore(proxyScript, rootVarsStyle.nextSibling);\n        proxyScript.remove();\n    }\n    var shadowRootsWithOverrides = new Set();\n    function createShadowStaticStyleOverrides(root) {\n        var inlineStyle = createOrUpdateStyle('darkreader--inline', root);\n        inlineStyle.textContent = getInlineOverrideStyle();\n        root.insertBefore(inlineStyle, root.firstChild);\n        var overrideStyle = createOrUpdateStyle('darkreader--override', root);\n        overrideStyle.textContent = fixes && fixes.css ? replaceCSSTemplates(fixes.css) : '';\n        root.insertBefore(overrideStyle, inlineStyle.nextSibling);\n        var invertStyle = createOrUpdateStyle('darkreader--invert', root);\n        if (fixes && Array.isArray(fixes.invert) && fixes.invert.length > 0) {\n            invertStyle.textContent = [\n                \"\".concat(fixes.invert.join(', '), \" {\"),\n                \"    filter: \".concat(getCSSFilterValue(__assign(__assign({}, filter), { contrast: filter.mode === 0 ? filter.contrast : clamp(filter.contrast - 10, 0, 100) })), \" !important;\"),\n                '}',\n            ].join('\\n');\n        }\n        else {\n            invertStyle.textContent = '';\n        }\n        root.insertBefore(invertStyle, overrideStyle.nextSibling);\n        shadowRootsWithOverrides.add(root);\n    }\n    function replaceCSSTemplates($cssText) {\n        return $cssText.replace(/\\${(.+?)}/g, function (_, $color) {\n            var color = tryParseColor($color);\n            if (color) {\n                return modifyColor(color, filter);\n            }\n            logWarn(\"Couldn't parse CSSTemplate's color.\");\n            return $color;\n        });\n    }\n    function cleanFallbackStyle() {\n        var fallback = document.querySelector('.darkreader--fallback');\n        if (fallback) {\n            fallback.textContent = '';\n        }\n    }\n    function createDynamicStyleOverrides() {\n        cancelRendering();\n        var allStyles = getManageableStyles(document);\n        var newManagers = allStyles\n            .filter(function (style) { return !styleManagers.has(style); })\n            .map(function (style) { return createManager(style); });\n        newManagers\n            .map(function (manager) { return manager.details({ secondRound: false }); })\n            .filter(function (detail) { return detail && detail.rules.length > 0; })\n            .forEach(function (detail) {\n            variablesStore.addRulesForMatching(detail.rules);\n        });\n        variablesStore.matchVariablesAndDependants();\n        variablesStore.setOnRootVariableChange(function () {\n            variablesStore.putRootVars(document.head.querySelector('.darkreader--root-vars'), filter);\n        });\n        variablesStore.putRootVars(document.head.querySelector('.darkreader--root-vars'), filter);\n        styleManagers.forEach(function (manager) { return manager.render(filter, ignoredImageAnalysisSelectors); });\n        if (loadingStyles.size === 0) {\n            cleanFallbackStyle();\n        }\n        newManagers.forEach(function (manager) { return manager.watch(); });\n        var inlineStyleElements = toArray(document.querySelectorAll(INLINE_STYLE_SELECTOR));\n        iterateShadowHosts(document.documentElement, function (host) {\n            createShadowStaticStyleOverrides(host.shadowRoot);\n            var elements = host.shadowRoot.querySelectorAll(INLINE_STYLE_SELECTOR);\n            if (elements.length > 0) {\n                push(inlineStyleElements, elements);\n            }\n        });\n        inlineStyleElements.forEach(function (el) { return overrideInlineStyle(el, filter, ignoredInlineSelectors, ignoredImageAnalysisSelectors); });\n        handleAdoptedStyleSheets(document);\n    }\n    var loadingStylesCounter = 0;\n    var loadingStyles = new Set();\n    function createManager(element) {\n        var loadingStyleId = ++loadingStylesCounter;\n        logInfo(\"New manager for element, with loadingStyleID \".concat(loadingStyleId), element);\n        function loadingStart() {\n            if (!isDOMReady() || !didDocumentShowUp) {\n                loadingStyles.add(loadingStyleId);\n                logInfo(\"Current amount of styles loading: \".concat(loadingStyles.size));\n                var fallbackStyle = document.querySelector('.darkreader--fallback');\n                if (!fallbackStyle.textContent) {\n                    fallbackStyle.textContent = getModifiedFallbackStyle(filter, { strict: false });\n                }\n            }\n        }\n        function loadingEnd() {\n            loadingStyles.delete(loadingStyleId);\n            logInfo(\"Removed loadingStyle \".concat(loadingStyleId, \", now awaiting: \").concat(loadingStyles.size));\n            logInfo(\"To-do to be loaded\", loadingStyles);\n            if (loadingStyles.size === 0 && isDOMReady()) {\n                cleanFallbackStyle();\n            }\n        }\n        function update() {\n            var details = manager.details({ secondRound: true });\n            if (!details) {\n                return;\n            }\n            variablesStore.addRulesForMatching(details.rules);\n            variablesStore.matchVariablesAndDependants();\n            manager.render(filter, ignoredImageAnalysisSelectors);\n        }\n        var manager = manageStyle(element, { update: update, loadingStart: loadingStart, loadingEnd: loadingEnd });\n        styleManagers.set(element, manager);\n        return manager;\n    }\n    function removeManager(element) {\n        var manager = styleManagers.get(element);\n        if (manager) {\n            manager.destroy();\n            styleManagers.delete(element);\n        }\n    }\n    var throttledRenderAllStyles = throttle(function (callback) {\n        styleManagers.forEach(function (manager) { return manager.render(filter, ignoredImageAnalysisSelectors); });\n        adoptedStyleManagers.forEach(function (manager) { return manager.render(filter, ignoredImageAnalysisSelectors); });\n        callback && callback();\n    });\n    var cancelRendering = function () {\n        throttledRenderAllStyles.cancel();\n    };\n    function onDOMReady() {\n        if (loadingStyles.size === 0) {\n            cleanFallbackStyle();\n            return;\n        }\n        logWarn(\"DOM is ready, but still have styles being loaded.\", loadingStyles);\n    }\n    var documentVisibilityListener = null;\n    var didDocumentShowUp = !document.hidden;\n    function watchForDocumentVisibility(callback) {\n        var alreadyWatching = Boolean(documentVisibilityListener);\n        documentVisibilityListener = function () {\n            if (!document.hidden) {\n                stopWatchingForDocumentVisibility();\n                callback();\n                didDocumentShowUp = true;\n            }\n        };\n        if (!alreadyWatching) {\n            document.addEventListener('visibilitychange', documentVisibilityListener);\n        }\n    }\n    function stopWatchingForDocumentVisibility() {\n        document.removeEventListener('visibilitychange', documentVisibilityListener);\n        documentVisibilityListener = null;\n    }\n    function createThemeAndWatchForUpdates() {\n        createStaticStyleOverrides();\n        function runDynamicStyle() {\n            createDynamicStyleOverrides();\n            watchForUpdates();\n        }\n        if (document.hidden && !filter.immediateModify) {\n            watchForDocumentVisibility(runDynamicStyle);\n        }\n        else {\n            runDynamicStyle();\n        }\n        changeMetaThemeColorWhenAvailable(filter);\n    }\n    function handleAdoptedStyleSheets(node) {\n        try {\n            if (Array.isArray(node.adoptedStyleSheets)) {\n                if (node.adoptedStyleSheets.length > 0) {\n                    var newManger = createAdoptedStyleSheetOverride(node);\n                    adoptedStyleManagers.push(newManger);\n                    newManger.render(filter, ignoredImageAnalysisSelectors);\n                }\n            }\n        }\n        catch (err) {\n            logWarn('Error occured in handleAdoptedStyleSheets: ', err);\n        }\n    }\n    function watchForUpdates() {\n        var managedStyles = Array.from(styleManagers.keys());\n        watchForStyleChanges(managedStyles, function (_a) {\n            var created = _a.created, updated = _a.updated, removed = _a.removed, moved = _a.moved;\n            var stylesToRemove = removed;\n            var stylesToManage = created.concat(updated).concat(moved)\n                .filter(function (style) { return !styleManagers.has(style); });\n            var stylesToRestore = moved\n                .filter(function (style) { return styleManagers.has(style); });\n            logInfo(\"Styles to be removed:\", stylesToRemove);\n            stylesToRemove.forEach(function (style) { return removeManager(style); });\n            var newManagers = stylesToManage\n                .map(function (style) { return createManager(style); });\n            newManagers\n                .map(function (manager) { return manager.details({ secondRound: false }); })\n                .filter(function (detail) { return detail && detail.rules.length > 0; })\n                .forEach(function (detail) {\n                variablesStore.addRulesForMatching(detail.rules);\n            });\n            variablesStore.matchVariablesAndDependants();\n            newManagers.forEach(function (manager) { return manager.render(filter, ignoredImageAnalysisSelectors); });\n            newManagers.forEach(function (manager) { return manager.watch(); });\n            stylesToRestore.forEach(function (style) { return styleManagers.get(style).restore(); });\n        }, function (shadowRoot) {\n            createShadowStaticStyleOverrides(shadowRoot);\n            handleAdoptedStyleSheets(shadowRoot);\n        });\n        watchForInlineStyles(function (element) {\n            overrideInlineStyle(element, filter, ignoredInlineSelectors, ignoredImageAnalysisSelectors);\n            if (element === document.documentElement) {\n                var styleAttr = element.getAttribute('style') || '';\n                if (styleAttr.includes('--')) {\n                    variablesStore.matchVariablesAndDependants();\n                    variablesStore.putRootVars(document.head.querySelector('.darkreader--root-vars'), filter);\n                }\n            }\n        }, function (root) {\n            createShadowStaticStyleOverrides(root);\n            var inlineStyleElements = root.querySelectorAll(INLINE_STYLE_SELECTOR);\n            if (inlineStyleElements.length > 0) {\n                forEach(inlineStyleElements, function (el) { return overrideInlineStyle(el, filter, ignoredInlineSelectors, ignoredImageAnalysisSelectors); });\n            }\n        });\n        addDOMReadyListener(onDOMReady);\n    }\n    function stopWatchingForUpdates() {\n        styleManagers.forEach(function (manager) { return manager.pause(); });\n        stopStylePositionWatchers();\n        stopWatchingForStyleChanges();\n        stopWatchingForInlineStyles();\n        removeDOMReadyListener(onDOMReady);\n        cleanReadyStateCompleteListeners();\n    }\n    function createDarkReaderInstanceMarker() {\n        var metaElement = document.createElement('meta');\n        metaElement.name = 'darkreader';\n        metaElement.content = INSTANCE_ID;\n        document.head.appendChild(metaElement);\n    }\n    function isAnotherDarkReaderInstanceActive() {\n        var meta = document.querySelector('meta[name=\"darkreader\"]');\n        if (meta) {\n            if (meta.content !== INSTANCE_ID) {\n                return true;\n            }\n            return false;\n        }\n        createDarkReaderInstanceMarker();\n        return false;\n    }\n    function createOrUpdateDynamicTheme(filterConfig, dynamicThemeFixes, iframe) {\n        filter = filterConfig;\n        fixes = dynamicThemeFixes;\n        if (fixes) {\n            ignoredImageAnalysisSelectors = Array.isArray(fixes.ignoreImageAnalysis) ? fixes.ignoreImageAnalysis : [];\n            ignoredInlineSelectors = Array.isArray(fixes.ignoreInlineStyle) ? fixes.ignoreInlineStyle : [];\n        }\n        else {\n            ignoredImageAnalysisSelectors = [];\n            ignoredInlineSelectors = [];\n        }\n        if (filter.immediateModify) {\n            setIsDOMReady(function () {\n                return true;\n            });\n        }\n        isIFrame$1 = iframe;\n        if (document.head) {\n            if (isAnotherDarkReaderInstanceActive()) {\n                return;\n            }\n            document.documentElement.setAttribute('data-darkreader-mode', 'dynamic');\n            document.documentElement.setAttribute('data-darkreader-scheme', filter.mode ? 'dark' : 'dimmed');\n            createThemeAndWatchForUpdates();\n        }\n        else {\n            if (!isFirefox) {\n                var fallbackStyle = createOrUpdateStyle('darkreader--fallback');\n                document.documentElement.appendChild(fallbackStyle);\n                fallbackStyle.textContent = getModifiedFallbackStyle(filter, { strict: true });\n            }\n            var headObserver_1 = new MutationObserver(function () {\n                if (document.head) {\n                    headObserver_1.disconnect();\n                    if (isAnotherDarkReaderInstanceActive()) {\n                        removeDynamicTheme();\n                        return;\n                    }\n                    createThemeAndWatchForUpdates();\n                }\n            });\n            headObserver_1.observe(document, { childList: true, subtree: true });\n        }\n    }\n    function removeProxy() {\n        document.dispatchEvent(new CustomEvent('__darkreader__cleanUp'));\n        removeNode(document.head.querySelector('.darkreader--proxy'));\n    }\n    function removeDynamicTheme() {\n        document.documentElement.removeAttribute(\"data-darkreader-mode\");\n        document.documentElement.removeAttribute(\"data-darkreader-scheme\");\n        cleanDynamicThemeCache();\n        removeNode(document.querySelector('.darkreader--fallback'));\n        if (document.head) {\n            restoreMetaThemeColor();\n            removeNode(document.head.querySelector('.darkreader--user-agent'));\n            removeNode(document.head.querySelector('.darkreader--text'));\n            removeNode(document.head.querySelector('.darkreader--invert'));\n            removeNode(document.head.querySelector('.darkreader--inline'));\n            removeNode(document.head.querySelector('.darkreader--override'));\n            removeNode(document.head.querySelector('.darkreader--variables'));\n            removeNode(document.head.querySelector('.darkreader--root-vars'));\n            removeNode(document.head.querySelector('meta[name=\"darkreader\"]'));\n            removeProxy();\n        }\n        shadowRootsWithOverrides.forEach(function (root) {\n            removeNode(root.querySelector('.darkreader--inline'));\n            removeNode(root.querySelector('.darkreader--override'));\n        });\n        shadowRootsWithOverrides.clear();\n        forEach(styleManagers.keys(), function (el) { return removeManager(el); });\n        loadingStyles.clear();\n        cleanLoadingLinks();\n        forEach(document.querySelectorAll('.darkreader'), removeNode);\n        adoptedStyleManagers.forEach(function (manager) {\n            manager.destroy();\n        });\n        adoptedStyleManagers.splice(0);\n    }\n    function cleanDynamicThemeCache() {\n        variablesStore.clear();\n        parsedURLCache.clear();\n        stopWatchingForDocumentVisibility();\n        cancelRendering();\n        stopWatchingForUpdates();\n        cleanModificationCache();\n    }\n\n    var blobRegex = /url\\(\\\"(blob\\:.*?)\\\"\\)/g;\n    function replaceBlobs(text) {\n        return __awaiter(this, void 0, void 0, function () {\n            var promises, data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        promises = [];\n                        getMatches(blobRegex, text, 1).forEach(function (url) {\n                            var promise = loadAsDataURL(url);\n                            promises.push(promise);\n                        });\n                        return [4, Promise.all(promises)];\n                    case 1:\n                        data = _a.sent();\n                        return [2, text.replace(blobRegex, function () { return \"url(\\\"\".concat(data.shift(), \"\\\")\"); })];\n                }\n            });\n        });\n    }\n    var banner = \"/*\\n                        _______\\n                       /       \\\\\\n                      .==.    .==.\\n                     ((  ))==((  ))\\n                    / \\\"==\\\"    \\\"==\\\"\\\\\\n                   /____|| || ||___\\\\\\n       ________     ____    ________  ___    ___\\n       |  ___  \\\\   /    \\\\   |  ___  \\\\ |  |  /  /\\n       |  |  \\\\  \\\\ /  /\\\\  \\\\  |  |  \\\\  \\\\|  |_/  /\\n       |  |   )  /  /__\\\\  \\\\ |  |__/  /|  ___  \\\\\\n       |  |__/  /  ______  \\\\|  ____  \\\\|  |  \\\\  \\\\\\n_______|_______/__/ ____ \\\\__\\\\__|___\\\\__\\\\__|___\\\\__\\\\____\\n|  ___  \\\\ |  ____/ /    \\\\   |  ___  \\\\ |  ____|  ___  \\\\\\n|  |  \\\\  \\\\|  |___ /  /\\\\  \\\\  |  |  \\\\  \\\\|  |___|  |  \\\\  \\\\\\n|  |__/  /|  ____/  /__\\\\  \\\\ |  |   )  |  ____|  |__/  /\\n|  ____  \\\\|  |__/  ______  \\\\|  |__/  /|  |___|  ____  \\\\\\n|__|   \\\\__\\\\____/__/      \\\\__\\\\_______/ |______|__|   \\\\__\\\\\\n                https://darkreader.org\\n*/\\n\\n/*! Dark reader generated CSS | Licensed under MIT https://github.com/darkreader/darkreader/blob/master/LICENSE */\\n\";\n    function collectCSS() {\n        return __awaiter(this, void 0, void 0, function () {\n            function addStaticCSS(selector, comment) {\n                var staticStyle = document.querySelector(selector);\n                if (staticStyle && staticStyle.textContent) {\n                    css.push(\"/* \".concat(comment, \" */\"));\n                    css.push(staticStyle.textContent);\n                    css.push('');\n                }\n            }\n            var css, modifiedCSS, formattedCSS, _a, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        css = [banner];\n                        addStaticCSS('.darkreader--fallback', 'Fallback Style');\n                        addStaticCSS('.darkreader--user-agent', 'User-Agent Style');\n                        addStaticCSS('.darkreader--text', 'Text Style');\n                        addStaticCSS('.darkreader--invert', 'Invert Style');\n                        addStaticCSS('.darkreader--variables', 'Variables Style');\n                        modifiedCSS = [];\n                        document.querySelectorAll('.darkreader--sync').forEach(function (element) {\n                            forEach(element.sheet.cssRules, function (rule) {\n                                rule && rule.cssText && modifiedCSS.push(rule.cssText);\n                            });\n                        });\n                        if (!modifiedCSS.length) return [3, 2];\n                        formattedCSS = formatCSS(modifiedCSS.join('\\n'));\n                        css.push('/* Modified CSS */');\n                        _b = (_a = css).push;\n                        return [4, replaceBlobs(formattedCSS)];\n                    case 1:\n                        _b.apply(_a, [_c.sent()]);\n                        css.push('');\n                        _c.label = 2;\n                    case 2:\n                        addStaticCSS('.darkreader--override', 'Override Style');\n                        return [2, css.join('\\n')];\n                }\n            });\n        });\n    }\n\n    var isDarkReaderEnabled = false;\n    var isIFrame = (function () {\n        try {\n            return window.self !== window.top;\n        }\n        catch (err) {\n            console.warn(err);\n            return true;\n        }\n    })();\n    function enable(themeOptions, fixes) {\n        if (themeOptions === void 0) { themeOptions = {}; }\n        if (fixes === void 0) { fixes = null; }\n        var theme = __assign(__assign({}, DEFAULT_THEME), themeOptions);\n        if (theme.engine !== ThemeEngines.dynamicTheme) {\n            throw new Error('Theme engine is not supported.');\n        }\n        createOrUpdateDynamicTheme(theme, fixes, isIFrame);\n        isDarkReaderEnabled = true;\n    }\n    function isEnabled() {\n        return isDarkReaderEnabled;\n    }\n    function disable() {\n        removeDynamicTheme();\n        isDarkReaderEnabled = false;\n    }\n    var darkScheme = matchMedia('(prefers-color-scheme: dark)');\n    var store = {\n        themeOptions: null,\n        fixes: null,\n    };\n    function handleColorScheme() {\n        if (darkScheme.matches) {\n            enable(store.themeOptions, store.fixes);\n        }\n        else {\n            disable();\n        }\n    }\n    function auto(themeOptions, fixes) {\n        if (themeOptions === void 0) { themeOptions = {}; }\n        if (fixes === void 0) { fixes = null; }\n        if (themeOptions) {\n            store = { themeOptions: themeOptions, fixes: fixes };\n            handleColorScheme();\n            if (isMatchMediaChangeEventListenerSupported) {\n                darkScheme.addEventListener('change', handleColorScheme);\n            }\n            else {\n                darkScheme.addListener(handleColorScheme);\n            }\n        }\n        else {\n            if (isMatchMediaChangeEventListenerSupported) {\n                darkScheme.removeEventListener('change', handleColorScheme);\n            }\n            else {\n                darkScheme.removeListener(handleColorScheme);\n            }\n            disable();\n        }\n    }\n    function exportGeneratedCSS() {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, collectCSS()];\n                    case 1: return [2, _a.sent()];\n                }\n            });\n        });\n    }\n    var setFetchMethod = setFetchMethod$1;\n\n    exports.auto = auto;\n    exports.disable = disable;\n    exports.enable = enable;\n    exports.exportGeneratedCSS = exportGeneratedCSS;\n    exports.isEnabled = isEnabled;\n    exports.setFetchMethod = setFetchMethod;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n"],"names":["exports","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","__values","o","m","__read","r","ar","error","__spreadArray","to","from","pack","l","Array","slice","concat","MessageType","UI_GET_DATA","UI_SUBSCRIBE_TO_CHANGES","UI_UNSUBSCRIBE_FROM_CHANGES","UI_CHANGE_SETTINGS","UI_SET_THEME","UI_SET_SHORTCUT","UI_TOGGLE_ACTIVE_TAB","UI_MARK_NEWS_AS_READ","UI_MARK_NEWS_AS_DISPLAYED","UI_LOAD_CONFIG","UI_APPLY_DEV_DYNAMIC_THEME_FIXES","UI_RESET_DEV_DYNAMIC_THEME_FIXES","UI_APPLY_DEV_INVERSION_FIXES","UI_RESET_DEV_INVERSION_FIXES","UI_APPLY_DEV_STATIC_THEMES","UI_RESET_DEV_STATIC_THEMES","UI_SAVE_FILE","UI_REQUEST_EXPORT_CSS","BG_CHANGES","BG_ADD_CSS_FILTER","BG_ADD_STATIC_THEME","BG_ADD_SVG_FILTER","BG_ADD_DYNAMIC_THEME","BG_EXPORT_CSS","BG_UNSUPPORTED_SENDER","BG_CLEAN_UP","BG_RELOAD","BG_FETCH_RESPONSE","BG_UI_UPDATE","BG_CSS_UPDATE","CS_COLOR_SCHEME_CHANGE","CS_FRAME_CONNECT","CS_FRAME_FORGET","CS_FRAME_FREEZE","CS_FRAME_RESUME","CS_EXPORT_CSS_RESPONSE","CS_FETCH","CS_DARK_THEME_DETECTED","CS_DARK_THEME_NOT_DETECTED","userAgent","navigator","toLowerCase","platform","isChromium","includes","isThunderbird","isFirefox","isSafari","isWindows","startsWith","isMacOS","isShadowDomSupported","ShadowRoot","isMatchMediaChangeEventListenerSupported","MediaQueryList","addEventListener","match","isDefinedSelectorSupported","document","querySelector","err","globalThis","chrome","runtime","getManifest","manifest_version","isCSSColorSchemePropSupported","el","createElement","setAttribute","style","colorScheme","getOKResponse","url","mimeType","origin","response","_a","fetch","cache","credentials","referrer","endsWith","headers","get","Error","ok","status","statusText","loadAsDataURL","readResponseAsDataURL","blob","reader","FileReader","onloadend","readAsDataURL","throwCORSError","join","fetcher","setFetchMethod$1","callFetchMethod","window","messageListeners","Set","sendMessage","args","_i","id_1","responseType","text_1","error_1","_b","type","id","data","text","forEach","cb","console","addMessageListener","callback","add","nativeSendMessage_1","onMessage","addListener","nativeAddListener_1","ThemeEngines","cssFilter","svgFilter","staticTheme","dynamicTheme","DEFAULT_COLORS","darkScheme","background","lightScheme","DEFAULT_THEME","mode","brightness","contrast","grayscale","sepia","useFont","fontFamily","textStroke","engine","stylesheet","darkSchemeBackgroundColor","darkSchemeTextColor","lightSchemeBackgroundColor","lightSchemeTextColor","scrollbarColor","selectionColor","styleSystemControls","lightColorScheme","darkColorScheme","immediateModify","isArrayLike","items","e_1","len","items_1","items_1_1","e_1_1","return","array","addition","a","toArray","results","logInfo","logWarn","throttle","lastArgs","pending","frameId","throttled","requestAnimationFrame","cancel","cancelAnimationFrame","createAsyncTasksQueue","tasks","runTasks","task","shift","splice","getDuration","time","duration","seconds","minutes","hours","days","removeNode","node","parentNode","removeChild","watchForNodePosition","onRestore","Function","MAX_ATTEMPTS_COUNT","RETRY_TIMEOUT","ATTEMPTS_INTERVAL","prevSibling","previousSibling","parent","attempts","start","timeoutId","restore","now","Date","setTimeout","stop","updateParent","insertBefore","nextSibling","firstChild","observer","takeRecords","MutationObserver","run","observe","childList","clearTimeout","disconnect","skip","iterateShadowHosts","root","walker","createTreeWalker","NodeFilter","SHOW_ELEMENT","acceptNode","shadowRoot","FILTER_SKIP","FILTER_ACCEPT","currentNode","nextNode","classList","contains","isDOMReady","readyState","setIsDOMReady","newFunc","readyStateListeners","addDOMReadyListener","listener","removeDOMReadyListener","delete","isReadyStateComplete","readyStateCompleteListeners","addReadyStateCompleteListener","cleanReadyStateCompleteListeners","clear","onReadyStateChange_1","removeEventListener","HUGE_MUTATIONS_COUNT","isHugeMutation","mutations","addedNodesCount","addedNodes","getElementsTreeOperations","additions","deletions","moves","Element","isConnected","removedNodes","duplicateAdditions","duplicateDeletions","has","parentElement","anchor","optimizedTreeObservers","Map","optimizedTreeCallbacks","WeakMap","createOptimizedTreeObserver","callbacks","observerCallbacks","domReadyListener","hadHugeMutationsBefore_1","subscribedForReadyState_1","onHugeMutations","elementsOperations_1","onMinorMutations","subtree","set","size","parsedURLCache","fixBaseURL","$url","href","parseURL","$base","key","parsedURL_1","URL","parsedURL","getAbsoluteURL","$relative","test","location","protocol","b","isRelativeHrefOnAbsolutePath","hostname","port","pathname","iterateCSSRules","rules","iterate","onMediaRuleError","rule","selectorText","styleSheet","cssRules","media","isScreenOrAllOrQuery","some","isPrintOrSpeech","conditionText","CSS","supports","shorthandVarDependantProperties","shorthandVarDepPropRegexps","map","prop","RegExp","iterateCSSDeclarations","property","getPropertyValue","trim","cssText","regexp","val","cssURLRegex","cssImportRegex","getCSSURLValue","cssURL","replace","getCSSBaseBath","replaceCSSRelativeURLsWithAbsolute","$css","cssBasePath","pathValue","cssCommentsRegex","removeCSSComments","fontFaceRegex","replaceCSSFontFace","evalMath","expression","lastToken","rpnStack","workingStack","token","operators","currentOp","lessOrEqualThan","unshift","stack","exec","parseFloat","Operator","precedence","method","precendce","execMethod","left","right","getMatches","regex","input","group","matches","formatCSS","trimLeft","getIndent","depth","repeat","emptyRuleRegexp","css","split","formatted","x","line","getParenthesesRange","searchStartIndex","firstOpenIndex","openIndex","indexOf","closingIndex","end","hslToRGB","h","_c","Math","round","r_1","b_1","c","abs","_d","rgbToHSL","r255","g255","b255","max","min","toFixed","digits","fixed","dot","zerosMatch","index","substring","rgbToString","rgb","rgbToHexString","toString","hslToString","hsl","rgbMatch","hslMatch","hexMatch","parse","$color","parseRGB","parseHSL","parseHex","knownColors","getColorByName","systemColors","getSystemColor","getNumbers","numbers","prevPos","isMining","startIndex","getNumbersFromString","str","range","units","raw","unitsList","entries","unit","find","u","rgbRange","rgbUnits","$rgb","hslRange","hslUnits","PI","$hsl","$hex","parseInt","lowerCalcExpression","color","searchIndex","replaceBetweenIndices","replacement","includesPercentage","output","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","ActiveBorder","ActiveCaption","AppWorkspace","Background","ButtonFace","ButtonHighlight","ButtonShadow","ButtonText","CaptionText","GrayText","Highlight","HighlightText","InactiveBorder","InactiveCaption","InactiveCaptionText","InfoBackground","InfoText","Menu","MenuText","Scrollbar","ThreeDDarkShadow","ThreeDFace","ThreeDHighlight","ThreeDLightShadow","ThreeDShadow","Window","WindowFrame","WindowText","getSRGBLightness","scale","inLow","inHigh","outLow","outHigh","clamp","multiplyMatrices","m1","m2","j","len2","sum","k","len3","createFilterMatrix","config","Matrix","identity","invertNHue","applyColorMatrix","matrix","getBgPole","theme","getFgPole","colorModificationCache","colorParseCache$1","parseToHSLWithCache","clearColorModificationCache","rgbCacheKeys","themeCacheKeys$1","getCacheId","resultId","modifyColorWithCache","modifyHSL","poleColor","anotherPoleColor","fnCache","rf","gf","bf","noopHSL","modifyColor","modifyLightSchemeColor","poleBg","modifyLightModeHSL","poleFg","isDark","hx","sx","MAX_BG_LIGHTNESS","modifyBgHSL","pole","isNeutral","lx_1","lx","modifyBackgroundColor","FilterMode","MIN_FG_LIGHTNESS","modifyBlueFgHue","hue","modifyFgHSL","isBlue","lx_2","hx_4","modifyForegroundColor","modifyBorderHSL","modifyBorderColor","modifyShadowColor","filter","modifyGradientColor","createTextStyle","lines","getCSSFilterValue","filters","dark","toSVGMatrix","getSVGFilterMatrixValue","counter","resolvers$1","rejectors","bgFetch","request","imageManager","AsyncQueue","queue","timerId","frameDuration","addToQueue","entry","startQueue","stopQueue","_this","getImageDetails","dataURL","image_1","error_2","getImageDataURL","urlToImage","src","width","naturalWidth","height","naturalHeight","analyzeImage","image","Image","onload","onerror","canvas","context","MAX_ANALIZE_PIXELS_COUNT","createCanvas","maxWidth","maxHeight","getContext","imageSmoothingEnabled","removeCanvas","MAX_IMAGE_SIZE","currentSrc","isLight","isTransparent","isLarge","isTooLarge","naturalPixelsCount","sqrt","ceil","clearRect","drawImage","d","getImageData","TRANSPARENT_ALPHA_THRESHOLD","DARK_LIGHTNESS_THRESHOLD","LIGHT_LIGHTNESS_THRESHOLD","transparentPixelsCount","darkPixelsCount","lightPixelsCount","totalPixelsCount","opaquePixelsCount","getFilteredImageDataURL","svg","btoa","cleanImageProcessingCache","gradientLength","conicGradient","conicGradientLength","radialGradient","linearGradient","parseGradient","_loop_1","typeGradient","possibleType","offset","hasComma","getPriority","ruleStyle","Boolean","getPropertyPriority","getModifiableCSSDeclaration","variablesStore","ignoreImageSelectors","isCancelled","modifier","getVariableModifier","important","sourceValue","getVariableDependantModifier","getColorModifier","getBgImageModifier","getShadowModifier","joinSelectors","selectors","getModifiedUserAgentStyle","isIFrame","bgSelectors","getModifiedScrollbarStyle","getModifiedSelectionStyle","getSelectionColor","backgroundColorSelection","foregroundColorSelection","modifiedSelectionColor","selection","colorTrack","colorIcons","colorThumb","colorThumbHover","colorThumbActive","colorCorner","hsl_1","lighten","lighter","darken","darker","getModifiedFallbackStyle","strict","isMicrosoft","unparsableColors","colorParseCache","parseColorWithCache","tryParseColor","rgb_1","imageDetailsCache","awaitingForImageLoading","shouldIgnoreImage","ruleSelectors","ignoredSelector","state_1","gradients","urls","getIndices","valueIndex","matches_1","sort","getGradientModifier_1","gradient","colorStopRegex","parts","part","space","lastIndexOf","colorStopMatch","modify","getURLModifier_1","urlValue","parentStyleSheet","baseURL","ownerNode","baseURI","absoluteValue","imageDetails","awaiters_1","getBgImageValue_1","inverted","dimmed","filtered","modifiers_1","matchIndex_1","matchStart","prefixStart","matchEnd","all","asyncResults","getShadowModifierWithInfo","index_1","colorMatches_1","notParsed_1","modifiers_2","prefixIndex","matchIndex","modified","matchesLength","unparseableMatchesLength","shadowModifier","ignoredImgSelectors","getModifierForVariable","varName","getModifierForVarDependant","cleanModificationCache","VAR_TYPE_BGCOLOR","VAR_TYPE_TEXTCOLOR","VAR_TYPE_BORDERCOLOR","VAR_TYPE_BGIMG","VariablesStore","varTypes","rulesQueue","definedVars","varRefs","unknownColorVars","unknownBgVars","undefinedVars","initialVarTypes","changedTypeVars","typeChangeSubscriptions","unstableVarValues","isVarType","typeNum","addRulesForMatching","matchVariablesAndDependants","collectRootVariables","collectVariablesAndVarDep","collectRootVarDependants","refs","resolveVariableType","findVarRef","ref","itarateVarRefs","options","getDeclarations","declarations","addModifiedValue","varNameWrapper","colorModifier","modifiedValue","isVarDependant","isConstructedColorVar","insertVarValues","replaceCSSVariablesNames","fallback","wrapBgColorVariableName","tryModifyBgColor","wrapTextColorVariableName","tryModifyTextColor","wrapBorderColorVariableName","tryModifyBorderColor","wrapBgImgVariableName","bgModifier","onTypeChange","decs","subscribeForVarTypeChange","removeListeners","unsubscribeFromVariableTypeChanges","isBg_1","isText_1","unknownVars","variableReplaced","modifiedShadow","firstUnknownVar","values","newValue","rootStore","ruleList","isVariable","inspectVariable","inspectVarDependant","documentElement","initialType","newType","iterateVarDeps","isBgColor","varDeps","iterateVarDependencies","refs_1","refs_1_1","found","setOnRootVariableChange","onRootVariableDefined","putRootVars","styleElement","e_2","sheet","deleteRule","cssLines","declarations_1","declarations_1_1","e_2_1","insertRule","getVariableRange","searchStart","getVariablesMatches","ranges","replaceVariablesMatches","replacer","matchesCount","inputLength","replacements","getVariableNameAndFallback","name","commaIndex","nameReplacer","fallbackReplacer","newFallback","newName","rawValueRegex","parseRawValue","splitted","resultInRGB_1","number","isRaw","handleRawValue","modifyFunction","newColor","outputColor","outputInRGB","source","varValues","containsUnresolvedVar","replaced","varValue","inserted","overrides","customProp","cssProp","dataAttr","overridesList","normalizedPropList","INLINE_STYLE_ATTRS","INLINE_STYLE_SELECTOR","attr","getInlineOverrideStyle","getInlineStyleElements","Document","querySelectorAll","treeObservers","attrObservers","watchForInlineStyles","elementStyleDidChange","shadowRootDiscovered","deepWatchForInlineStyles","host","discoveredNodes","WeakSet","discoverNodes","treeObserver","added","attemptCount","handleAttributeMutations","attributeName","target","attrObserver","attributeCache","attributes","attributeFilter","stopWatchingForInlineStyles","inlineStyleCache","filterProps","getInlineStyleCacheKey","getAttribute","shouldIgnoreInlineStyle","element","ingnoredSelector","overrideInlineStyle","ignoreInlineSelectors","unsetProps","keys","removeAttribute","hasAttribute","setCustomProp","rel","SVGElement","SMALL_SVG_LIMIT_1","value_1","SVGTextElement","handleSVGElement","getBoundingClientRect","SVGLineElement","overridenProp","setProperty","fill","targetCSSProp","modifierCSSProp","cssVal","isPropertyVariable","mod","metaThemeColorName","metaThemeColorSelector","srcMetaThemeColor","changeMetaThemeColor","meta","content","changeMetaThemeColorWhenAvailable","loop","HTMLMetaElement","head","restoreMetaThemeColor","themeCacheKeys","getThemeKey","resultKey","asyncQueue","createStyleSheetModifier","renderId","rulesTextCache","rulesModCache","varTypeChangeCleaners","prevFilterKey","hasNonLoadedLink","wasRebuilt","shouldRebuildStyle","modifySheet","sourceCSSRules","ignoreImageAnalysis","force","prepareSheet","isAsyncCancelled","rulesChanged","notFoundCacheKeys","themeKey","themeChanged","modRules","textDiffersFromPrev","parentRule","CSSMediaRule","mediaText","modDecs","modRule","selector","asyncDeclarations","varDeclarations","asyncDeclarationCounter","varDeclarationCounter","rootReadyGroup","isGroup","groupRefs","getGroup","readyStyleRule","readyDeclarations","handleAsyncDeclaration","asyncKey","asyncDeclaration","currentRenderId","asyncValue","rebuildAsyncRule","handleVarDeclarations","varDecs","varKey","initialIndex","oldDecs","tempDec","readyDec","newDecs","readyVarDecs","rebuildVarRule","buildStyleSheet","setRule","getDeclarationText","dec","cssRulesText","ruleText","createTarget","iterateReadyRules","styleIterator","STYLE_SELECTOR","isFontsGoogleApiStyle","shouldManageStyle","HTMLStyleElement","SVGStyleElement","HTMLLinkElement","disabled","getManageableStyles","deep","syncStyleSet","corsStyleSet","canOptimizeUsingProxy$1","loadingLinkCounter","rejectorsForLoadingLinks","cleanLoadingLinks","manageStyle","update","loadingStart","loadingEnd","prevStyles","nextElementSibling","corsCopy","syncStyle","corsCopyPositionWatcher","syncStylePositionWatcher","cancelAsyncOperations","isOverrideEmpty","sheetModifier","observerOptions","characterData","containsCSSImport","textContent","hasImports","checkCrossOrigin","cssRulesLoop","getRulesSync","safeGetSheetRules","insertStyle","createSyncStyle","createElementNS","title","isLoadingRules","wasLoadingError","loadingLinkId","getRulesAsync","accessError","fullCSSText","getRulesOrError","isStillLoadingError","linkLoading","loadText","replaceCSSImports","createCORSCopy","details","secondRound","catch","forceRenderStyle","render","removeCSSRulesFromSheet","prepareOverridesSheet","buildOverrides","message","watchForSheetChanges","watchForSheetChangesUsingProxy","watchForSheetChangesUsingRAF","rulesChangeKey","rulesCheckFrameId","getRulesChangeKey","didRulesKeyChange","stopWatchingForSheetChangesUsingRAF","checkForUpdate","areSheetChangesPending","onSheetChange","handleSheetChanges","queueMicrotask","stopWatchingForSheetChangesUsingProxy","stopWatchingForSheetChanges","pause","destroy","watch","maxMoveCount","moveCount","link","loadingId","cleanUp","onLoad","onError","getCSSImportURL","importDeclaration","basePath","importMatches","importMatches_1","importMatches_1_1","importURL","absoluteURL","importedCSS","srcElement","cors","observedRoots","elementsDefinitionCallback","observers","undefinedGroups","collectUndefinedElements","tag","tagName","extendedTag","customElementsWhenDefined","elements","canOptimizeUsingProxy","resolvers","handleIsDefined","detail","customElements","whenDefined","dispatchEvent","CustomEvent","checkIfDefined_1","watchWhenCustomElementsDefined","unsubscribeFromDefineCustomElements","watchForStyleChanges","currentStyles","stopWatchingForStyleChanges","prevStyleSiblings","nextStyleSiblings","saveStylePosition","previousElementSibling","forgetStylePosition","didStylePositionChange","handleStyleOperations","operations","createdStyles","removedStyles","movedStyles","created","removed","moved","updated","handleMinorTreeMutations","subscribeForShadowRootChanges","handleHugeTreeMutations","styles","updatedStyles","hosts","newStyles","resetObservers","hexify","generateUID","crypto","uuid","randomUUID","getRandomValues","Uint8Array","adoptedStyleOverrides","overrideList","createAdoptedStyleSheetOverride","injectSheet","override","newSheets","adoptedStyleSheets","sheetIndex","existingIndex","adoptedStyleSheet","CSSStyleSheet","injectProxy","enableStyleSheetsProxy","addRuleDescriptor","getOwnPropertyDescriptor","insertRuleDescriptor","deleteRuleDescriptor","removeRuleDescriptor","documentStyleSheetsDescriptor","shouldWrapHTMLElement","getElementsByTagNameDescriptor","defineProperty","addUndefinedResolver","updateSheetEvent","Event","proxyAddRule","proxyInsertRule","returnValue","proxyDeleteRule","proxyRemoveRule","proxyDocumentStyleSheets","getCurrentValue","filteredSheets","item","setPrototypeOf","StyleSheetList","Proxy","proxyGetElementsByTagName","getCurrentElementValue","NodeList","Number","INSTANCE_ID","styleManagers","adoptedStyleManagers","fixes","isIFrame$1","ignoredImageAnalysisSelectors","ignoredInlineSelectors","createOrUpdateStyle","className","createOrUpdateScript","nodePositionWatchers","setupNodePositionWatcher","alias","stopStylePositionWatchers","watcher","createStaticStyleOverrides","fallbackStyle","userAgentStyle","textStyle","invertStyle","isArray","invert","inlineStyle","overrideStyle","replaceCSSTemplates","appendChild","variableStyle","selectionColors","schemeBackgroundColor","schemeTextColor","rootVarsStyle","proxyScript","append","disableStyleSheetsProxy","remove","shadowRootsWithOverrides","createShadowStaticStyleOverrides","$cssText","cleanFallbackStyle","createDynamicStyleOverrides","cancelRendering","newManagers","createManager","manager","loadingStyles","inlineStyleElements","handleAdoptedStyleSheets","loadingStylesCounter","loadingStyleId","didDocumentShowUp","removeManager","throttledRenderAllStyles","onDOMReady","documentVisibilityListener","hidden","watchForDocumentVisibility","alreadyWatching","stopWatchingForDocumentVisibility","createThemeAndWatchForUpdates","runDynamicStyle","watchForUpdates","newManger","stylesToRemove","stylesToManage","stylesToRestore","stopWatchingForUpdates","createDarkReaderInstanceMarker","metaElement","isAnotherDarkReaderInstanceActive","createOrUpdateDynamicTheme","filterConfig","dynamicThemeFixes","iframe","ignoreInlineStyle","headObserver_1","removeDynamicTheme","removeProxy","cleanDynamicThemeCache","blobRegex","replaceBlobs","promises","promise","banner","collectCSS","addStaticCSS","comment","staticStyle","modifiedCSS","formattedCSS","isDarkReaderEnabled","self","top","warn","enable","themeOptions","isEnabled","disable","matchMedia","store","handleColorScheme","auto","removeListener","exportGeneratedCSS","setFetchMethod","factory"],"sourceRoot":""}