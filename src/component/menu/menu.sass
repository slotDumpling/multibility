@import ../_mixins
@import ../_var

.main-menu.container
  @include absolute
  display: flex
  flex-direction: column
  main
    flex: 1
    overflow: hidden
    display: flex
    position: relative
    button.new-note
      position: fixed
      right: 20px
      bottom: calc(20px + $safe-bottom)

.side-menu
  transition: all 0.5s
  width: 300px
  height: 100%
  display: flex
  flex-direction: column
  border-right: $default-border
  background-color: #eee3
  footer
    border-top: $default-border
    padding: 10px
    padding-bottom: calc(10px + $safe-bottom)
    overflow: hidden
    display: flex
    > * + *
      margin-left: 10px

.main-menu.container .side-menu
  @media (max-width: 640px)
    display: none

.aside-drawer
  top: $header-low-height !important
  bottom: 0 !important
  height: auto !important
  @media (min-width: 640px)
    display: none

.tag-list
  flex: 1
  overflow: hidden auto
  padding: 20px
  .tag-wrapper
    overflow: hidden
    border-radius: 1em
    will-change: transform
    margin-bottom: 10px
    &.deleted
      margin-bottom: 0

.tag-item
  height: 3em
  padding: 0 20px
  display: flex
  align-items: center
  cursor: pointer
  transition: height $speed, background $speed
  &[data-editing="true"]
    height: 8em
    flex-direction: column
    justify-content: space-evenly
    background-color: #f1f0f5
    .buttons
      width: 100%
      display: flex
      justify-content: space-between
  &[data-curr="true"]
    background-color: #f1f0f5
  > .tag-circle
    margin-right: 10px
  .all-note-icon
    font-size: 12px
    margin-right: 10px
  .tag-name
    @include text-overflow
    flex: 1
    margin: 0 10px 0 0 !important
  .tag-num
    width: 24px
    text-align: center

.ant-select-selection-item, .ant-select-item-option-content
  display: flex
  align-items: center

.rc-virtual-list-scrollbar
  width: 4px !important
  right: 3px !important
  opacity: 0.5

.note-list
  flex: 1
  padding-bottom: calc(80px + $safe-bottom)
  overflow: hidden auto
  position: relative
  -webkit-transform: translateZ(0)
  .head-tools
    @include flex-center
    height: 60px
    background-color: #fff
    > * + *
      margin-left: 10px
    &[data-editing="true"]
      position: sticky
      top: 0
      z-index: 100
      border-bottom: $light-border
    .search-input
      width: 200px
      height: 32px
      background-color: #eee8
      border-radius: 50px
      &:focus-within
        background-color: #eee
    button
      transition-property: background
      background-color: #eee8
      &:hover
        background-color: #eee

$note-item-height: 5em
.note-wrapper:not(.deleting)
  &.enter
    height: 0
    opacity: 0
  &.enter-active
    height: $note-item-height
    opacity: 1
    transition: all $speed
  &.exit
    height: $note-item-height
    opacity: 1
  &.exit-active
    height: 0
    opacity: 0
    transition: all $speed

.note-wrapper.enter .page-wrapper
  display: none

.note-item
  height: $note-item-height
  padding: 0 1em
  margin: 0 20px
  display: flex
  align-items: center
  cursor: pointer
  position: relative
  border-bottom: $light-border
  .timg-wrapper
    @include flex-center
    width: 4em
    height: 4em
    position: relative
    margin-right: 1em
    .page-wrapper
      border: $light-border
      background-color: white
      @media (prefers-color-scheme: dark)
        border: none
    &[data-landscape=true] .page-wrapper svg
      width: 4em
    &[data-landscape=false] .page-wrapper svg
      height: 4em
    .cloud-icon
      position: absolute
      bottom: 0
      left: 0
      font-size: 20px
    .checked-icon
      @include absolute-center
      font-size: 20px
      opacity: 0
      color: $blue-color
      background: radial-gradient(#fff 50%, #0000 0)
      transition: opacity $fast-speed
  .content
    flex: 1
    padding: 5px
    overflow: hidden
    .name
      @include text-overflow
      margin: 1px 0 1px 6px
      font-size: 1.2em
    .name-input
      font-size: 1.2em
      padding: 0 0 0 5px
      background-color: #0000
      border-color: #eee
    .date
      @include text-overflow
      margin-left: 6px
      color: #0005
  &::before
    @include pseudo-el(0, -20px, -1px, -20px)
    transition: background $fast-speed
  &[data-selected="true"]
    &::before
      background-color: $blue-color-light
    .page-wrapper, .cloud-icon
      filter: blur(2px)
      opacity: 0.5
    .checked-icon
      opacity: 1
    .name-input
      border-color: #0000

.tag-select
  display: flex
  align-items: center
  max-width: 150px
  .tag-circle
    margin-right: 10px
  .none-tag-icon
    margin-right: 8px
  .name
    @include text-overflow
    flex: 1

.sort-drop ul
  margin: 0
