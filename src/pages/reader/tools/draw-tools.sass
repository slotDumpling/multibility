@import ../../../sass/_mixins
@import ../../../sass/_var

.tool-options
  @include back-blur
  padding: 5px
  box-shadow: $shadow-1
  border: $dark-border
  display: flex

.select-tool
  position: absolute
  $tf: translate(-50%, -120%)
  left: min(calc(100% - 100px), max(var(--pos-x), 100px))
  top: min(calc(100%), max(var(--pos-y), 50px))
  border-radius: 50px
  transform: $tf
  transition-property: transform, opacity, visibility
  transition-duration: $fast-speed

  &[data-visible=false]
    transform: $tf scale(0)
    opacity: 0
    visibility: hidden
    .style-pop
      display: none

.raster-modal
  .ant-modal-confirm-content
    @include flex-center
    // override antd modal content margin
    margin: 20px 0 0 0 !important
  .raster
    max-height: 50vh
    max-width: 100%
    border: $default-border

.text-tool
  --real-width: calc(var(--width) * var(--scale))
  --real-height: calc(var(--height) * var(--scale))
  .textarea-wrapper
    position: absolute
    left: var(--pos-x)
    top: var(--pos-y)
    width: var(--real-width)
    height: var(--real-height)
    transform: translate(-50%, -50%) rotate(var(--rotation))
    &::before
      @include pseudo-el
      min-width: calc(3em * var(--scale))
      z-index: -1
      outline: 2px dashed $blue-color
      outline-offset: 5px
    &:focus-within::before
      outline-style: solid

    textarea
      width: calc(var(--width) + 1em)
      min-width: 4em
      height: calc(var(--height) + 0.2em)
      transform-origin: top left
      transform: scale(var(--scale)) translateY(var(--offset))
      font-weight: inherit
      font-style: inherit
      line-height: inherit
      color: #0000
      caret-color: var(--color)
      padding: 0
      border: none
      resize: none
      outline: none
      background: none
      user-select: auto

    &[data-slow=true]
      &::before
        background-color: #fff
        box-shadow: 0 0 0 5px #fff
      textarea
        color: var(--color)

  .text-options
    flex-direction: column
    border-radius: 10px
    position: absolute
    left: min(calc(100% - 180px), var(--pos-x))
    top: var(--pos-y)
    transform: translate(-7px, -120%)
    > .row
      display: flex
      justify-content: space-between
    > * + *
      margin-top: 10px
    &[data-bottom=true]
      transform: translate(-7px, 20%)

.font-color-drop
  width: 200px
  padding: 10px
  background-color: white
  border-radius: 5px
